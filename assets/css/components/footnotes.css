/* Footnotes component
/* ---------------------------------------------------------- */

/* Tooltip reference in text */
.tooltip-ref {
  display: inline;
  cursor: pointer;
  position: relative;
}

.tooltip-ref:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
  border-radius: 2px;
}

.tooltip-title {
  color: var(--color-accent);
  text-decoration: underline;
  text-decoration-style: dotted;
  text-underline-offset: 0.2em;
  transition: var(--transition-default);
}

.tooltip-ref:hover .tooltip-title,
.tooltip-ref:focus .tooltip-title,
.tooltip-ref.is-active .tooltip-title {
  text-decoration-style: solid;
}

html.theme-dark .tooltip-title {
  color: var(--color-accent);
}

html.theme-light .tooltip-title {
  color: var(--color-accent);
}

/* Popover */
.tooltip-popover {
  position: absolute;
  z-index: 1000;
  max-width: 32rem;
  min-width: 20rem;
  padding: 1.6rem;
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-dark-grey);
  border-radius: var(--radius-medium);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  opacity: 0;
  transform: translateY(-0.5rem) scale(0.95);
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease;
  font-family: var(--font-sans-serif);
  font-size: clamp(1.4rem, 1.314rem + 0.143vw, 1.5rem);
  line-height: 1.6;
  color: var(--color-text-primary);
}

.tooltip-popover.is-active {
  opacity: 1;
  transform: translateY(0) scale(1);
  pointer-events: auto;
}

.tooltip-popover.is-above {
  transform: translateY(0.5rem) scale(0.95);
}

.tooltip-popover.is-above.is-active {
  transform: translateY(0) scale(1);
}

/* Support for HTML content in popover */
.tooltip-popover p {
  margin: 0;
  color: var(--color-text-primary);
}

.tooltip-popover p:not(:last-child) {
  margin-bottom: 1rem;
}

.tooltip-popover br {
  display: block;
  content: "";
  margin-top: 0.5em;
}

.tooltip-popover strong,
.tooltip-popover b {
  font-weight: var(--font-bold);
  color: var(--color-text-primary);
}

.tooltip-popover em,
.tooltip-popover i {
  font-style: italic;
}

.tooltip-popover a {
  color: var(--color-accent);
  text-decoration: underline;
}

.tooltip-popover a:hover {
  opacity: 0.8;
}

.tooltip-popover ul,
.tooltip-popover ol {
  margin: 0.5em 0;
  padding-left: 1.5em;
}

.tooltip-popover li {
  margin: 0.25em 0;
}

html.theme-dark .tooltip-popover {
  border-color: var(--color-light-grey);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

html.theme-light .tooltip-popover {
  border-color: var(--color-dark-grey);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Responsive */
@media (max-width: 768px) {
  .tooltip-popover {
    max-width: calc(100vw - 4rem);
    min-width: 28rem;
    font-size: 1.4rem;
    padding: 1.4rem;
  }
}

@media (max-width: 480px) {
  .tooltip-popover {
    max-width: calc(100vw - 2rem);
    min-width: auto;
  }
}
