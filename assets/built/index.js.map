{"version":3,"file":"index.js","sources":["../js/modules/theme.js","../js/modules/utils.js","../js/modules/navigation.js","../../node_modules/@tryghost/content-api/es/content-api.js","../../node_modules/lazysizes/lazysizes.js","../../node_modules/fuse.js/dist/fuse.mjs","../js/youtube-search.js","../js/modules/search.js","../js/modules/announcement-processor.js","../../node_modules/tocbot/src/js/build-html.js","../../node_modules/tocbot/src/js/default-options.js","../../node_modules/tocbot/src/js/parse-content.js","../../node_modules/tocbot/src/js/scroll-smooth/index.js","../../node_modules/tocbot/src/js/index-esm.js","../../node_modules/tocbot/src/js/update-toc-scroll.js","../../node_modules/tocbot/index.js","../../node_modules/baguettebox.js/dist/baguetteBox.min.js","../../node_modules/title-case/dist.es2015/index.js","../js/modules/title-case.js","../js/modules/symbols.js","../js/modules/cards.js","../js/modules/infinite-scroll.js","../js/modules/footnotes.js","../js/index.js","../js/modules/toc.js","../js/modules/lightbox.js","../js/modules/color-processor.js","../js/modules/reveal-answer.js","../js/modules/toggle.js","../js/modules/quote-author.js","../js/modules/content-snippets.js","../js/modules/content-cleanup.js"],"sourcesContent":["import { setCookie, getCookie } from './utils.js';\n\nexport function setTheme(theme) {\n  if (theme === 'dark') {\n    document.documentElement.classList.remove('theme-light');\n    document.documentElement.classList.add('theme-dark');\n  } else {\n    document.documentElement.classList.remove('theme-dark');\n    document.documentElement.classList.add('theme-light');\n  }\n  setCookie('theme', theme);\n}\n\nexport function getCurrentTheme() {\n  return document.documentElement.classList.contains('theme-dark') ? 'dark' : 'light';\n}\n\nexport function handleThemeToggle() {\n  const themeToggles = document.querySelectorAll('.theme-toggle');\n  if (!themeToggles || themeToggles.length === 0) return;\n\n  themeToggles.forEach((toggleEl) => {\n    toggleEl.addEventListener('click', () => {\n      const currentTheme = getCurrentTheme();\n      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n\n      // Add transition animation class\n      toggleEl.classList.add('theme-transitioning');\n\n      // Remove animation class after animation completes\n      setTimeout(() => {\n        toggleEl.classList.remove('theme-transitioning');\n      }, 600);\n\n      setTheme(newTheme);\n    });\n  });\n}\n\nexport function initTheme() {\n  // Check for saved theme preference or default to light\n  const savedTheme = getCookie('theme') || 'light';\n  setTheme(savedTheme);\n}\n\n","// Utility functions for cookie management\nexport function setCookie(name, value, days = 365) {\n  const expires = new Date();\n  expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));\n  document.cookie = `${name}=${value};expires=${expires.toUTCString()};path=/`;\n}\n\nexport function getCookie(name) {\n  const nameEQ = name + \"=\";\n  const ca = document.cookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) === ' ') c = c.substring(1, c.length);\n    if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n  }\n  return null;\n}\n\n","// Initialize active navigation\nexport function initActiveNavigation() {\n  const currentPath = window.location.pathname;\n  const sidebarLinks = document.querySelectorAll('.sidebar-list-primary__link');\n  \n  // Remove active class from all items\n  document.querySelectorAll('.sidebar-list-primary__item').forEach(item => {\n    item.classList.remove('active');\n  });\n  \n  // Check each link and add active class to the corresponding item\n  sidebarLinks.forEach(link => {\n    const href = link.getAttribute('href');\n    const listItem = link.closest('.sidebar-list-primary__item');\n    \n    // Skip if href is empty or just '#'\n    if (!href || href === '#') return;\n    \n    // Check if current path matches the link\n    if (isPathActive(currentPath, href)) {\n      listItem.classList.add('active');\n    }\n  });\n}\n\nfunction isPathActive(currentPath, linkPath) {\n  // Exact match\n  if (currentPath === linkPath) {\n    return true;\n  }\n  \n  // Special case for home page\n  if (currentPath === '/' && linkPath === '/') {\n    return true;\n  }\n  \n  // If link is a parent path and current path starts with it\n  // e.g., /articles matches /articles/some-post\n  if (linkPath !== '/' && currentPath.startsWith(linkPath + '/')) {\n    return true;\n  }\n  \n  return false;\n}\n\n// Initialize secondary dropdown\nexport function initSecondaryDropdown() {\n  const logoGroups = document.querySelectorAll('.logo-dropdown');\n  if (!logoGroups.length) return;\n\n  function hideAllDropdowns() {\n    logoGroups.forEach((group) => {\n      const dropdown = group.querySelector('.dropdown-secondary');\n      if (dropdown) dropdown.classList.remove('show');\n      group.classList.remove('active');\n    });\n  }\n\n  function toggleForGroup(group) {\n    const dropdown = group.querySelector('.dropdown-secondary');\n    if (!dropdown) return;\n    const isVisible = dropdown.classList.contains('show');\n    // Close others first\n    hideAllDropdowns();\n    if (!isVisible) {\n      dropdown.classList.add('show');\n      group.classList.add('active');\n    }\n  }\n\n  logoGroups.forEach((group) => {\n    const dropdown = group.querySelector('.dropdown-secondary');\n    if (!dropdown) return;\n\n    group.addEventListener('click', (event) => {\n      event.stopPropagation();\n      toggleForGroup(group);\n    });\n\n    dropdown.addEventListener('click', (event) => {\n      event.stopPropagation();\n    });\n  });\n\n  document.addEventListener('click', (event) => {\n    // If click is outside all groups/dropdowns, close all\n    const clickedInsideSomeGroup = Array.from(logoGroups).some((group) => group.contains(event.target));\n    if (!clickedInsideSomeGroup) {\n      hideAllDropdowns();\n    }\n  });\n}\n\n// Mobile Sidebar toggle\nexport function initMobileSidebar() {\n  const sidebar = document.querySelector('.sidebar');\n  const menuButton = document.querySelector('.header-menu-button');\n  if (!sidebar || !menuButton) return;\n\n  const openIcon = menuButton.querySelector('.header-menu-icon--open');\n  const closeIcon = menuButton.querySelector('.header-menu-icon--close');\n  let isOpen = false;\n\n  // Ensure initial icon state\n  if (openIcon) openIcon.style.display = 'block';\n  if (closeIcon) closeIcon.style.display = 'none';\n\n  function swapIcons(open) {\n    if (openIcon) openIcon.style.display = open ? 'none' : 'block';\n    if (closeIcon) closeIcon.style.display = open ? 'block' : 'none';\n  }\n\n  function toggleSidebar() {\n    isOpen = !isOpen;\n    sidebar.classList.toggle('show', isOpen);\n    document.body.classList.toggle('sidebar-open', isOpen);\n    swapIcons(isOpen);\n  }\n\n  menuButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    toggleSidebar();\n  });\n\n  // Close sidebar when clicking outside\n  document.addEventListener('click', (e) => {\n    if (isOpen && !sidebar.contains(e.target) && !menuButton.contains(e.target)) {\n      toggleSidebar();\n    }\n  });\n\n  // Close sidebar on escape key\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape' && isOpen) {\n      toggleSidebar();\n    }\n  });\n}\n\n","function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nvar utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n// eslint-disable-next-line strict\nvar httpAdapter = null;\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (utils$1.isBoolean(value)) {\n      return value.toString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nvar InterceptorManager$1 = InterceptorManager;\n\nvar transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nvar URLSearchParams$1 = typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n\nvar FormData$1 = typeof FormData !== 'undefined' ? FormData : null;\n\nvar Blob$1 = typeof Blob !== 'undefined' ? Blob : null;\n\nvar platform$1 = {\n  isBrowser: true,\n  classes: {\n    URLSearchParams: URLSearchParams$1,\n    FormData: FormData$1,\n    Blob: Blob$1\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nvar utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nvar platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nvar defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nvar parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isObject(header) && utils$1.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils$1.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils$1.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nvar AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nvar isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nvar cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nvar resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nvar xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nvar composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nvar fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request, fetchOptions);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nvar adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst VERSION = \"1.10.0\";\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nvar validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) ; else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nvar Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nvar CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nvar HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\n// this module should only have a default export\nvar axios$1 = axios;\n\nvar name$1 = \"@tryghost/content-api\";\nvar version = \"1.12.0\";\nvar repository = {\n\ttype: \"git\",\n\turl: \"git+https://github.com/TryGhost/SDK.git\",\n\tdirectory: \"packages/content-api\"\n};\nvar author = \"Ghost Foundation\";\nvar license = \"MIT\";\nvar main = \"cjs/content-api.js\";\nvar unpkg = \"umd/content-api.min.js\";\nvar module = \"es/content-api.js\";\nvar source = \"lib/content-api.js\";\nvar files = [\n\t\"LICENSE\",\n\t\"README.md\",\n\t\"cjs/\",\n\t\"lib/\",\n\t\"umd/\",\n\t\"es/\"\n];\nvar scripts = {\n\tdev: \"echo \\\"Implement me!\\\"\",\n\tpretest: \"yarn build\",\n\ttest: \"NODE_ENV=testing c8 --all --reporter text --reporter cobertura mocha './test/**/*.test.js'\",\n\tbuild: \"rollup -c\",\n\tlint: \"eslint . --ext .js --cache\",\n\tprepare: \"NODE_ENV=production yarn build\",\n\tposttest: \"yarn lint\"\n};\nvar publishConfig = {\n\taccess: \"public\"\n};\nvar devDependencies = {\n\t\"@babel/core\": \"7.27.7\",\n\t\"@babel/polyfill\": \"7.12.1\",\n\t\"@babel/preset-env\": \"7.27.2\",\n\t\"@rollup/plugin-json\": \"6.1.0\",\n\tc8: \"10.1.3\",\n\t\"core-js\": \"3.43.0\",\n\t\"eslint-plugin-ghost\": \"3.4.3\",\n\tmocha: \"11.2.2\",\n\trollup: \"2.79.2\",\n\t\"rollup-plugin-babel\": \"4.4.0\",\n\t\"rollup-plugin-commonjs\": \"10.1.0\",\n\t\"rollup-plugin-node-resolve\": \"5.2.0\",\n\t\"rollup-plugin-polyfill-node\": \"0.12.0\",\n\t\"rollup-plugin-replace\": \"2.2.0\",\n\t\"rollup-plugin-terser\": \"7.0.2\",\n\tshould: \"13.2.3\",\n\tsinon: \"21.0.0\"\n};\nvar dependencies = {\n\taxios: \"^1.0.0\"\n};\nvar gitHead = \"860707f032864400017b0f176cbabf181f99b764\";\nvar packageInfo = {\n\tname: name$1,\n\tversion: version,\n\trepository: repository,\n\tauthor: author,\n\tlicense: license,\n\tmain: main,\n\t\"umd:main\": \"umd/content-api.min.js\",\n\tunpkg: unpkg,\n\tmodule: module,\n\tsource: source,\n\tfiles: files,\n\tscripts: scripts,\n\tpublishConfig: publishConfig,\n\tdevDependencies: devDependencies,\n\tdependencies: dependencies,\n\tgitHead: gitHead\n};\n\n// @NOTE: this value is dynamically replaced based on browser/node environment\nconst USER_AGENT_DEFAULT = false;\nconst packageVersion = packageInfo.version;\nconst defaultAcceptVersionHeader = 'v6.0';\nconst supportedVersions = ['v2', 'v3', 'v4', 'v5', 'v6', 'canary'];\nconst name = '@tryghost/content-api';\n\n/**\n * This method can go away in favor of only sending 'Accept-Version` headers\n * once the Ghost API removes a concept of version from it's URLS (with Ghost v5)\n *\n * @param {string} [version] version in `v{major}` format\n * @returns {string}\n */\nconst resolveAPIPrefix = version => {\n  let prefix;\n\n  // Only v2, v3, v4, and canary need version prefixes in the URL\n  if (version === 'v2' || version === 'v3' || version === 'v4' || version === 'canary') {\n    prefix = `/${version}/content/`;\n  } else if (version && version.match(/^v[2-4]\\.\\d+/)) {\n    const versionPrefix = /^(v[2-4])\\.\\d+/.exec(version)[1];\n    prefix = `/${versionPrefix}/content/`;\n  } else {\n    // Default for v5, v6, undefined, etc. - no version prefix\n    prefix = `/content/`;\n  }\n  return prefix;\n};\nconst defaultMakeRequest = ({\n  url,\n  method,\n  params,\n  headers\n}) => {\n  return axios$1[method](url, {\n    params,\n    paramsSerializer: parameters => {\n      return Object.keys(parameters).reduce((parts, k) => {\n        const val = encodeURIComponent([].concat(parameters[k]).join(','));\n        return parts.concat(`${k}=${val}`);\n      }, []).join('&');\n    },\n    headers\n  });\n};\n\n/**\n *\n * @param {Object} options\n * @param {String} options.url\n * @param {String} options.key\n * @param {String} [options.ghostPath]\n * @param {String|Boolean} options.version - a version string like v3, v4, v5 or boolean value identifying presence of Accept-Version header\n * @param {String|Boolean} [options.userAgent] - value controlling the 'User-Agent' header should be sent with a request\n * @param {Function} [options.makeRequest]\n * @param {String} [options.host] Deprecated\n */\nfunction GhostContentAPI({\n  url,\n  key,\n  host,\n  version,\n  userAgent,\n  ghostPath = 'ghost',\n  makeRequest = defaultMakeRequest\n}) {\n  /**\n   * host parameter is deprecated\n   * @deprecated use \"url\" instead\n   */\n  if (host) {\n    // eslint-disable-next-line\n    console.warn(`${name}: The 'host' parameter is deprecated, please use 'url' instead`);\n    if (!url) {\n      url = host;\n    }\n  }\n  if (this instanceof GhostContentAPI) {\n    return GhostContentAPI({\n      url,\n      key,\n      version,\n      userAgent,\n      ghostPath,\n      makeRequest\n    });\n  }\n  if (version === undefined) {\n    throw new Error(`${name} Config Missing: 'version' is required. E.g. ${supportedVersions.join(',')}`);\n  }\n  let acceptVersionHeader;\n  if (typeof version === 'boolean') {\n    if (version === true) {\n      acceptVersionHeader = defaultAcceptVersionHeader;\n    }\n    version = undefined;\n  } else if (version && !supportedVersions.includes(version) && !version.match(/^v\\d+\\.\\d+/)) {\n    throw new Error(`${name} Config Invalid: 'version' ${version} is not supported`);\n  } else {\n    if (version === 'canary') {\n      // eslint-disable-next-line\n      console.warn(`${name}: The 'version' parameter has a deprecated format 'canary', please use 'v{major}.{minor}' format instead`);\n      acceptVersionHeader = defaultAcceptVersionHeader;\n    } else if (version.match(/^v\\d+$/)) {\n      // eslint-disable-next-line\n      console.warn(`${name}: The 'version' parameter has a deprecated format 'v{major}', please use 'v{major}.{minor}' format instead`);\n      acceptVersionHeader = `${version}.0`;\n    } else {\n      acceptVersionHeader = version;\n    }\n  }\n  if (!url) {\n    throw new Error(`${name} Config Missing: 'url' is required. E.g. 'https://site.com'`);\n  }\n  if (!/https?:\\/\\//.test(url)) {\n    throw new Error(`${name} Config Invalid: 'url' ${url} requires a protocol. E.g. 'https://site.com'`);\n  }\n  if (url.endsWith('/')) {\n    throw new Error(`${name} Config Invalid: 'url' ${url} must not have a trailing slash. E.g. 'https://site.com'`);\n  }\n  if (ghostPath.endsWith('/') || ghostPath.startsWith('/')) {\n    throw new Error(`${name} Config Invalid: 'ghostPath' ${ghostPath} must not have a leading or trailing slash. E.g. 'ghost'`);\n  }\n  if (key && !/[0-9a-f]{26}/.test(key)) {\n    throw new Error(`${name} Config Invalid: 'key' ${key} must have 26 hex characters`);\n  }\n  if (userAgent === undefined) {\n    userAgent = USER_AGENT_DEFAULT;\n  }\n  const api = ['posts', 'authors', 'tags', 'pages', 'settings', 'tiers', 'newsletters', 'offers'].reduce((apiObject, resourceType) => {\n    function browse(options = {}, memberToken) {\n      return makeApiRequest(resourceType, options, null, memberToken);\n    }\n    function read(data, options = {}, memberToken) {\n      if (!data || !data.id && !data.slug) {\n        return Promise.reject(new Error(`${name} read requires an id or slug.`));\n      }\n      const params = Object.assign({}, data, options);\n      return makeApiRequest(resourceType, params, data.id || `slug/${data.slug}`, memberToken);\n    }\n    return Object.assign(apiObject, {\n      [resourceType]: {\n        read,\n        browse\n      }\n    });\n  }, {});\n\n  // Settings, tiers & newsletters only have browse methods, offers only has read\n  delete api.settings.read;\n  delete api.tiers.read;\n  delete api.newsletters.read;\n  delete api.offers.browse;\n  return api;\n  function makeApiRequest(resourceType, params, id, membersToken = null) {\n    if (!membersToken && !key) {\n      return Promise.reject(new Error(`${name} Config Missing: 'key' is required.`));\n    }\n    delete params.id;\n    const headers = membersToken ? {\n      Authorization: `GhostMembers ${membersToken}`\n    } : {};\n    if (userAgent) {\n      if (typeof userAgent === 'boolean') {\n        headers['User-Agent'] = `GhostContentSDK/${packageVersion}`;\n      } else {\n        headers['User-Agent'] = userAgent;\n      }\n    }\n    if (acceptVersionHeader) {\n      headers['Accept-Version'] = acceptVersionHeader;\n    }\n    params = Object.assign({\n      key\n    }, params);\n    const apiUrl = `${url}/${ghostPath}/api${resolveAPIPrefix(version)}${resourceType}/${id ? id + '/' : ''}`;\n    return makeRequest({\n      url: apiUrl,\n      method: 'get',\n      params,\n      headers\n    }).then(res => {\n      if (!Array.isArray(res.data[resourceType])) {\n        return res.data[resourceType];\n      }\n      if (res.data[resourceType].length === 1 && !res.data.meta) {\n        return res.data[resourceType][0];\n      }\n      return Object.assign(res.data[resourceType], {\n        meta: res.data.meta\n      });\n    }).catch(err => {\n      if (err.response && err.response.data && err.response.data.errors) {\n        const props = err.response.data.errors[0];\n        const toThrow = new Error(props.message);\n        const keys = Object.keys(props);\n        toThrow.name = props.type;\n        keys.forEach(k => {\n          toThrow[k] = props[k];\n        });\n        toThrow.response = err.response;\n\n        // @TODO: remove in 2.0. We have enhanced the error handling, but we don't want to break existing implementations.\n        toThrow.request = err.request;\n        toThrow.config = err.config;\n        throw toThrow;\n      } else {\n        throw err;\n      }\n    });\n  }\n}\n\nexport { GhostContentAPI as default };\n//# sourceMappingURL=content-api.js.map\n","(function(window, factory) {\n\tvar lazySizes = factory(window, window.document, Date);\n\twindow.lazySizes = lazySizes;\n\tif(typeof module == 'object' && module.exports){\n\t\tmodule.exports = lazySizes;\n\t}\n}(typeof window != 'undefined' ?\n      window : {}, \n/**\n * import(\"./types/global\")\n * @typedef { import(\"./types/lazysizes-config\").LazySizesConfigPartial } LazySizesConfigPartial\n */\nfunction l(window, document, Date) { // Pass in the window Date function also for SSR because the Date class can be lost\n\t'use strict';\n\t/*jshint eqnull:true */\n\n\tvar lazysizes,\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tlazySizesCfg;\n\n\t(function(){\n\t\tvar prop;\n\n\t\tvar lazySizesDefaults = {\n\t\t\tlazyClass: 'lazyload',\n\t\t\tloadedClass: 'lazyloaded',\n\t\t\tloadingClass: 'lazyloading',\n\t\t\tpreloadClass: 'lazypreload',\n\t\t\terrorClass: 'lazyerror',\n\t\t\t//strictClass: 'lazystrict',\n\t\t\tautosizesClass: 'lazyautosizes',\n\t\t\tfastLoadedClass: 'ls-is-cached',\n\t\t\tiframeLoadMode: 0,\n\t\t\tsrcAttr: 'data-src',\n\t\t\tsrcsetAttr: 'data-srcset',\n\t\t\tsizesAttr: 'data-sizes',\n\t\t\t//preloadAfterLoad: false,\n\t\t\tminSize: 40,\n\t\t\tcustomMedia: {},\n\t\t\tinit: true,\n\t\t\texpFactor: 1.5,\n\t\t\thFac: 0.8,\n\t\t\tloadMode: 2,\n\t\t\tloadHidden: true,\n\t\t\tricTimeout: 0,\n\t\t\tthrottleDelay: 125,\n\t\t};\n\n\t\tlazySizesCfg = window.lazySizesConfig || window.lazysizesConfig || {};\n\n\t\tfor(prop in lazySizesDefaults){\n\t\t\tif(!(prop in lazySizesCfg)){\n\t\t\t\tlazySizesCfg[prop] = lazySizesDefaults[prop];\n\t\t\t}\n\t\t}\n\t})();\n\n\tif (!document || !document.getElementsByClassName) {\n\t\treturn {\n\t\t\tinit: function () {},\n\t\t\t/**\n\t\t\t * @type { LazySizesConfigPartial }\n\t\t\t */\n\t\t\tcfg: lazySizesCfg,\n\t\t\t/**\n\t\t\t * @type { true }\n\t\t\t */\n\t\t\tnoSupport: true,\n\t\t};\n\t}\n\n\tvar docElem = document.documentElement;\n\n\tvar supportPicture = window.HTMLPictureElement;\n\n\tvar _addEventListener = 'addEventListener';\n\n\tvar _getAttribute = 'getAttribute';\n\n\t/**\n\t * Update to bind to window because 'this' becomes null during SSR\n\t * builds.\n\t */\n\tvar addEventListener = window[_addEventListener].bind(window);\n\n\tvar setTimeout = window.setTimeout;\n\n\tvar requestAnimationFrame = window.requestAnimationFrame || setTimeout;\n\n\tvar requestIdleCallback = window.requestIdleCallback;\n\n\tvar regPicture = /^picture$/i;\n\n\tvar loadEvents = ['load', 'error', 'lazyincluded', '_lazyloaded'];\n\n\tvar regClassCache = {};\n\n\tvar forEach = Array.prototype.forEach;\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar hasClass = function(ele, cls) {\n\t\tif(!regClassCache[cls]){\n\t\t\tregClassCache[cls] = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n\t\t}\n\t\treturn regClassCache[cls].test(ele[_getAttribute]('class') || '') && regClassCache[cls];\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar addClass = function(ele, cls) {\n\t\tif (!hasClass(ele, cls)){\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').trim() + ' ' + cls);\n\t\t}\n\t};\n\n\t/**\n\t * @param ele {Element}\n\t * @param cls {string}\n\t */\n\tvar removeClass = function(ele, cls) {\n\t\tvar reg;\n\t\tif ((reg = hasClass(ele,cls))) {\n\t\t\tele.setAttribute('class', (ele[_getAttribute]('class') || '').replace(reg, ' '));\n\t\t}\n\t};\n\n\tvar addRemoveLoadEvents = function(dom, fn, add){\n\t\tvar action = add ? _addEventListener : 'removeEventListener';\n\t\tif(add){\n\t\t\taddRemoveLoadEvents(dom, fn);\n\t\t}\n\t\tloadEvents.forEach(function(evt){\n\t\t\tdom[action](evt, fn);\n\t\t});\n\t};\n\n\t/**\n\t * @param elem { Element }\n\t * @param name { string }\n\t * @param detail { any }\n\t * @param noBubbles { boolean }\n\t * @param noCancelable { boolean }\n\t * @returns { CustomEvent }\n\t */\n\tvar triggerEvent = function(elem, name, detail, noBubbles, noCancelable){\n\t\tvar event = document.createEvent('Event');\n\n\t\tif(!detail){\n\t\t\tdetail = {};\n\t\t}\n\n\t\tdetail.instance = lazysizes;\n\n\t\tevent.initEvent(name, !noBubbles, !noCancelable);\n\n\t\tevent.detail = detail;\n\n\t\telem.dispatchEvent(event);\n\t\treturn event;\n\t};\n\n\tvar updatePolyfill = function (el, full){\n\t\tvar polyfill;\n\t\tif( !supportPicture && ( polyfill = (window.picturefill || lazySizesCfg.pf) ) ){\n\t\t\tif(full && full.src && !el[_getAttribute]('srcset')){\n\t\t\t\tel.setAttribute('srcset', full.src);\n\t\t\t}\n\t\t\tpolyfill({reevaluate: true, elements: [el]});\n\t\t} else if(full && full.src){\n\t\t\tel.src = full.src;\n\t\t}\n\t};\n\n\tvar getCSS = function (elem, style){\n\t\treturn (getComputedStyle(elem, null) || {})[style];\n\t};\n\n\t/**\n\t *\n\t * @param elem { Element }\n\t * @param parent { Element }\n\t * @param [width] {number}\n\t * @returns {number}\n\t */\n\tvar getWidth = function(elem, parent, width){\n\t\twidth = width || elem.offsetWidth;\n\n\t\twhile(width < lazySizesCfg.minSize && parent && !elem._lazysizesWidth){\n\t\t\twidth =  parent.offsetWidth;\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\treturn width;\n\t};\n\n\tvar rAF = (function(){\n\t\tvar running, waiting;\n\t\tvar firstFns = [];\n\t\tvar secondFns = [];\n\t\tvar fns = firstFns;\n\n\t\tvar run = function(){\n\t\t\tvar runFns = fns;\n\n\t\t\tfns = firstFns.length ? secondFns : firstFns;\n\n\t\t\trunning = true;\n\t\t\twaiting = false;\n\n\t\t\twhile(runFns.length){\n\t\t\t\trunFns.shift()();\n\t\t\t}\n\n\t\t\trunning = false;\n\t\t};\n\n\t\tvar rafBatch = function(fn, queue){\n\t\t\tif(running && !queue){\n\t\t\t\tfn.apply(this, arguments);\n\t\t\t} else {\n\t\t\t\tfns.push(fn);\n\n\t\t\t\tif(!waiting){\n\t\t\t\t\twaiting = true;\n\t\t\t\t\t(document.hidden ? setTimeout : requestAnimationFrame)(run);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trafBatch._lsFlush = run;\n\n\t\treturn rafBatch;\n\t})();\n\n\tvar rAFIt = function(fn, simple){\n\t\treturn simple ?\n\t\t\tfunction() {\n\t\t\t\trAF(fn);\n\t\t\t} :\n\t\t\tfunction(){\n\t\t\t\tvar that = this;\n\t\t\t\tvar args = arguments;\n\t\t\t\trAF(function(){\n\t\t\t\t\tfn.apply(that, args);\n\t\t\t\t});\n\t\t\t}\n\t\t;\n\t};\n\n\tvar throttle = function(fn){\n\t\tvar running;\n\t\tvar lastTime = 0;\n\t\tvar gDelay = lazySizesCfg.throttleDelay;\n\t\tvar rICTimeout = lazySizesCfg.ricTimeout;\n\t\tvar run = function(){\n\t\t\trunning = false;\n\t\t\tlastTime = Date.now();\n\t\t\tfn();\n\t\t};\n\t\tvar idleCallback = requestIdleCallback && rICTimeout > 49 ?\n\t\t\tfunction(){\n\t\t\t\trequestIdleCallback(run, {timeout: rICTimeout});\n\n\t\t\t\tif(rICTimeout !== lazySizesCfg.ricTimeout){\n\t\t\t\t\trICTimeout = lazySizesCfg.ricTimeout;\n\t\t\t\t}\n\t\t\t} :\n\t\t\trAFIt(function(){\n\t\t\t\tsetTimeout(run);\n\t\t\t}, true)\n\t\t;\n\n\t\treturn function(isPriority){\n\t\t\tvar delay;\n\n\t\t\tif((isPriority = isPriority === true)){\n\t\t\t\trICTimeout = 33;\n\t\t\t}\n\n\t\t\tif(running){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\trunning =  true;\n\n\t\t\tdelay = gDelay - (Date.now() - lastTime);\n\n\t\t\tif(delay < 0){\n\t\t\t\tdelay = 0;\n\t\t\t}\n\n\t\t\tif(isPriority || delay < 9){\n\t\t\t\tidleCallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(idleCallback, delay);\n\t\t\t}\n\t\t};\n\t};\n\n\t//based on http://modernjavascript.blogspot.de/2013/08/building-better-debounce.html\n\tvar debounce = function(func) {\n\t\tvar timeout, timestamp;\n\t\tvar wait = 99;\n\t\tvar run = function(){\n\t\t\ttimeout = null;\n\t\t\tfunc();\n\t\t};\n\t\tvar later = function() {\n\t\t\tvar last = Date.now() - timestamp;\n\n\t\t\tif (last < wait) {\n\t\t\t\tsetTimeout(later, wait - last);\n\t\t\t} else {\n\t\t\t\t(requestIdleCallback || run)(run);\n\t\t\t}\n\t\t};\n\n\t\treturn function() {\n\t\t\ttimestamp = Date.now();\n\n\t\t\tif (!timeout) {\n\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t}\n\t\t};\n\t};\n\n\tvar loader = (function(){\n\t\tvar preloadElems, isCompleted, resetPreloadingTimer, loadMode, started;\n\n\t\tvar eLvW, elvH, eLtop, eLleft, eLright, eLbottom, isBodyHidden;\n\n\t\tvar regImg = /^img$/i;\n\t\tvar regIframe = /^iframe$/i;\n\n\t\tvar supportScroll = ('onscroll' in window) && !(/(gle|ing)bot/.test(navigator.userAgent));\n\n\t\tvar shrinkExpand = 0;\n\t\tvar currentExpand = 0;\n\n\t\tvar isLoading = 0;\n\t\tvar lowRuns = -1;\n\n\t\tvar resetPreloading = function(e){\n\t\t\tisLoading--;\n\t\t\tif(!e || isLoading < 0 || !e.target){\n\t\t\t\tisLoading = 0;\n\t\t\t}\n\t\t};\n\n\t\tvar isVisible = function (elem) {\n\t\t\tif (isBodyHidden == null) {\n\t\t\t\tisBodyHidden = getCSS(document.body, 'visibility') == 'hidden';\n\t\t\t}\n\n\t\t\treturn isBodyHidden || !(getCSS(elem.parentNode, 'visibility') == 'hidden' && getCSS(elem, 'visibility') == 'hidden');\n\t\t};\n\n\t\tvar isNestedVisible = function(elem, elemExpand){\n\t\t\tvar outerRect;\n\t\t\tvar parent = elem;\n\t\t\tvar visible = isVisible(elem);\n\n\t\t\teLtop -= elemExpand;\n\t\t\teLbottom += elemExpand;\n\t\t\teLleft -= elemExpand;\n\t\t\teLright += elemExpand;\n\n\t\t\twhile(visible && (parent = parent.offsetParent) && parent != document.body && parent != docElem){\n\t\t\t\tvisible = ((getCSS(parent, 'opacity') || 1) > 0);\n\n\t\t\t\tif(visible && getCSS(parent, 'overflow') != 'visible'){\n\t\t\t\t\touterRect = parent.getBoundingClientRect();\n\t\t\t\t\tvisible = eLright > outerRect.left &&\n\t\t\t\t\t\teLleft < outerRect.right &&\n\t\t\t\t\t\teLbottom > outerRect.top - 1 &&\n\t\t\t\t\t\teLtop < outerRect.bottom + 1\n\t\t\t\t\t;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn visible;\n\t\t};\n\n\t\tvar checkElements = function() {\n\t\t\tvar eLlen, i, rect, autoLoadElem, loadedSomething, elemExpand, elemNegativeExpand, elemExpandVal,\n\t\t\t\tbeforeExpandVal, defaultExpand, preloadExpand, hFac;\n\t\t\tvar lazyloadElems = lazysizes.elements;\n\n\t\t\tif((loadMode = lazySizesCfg.loadMode) && isLoading < 8 && (eLlen = lazyloadElems.length)){\n\n\t\t\t\ti = 0;\n\n\t\t\t\tlowRuns++;\n\n\t\t\t\tfor(; i < eLlen; i++){\n\n\t\t\t\t\tif(!lazyloadElems[i] || lazyloadElems[i]._lazyRace){continue;}\n\n\t\t\t\t\tif(!supportScroll || (lazysizes.prematureUnveil && lazysizes.prematureUnveil(lazyloadElems[i]))){unveilElement(lazyloadElems[i]);continue;}\n\n\t\t\t\t\tif(!(elemExpandVal = lazyloadElems[i][_getAttribute]('data-expand')) || !(elemExpand = elemExpandVal * 1)){\n\t\t\t\t\t\telemExpand = currentExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!defaultExpand) {\n\t\t\t\t\t\tdefaultExpand = (!lazySizesCfg.expand || lazySizesCfg.expand < 1) ?\n\t\t\t\t\t\t\tdocElem.clientHeight > 500 && docElem.clientWidth > 500 ? 500 : 370 :\n\t\t\t\t\t\t\tlazySizesCfg.expand;\n\n\t\t\t\t\t\tlazysizes._defEx = defaultExpand;\n\n\t\t\t\t\t\tpreloadExpand = defaultExpand * lazySizesCfg.expFactor;\n\t\t\t\t\t\thFac = lazySizesCfg.hFac;\n\t\t\t\t\t\tisBodyHidden = null;\n\n\t\t\t\t\t\tif(currentExpand < preloadExpand && isLoading < 1 && lowRuns > 2 && loadMode > 2 && !document.hidden){\n\t\t\t\t\t\t\tcurrentExpand = preloadExpand;\n\t\t\t\t\t\t\tlowRuns = 0;\n\t\t\t\t\t\t} else if(loadMode > 1 && lowRuns > 1 && isLoading < 6){\n\t\t\t\t\t\t\tcurrentExpand = defaultExpand;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentExpand = shrinkExpand;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(beforeExpandVal !== elemExpand){\n\t\t\t\t\t\teLvW = innerWidth + (elemExpand * hFac);\n\t\t\t\t\t\telvH = innerHeight + elemExpand;\n\t\t\t\t\t\telemNegativeExpand = elemExpand * -1;\n\t\t\t\t\t\tbeforeExpandVal = elemExpand;\n\t\t\t\t\t}\n\n\t\t\t\t\trect = lazyloadElems[i].getBoundingClientRect();\n\n\t\t\t\t\tif ((eLbottom = rect.bottom) >= elemNegativeExpand &&\n\t\t\t\t\t\t(eLtop = rect.top) <= elvH &&\n\t\t\t\t\t\t(eLright = rect.right) >= elemNegativeExpand * hFac &&\n\t\t\t\t\t\t(eLleft = rect.left) <= eLvW &&\n\t\t\t\t\t\t(eLbottom || eLright || eLleft || eLtop) &&\n\t\t\t\t\t\t(lazySizesCfg.loadHidden || isVisible(lazyloadElems[i])) &&\n\t\t\t\t\t\t((isCompleted && isLoading < 3 && !elemExpandVal && (loadMode < 3 || lowRuns < 4)) || isNestedVisible(lazyloadElems[i], elemExpand))){\n\t\t\t\t\t\tunveilElement(lazyloadElems[i]);\n\t\t\t\t\t\tloadedSomething = true;\n\t\t\t\t\t\tif(isLoading > 9){break;}\n\t\t\t\t\t} else if(!loadedSomething && isCompleted && !autoLoadElem &&\n\t\t\t\t\t\tisLoading < 4 && lowRuns < 4 && loadMode > 2 &&\n\t\t\t\t\t\t(preloadElems[0] || lazySizesCfg.preloadAfterLoad) &&\n\t\t\t\t\t\t(preloadElems[0] || (!elemExpandVal && ((eLbottom || eLright || eLleft || eLtop) || lazyloadElems[i][_getAttribute](lazySizesCfg.sizesAttr) != 'auto')))){\n\t\t\t\t\t\tautoLoadElem = preloadElems[0] || lazyloadElems[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(autoLoadElem && !loadedSomething){\n\t\t\t\t\tunveilElement(autoLoadElem);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar throttledCheckElements = throttle(checkElements);\n\n\t\tvar switchLoadingClass = function(e){\n\t\t\tvar elem = e.target;\n\n\t\t\tif (elem._lazyCache) {\n\t\t\t\tdelete elem._lazyCache;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tresetPreloading(e);\n\t\t\taddClass(elem, lazySizesCfg.loadedClass);\n\t\t\tremoveClass(elem, lazySizesCfg.loadingClass);\n\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass);\n\t\t\ttriggerEvent(elem, 'lazyloaded');\n\t\t};\n\t\tvar rafedSwitchLoadingClass = rAFIt(switchLoadingClass);\n\t\tvar rafSwitchLoadingClass = function(e){\n\t\t\trafedSwitchLoadingClass({target: e.target});\n\t\t};\n\n\t\tvar changeIframeSrc = function(elem, src){\n\t\t\tvar loadMode = elem.getAttribute('data-load-mode') || lazySizesCfg.iframeLoadMode;\n\n\t\t\t// loadMode can be also a string!\n\t\t\tif (loadMode == 0) {\n\t\t\t\telem.contentWindow.location.replace(src);\n\t\t\t} else if (loadMode == 1) {\n\t\t\t\telem.src = src;\n\t\t\t}\n\t\t};\n\n\t\tvar handleSources = function(source){\n\t\t\tvar customMedia;\n\n\t\t\tvar sourceSrcset = source[_getAttribute](lazySizesCfg.srcsetAttr);\n\n\t\t\tif( (customMedia = lazySizesCfg.customMedia[source[_getAttribute]('data-media') || source[_getAttribute]('media')]) ){\n\t\t\t\tsource.setAttribute('media', customMedia);\n\t\t\t}\n\n\t\t\tif(sourceSrcset){\n\t\t\t\tsource.setAttribute('srcset', sourceSrcset);\n\t\t\t}\n\t\t};\n\n\t\tvar lazyUnveil = rAFIt(function (elem, detail, isAuto, sizes, isImg){\n\t\t\tvar src, srcset, parent, isPicture, event, firesLoad;\n\n\t\t\tif(!(event = triggerEvent(elem, 'lazybeforeunveil', detail)).defaultPrevented){\n\n\t\t\t\tif(sizes){\n\t\t\t\t\tif(isAuto){\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.autosizesClass);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.setAttribute('sizes', sizes);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsrcset = elem[_getAttribute](lazySizesCfg.srcsetAttr);\n\t\t\t\tsrc = elem[_getAttribute](lazySizesCfg.srcAttr);\n\n\t\t\t\tif(isImg) {\n\t\t\t\t\tparent = elem.parentNode;\n\t\t\t\t\tisPicture = parent && regPicture.test(parent.nodeName || '');\n\t\t\t\t}\n\n\t\t\t\tfiresLoad = detail.firesLoad || (('src' in elem) && (srcset || src || isPicture));\n\n\t\t\t\tevent = {target: elem};\n\n\t\t\t\taddClass(elem, lazySizesCfg.loadingClass);\n\n\t\t\t\tif(firesLoad){\n\t\t\t\t\tclearTimeout(resetPreloadingTimer);\n\t\t\t\t\tresetPreloadingTimer = setTimeout(resetPreloading, 2500);\n\t\t\t\t\taddRemoveLoadEvents(elem, rafSwitchLoadingClass, true);\n\t\t\t\t}\n\n\t\t\t\tif(isPicture){\n\t\t\t\t\tforEach.call(parent.getElementsByTagName('source'), handleSources);\n\t\t\t\t}\n\n\t\t\t\tif(srcset){\n\t\t\t\t\telem.setAttribute('srcset', srcset);\n\t\t\t\t} else if(src && !isPicture){\n\t\t\t\t\tif(regIframe.test(elem.nodeName)){\n\t\t\t\t\t\tchangeIframeSrc(elem, src);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telem.src = src;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(isImg && (srcset || isPicture)){\n\t\t\t\t\tupdatePolyfill(elem, {src: src});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(elem._lazyRace){\n\t\t\t\tdelete elem._lazyRace;\n\t\t\t}\n\t\t\tremoveClass(elem, lazySizesCfg.lazyClass);\n\n\t\t\trAF(function(){\n\t\t\t\t// Part of this can be removed as soon as this fix is older: https://bugs.chromium.org/p/chromium/issues/detail?id=7731 (2015)\n\t\t\t\tvar isLoaded = elem.complete && elem.naturalWidth > 1;\n\n\t\t\t\tif( !firesLoad || isLoaded){\n\t\t\t\t\tif (isLoaded) {\n\t\t\t\t\t\taddClass(elem, lazySizesCfg.fastLoadedClass);\n\t\t\t\t\t}\n\t\t\t\t\tswitchLoadingClass(event);\n\t\t\t\t\telem._lazyCache = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tif ('_lazyCache' in elem) {\n\t\t\t\t\t\t\tdelete elem._lazyCache;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 9);\n\t\t\t\t}\n\t\t\t\tif (elem.loading == 'lazy') {\n\t\t\t\t\tisLoading--;\n\t\t\t\t}\n\t\t\t}, true);\n\t\t});\n\n\t\t/**\n\t\t *\n\t\t * @param elem { Element }\n\t\t */\n\t\tvar unveilElement = function (elem){\n\t\t\tif (elem._lazyRace) {return;}\n\t\t\tvar detail;\n\n\t\t\tvar isImg = regImg.test(elem.nodeName);\n\n\t\t\t//allow using sizes=\"auto\", but don't use. it's invalid. Use data-sizes=\"auto\" or a valid value for sizes instead (i.e.: sizes=\"80vw\")\n\t\t\tvar sizes = isImg && (elem[_getAttribute](lazySizesCfg.sizesAttr) || elem[_getAttribute]('sizes'));\n\t\t\tvar isAuto = sizes == 'auto';\n\n\t\t\tif( (isAuto || !isCompleted) && isImg && (elem[_getAttribute]('src') || elem.srcset) && !elem.complete && !hasClass(elem, lazySizesCfg.errorClass) && hasClass(elem, lazySizesCfg.lazyClass)){return;}\n\n\t\t\tdetail = triggerEvent(elem, 'lazyunveilread').detail;\n\n\t\t\tif(isAuto){\n\t\t\t\t autoSizer.updateElem(elem, true, elem.offsetWidth);\n\t\t\t}\n\n\t\t\telem._lazyRace = true;\n\t\t\tisLoading++;\n\n\t\t\tlazyUnveil(elem, detail, isAuto, sizes, isImg);\n\t\t};\n\n\t\tvar afterScroll = debounce(function(){\n\t\t\tlazySizesCfg.loadMode = 3;\n\t\t\tthrottledCheckElements();\n\t\t});\n\n\t\tvar altLoadmodeScrollListner = function(){\n\t\t\tif(lazySizesCfg.loadMode == 3){\n\t\t\t\tlazySizesCfg.loadMode = 2;\n\t\t\t}\n\t\t\tafterScroll();\n\t\t};\n\n\t\tvar onload = function(){\n\t\t\tif(isCompleted){return;}\n\t\t\tif(Date.now() - started < 999){\n\t\t\t\tsetTimeout(onload, 999);\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\tisCompleted = true;\n\n\t\t\tlazySizesCfg.loadMode = 3;\n\n\t\t\tthrottledCheckElements();\n\n\t\t\taddEventListener('scroll', altLoadmodeScrollListner, true);\n\t\t};\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tstarted = Date.now();\n\n\t\t\t\tlazysizes.elements = document.getElementsByClassName(lazySizesCfg.lazyClass);\n\t\t\t\tpreloadElems = document.getElementsByClassName(lazySizesCfg.lazyClass + ' ' + lazySizesCfg.preloadClass);\n\n\t\t\t\taddEventListener('scroll', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('resize', throttledCheckElements, true);\n\n\t\t\t\taddEventListener('pageshow', function (e) {\n\t\t\t\t\tif (e.persisted) {\n\t\t\t\t\t\tvar loadingElements = document.querySelectorAll('.' + lazySizesCfg.loadingClass);\n\n\t\t\t\t\t\tif (loadingElements.length && loadingElements.forEach) {\n\t\t\t\t\t\t\trequestAnimationFrame(function () {\n\t\t\t\t\t\t\t\tloadingElements.forEach( function (img) {\n\t\t\t\t\t\t\t\t\tif (img.complete) {\n\t\t\t\t\t\t\t\t\t\tunveilElement(img);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(window.MutationObserver){\n\t\t\t\t\tnew MutationObserver( throttledCheckElements ).observe( docElem, {childList: true, subtree: true, attributes: true} );\n\t\t\t\t} else {\n\t\t\t\t\tdocElem[_addEventListener]('DOMNodeInserted', throttledCheckElements, true);\n\t\t\t\t\tdocElem[_addEventListener]('DOMAttrModified', throttledCheckElements, true);\n\t\t\t\t\tsetInterval(throttledCheckElements, 999);\n\t\t\t\t}\n\n\t\t\t\taddEventListener('hashchange', throttledCheckElements, true);\n\n\t\t\t\t//, 'fullscreenchange'\n\t\t\t\t['focus', 'mouseover', 'click', 'load', 'transitionend', 'animationend'].forEach(function(name){\n\t\t\t\t\tdocument[_addEventListener](name, throttledCheckElements, true);\n\t\t\t\t});\n\n\t\t\t\tif((/d$|^c/.test(document.readyState))){\n\t\t\t\t\tonload();\n\t\t\t\t} else {\n\t\t\t\t\taddEventListener('load', onload);\n\t\t\t\t\tdocument[_addEventListener]('DOMContentLoaded', throttledCheckElements);\n\t\t\t\t\tsetTimeout(onload, 20000);\n\t\t\t\t}\n\n\t\t\t\tif(lazysizes.elements.length){\n\t\t\t\t\tcheckElements();\n\t\t\t\t\trAF._lsFlush();\n\t\t\t\t} else {\n\t\t\t\t\tthrottledCheckElements();\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckElems: throttledCheckElements,\n\t\t\tunveil: unveilElement,\n\t\t\t_aLSL: altLoadmodeScrollListner,\n\t\t};\n\t})();\n\n\n\tvar autoSizer = (function(){\n\t\tvar autosizesElems;\n\n\t\tvar sizeElement = rAFIt(function(elem, parent, event, width){\n\t\t\tvar sources, i, len;\n\t\t\telem._lazysizesWidth = width;\n\t\t\twidth += 'px';\n\n\t\t\telem.setAttribute('sizes', width);\n\n\t\t\tif(regPicture.test(parent.nodeName || '')){\n\t\t\t\tsources = parent.getElementsByTagName('source');\n\t\t\t\tfor(i = 0, len = sources.length; i < len; i++){\n\t\t\t\t\tsources[i].setAttribute('sizes', width);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!event.detail.dataAttr){\n\t\t\t\tupdatePolyfill(elem, event.detail);\n\t\t\t}\n\t\t});\n\t\t/**\n\t\t *\n\t\t * @param elem {Element}\n\t\t * @param dataAttr\n\t\t * @param [width] { number }\n\t\t */\n\t\tvar getSizeElement = function (elem, dataAttr, width){\n\t\t\tvar event;\n\t\t\tvar parent = elem.parentNode;\n\n\t\t\tif(parent){\n\t\t\t\twidth = getWidth(elem, parent, width);\n\t\t\t\tevent = triggerEvent(elem, 'lazybeforesizes', {width: width, dataAttr: !!dataAttr});\n\n\t\t\t\tif(!event.defaultPrevented){\n\t\t\t\t\twidth = event.detail.width;\n\n\t\t\t\t\tif(width && width !== elem._lazysizesWidth){\n\t\t\t\t\t\tsizeElement(elem, parent, event, width);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar updateElementsSizes = function(){\n\t\t\tvar i;\n\t\t\tvar len = autosizesElems.length;\n\t\t\tif(len){\n\t\t\t\ti = 0;\n\n\t\t\t\tfor(; i < len; i++){\n\t\t\t\t\tgetSizeElement(autosizesElems[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar debouncedUpdateElementsSizes = debounce(updateElementsSizes);\n\n\t\treturn {\n\t\t\t_: function(){\n\t\t\t\tautosizesElems = document.getElementsByClassName(lazySizesCfg.autosizesClass);\n\t\t\t\taddEventListener('resize', debouncedUpdateElementsSizes);\n\t\t\t},\n\t\t\tcheckElems: debouncedUpdateElementsSizes,\n\t\t\tupdateElem: getSizeElement\n\t\t};\n\t})();\n\n\tvar init = function(){\n\t\tif(!init.i && document.getElementsByClassName){\n\t\t\tinit.i = true;\n\t\t\tautoSizer._();\n\t\t\tloader._();\n\t\t}\n\t};\n\n\tsetTimeout(function(){\n\t\tif(lazySizesCfg.init){\n\t\t\tinit();\n\t\t}\n\t});\n\n\tlazysizes = {\n\t\t/**\n\t\t * @type { LazySizesConfigPartial }\n\t\t */\n\t\tcfg: lazySizesCfg,\n\t\tautoSizer: autoSizer,\n\t\tloader: loader,\n\t\tinit: init,\n\t\tuP: updatePolyfill,\n\t\taC: addClass,\n\t\trC: removeClass,\n\t\thC: hasClass,\n\t\tfire: triggerEvent,\n\t\tgW: getWidth,\n\t\trAF: rAF,\n\t};\n\n\treturn lazysizes;\n}\n));\n","/**\n * Fuse.js v7.1.0 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2025 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When `true`, the algorithm will ignore diacritics (accents) in comparisons\n  ignoreDiacritics: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nconst stripDiacritics = String.prototype.normalize\n    ? ((str) => str.normalize('NFD').replace(/[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F]/g, ''))\n    : ((str) => str);\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreDiacritics,\n      ignoreLocation\n    };\n\n    pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n    this.pattern = pattern;\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, ignoreDiacritics, includeMatches } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n    text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreDiacritics,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreDiacritics = Config.ignoreDiacritics,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      ignoreDiacritics,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    pattern = ignoreDiacritics ? stripDiacritics(pattern) : pattern;\n    this.pattern = pattern;\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive, ignoreDiacritics } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n    text = ignoreDiacritics ? stripDiacritics(text) : text;\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '7.1.0';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nexport { Fuse as default };\n","// YouTube Search Module\n// Searches videos from channel playlists\n\nclass YouTubeSearch {\n  constructor() {\n    this.apiKey = null;\n    this.channelId = null;\n    this.isInitialized = false;\n    this.allPlaylists = [];\n    this.allVideos = [];\n    this.videosLoaded = false;\n  }\n\n  async init(apiKey, channelId) {\n    if (!apiKey || !channelId) {\n      console.warn('YouTube API key or channel ID not provided');\n      return;\n    }\n\n    if (apiKey.includes('{{') || apiKey === 'undefined' || \n        channelId.includes('{{') || channelId === 'undefined') {\n      console.warn('YouTube API key or channel ID not configured');\n      return;\n    }\n\n    this.apiKey = apiKey;\n    this.channelId = channelId;\n    this.isInitialized = true;\n    \n    // Preload playlists and videos for faster search\n    await this.loadAllVideos();\n  }\n\n  async loadAllVideos() {\n    if (!this.isInitialized) return;\n    \n    try {\n      // Load all playlists\n      const playlistsUrl = `https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&channelId=${this.channelId}&maxResults=50&key=${this.apiKey}`;\n      const playlistsResponse = await fetch(playlistsUrl);\n      const playlistsData = await playlistsResponse.json();\n      \n      if (playlistsData.error || !playlistsData.items) {\n        console.error('Failed to load playlists:', playlistsData.error);\n        return;\n      }\n\n      this.allPlaylists = playlistsData.items\n        .map(pl => ({\n          id: pl.id,\n          title: pl.snippet.title\n        }))\n        .filter(pl => pl.title.toLowerCase() !== 'shorts');\n\n      // Load videos from all playlists in parallel\n      const videoPromises = this.allPlaylists.map(playlist => \n        this.loadPlaylistVideos(playlist.id, playlist.title)\n      );\n      \n      const videosArrays = await Promise.all(videoPromises);\n      this.allVideos = videosArrays.flat();\n      this.videosLoaded = true;\n    } catch (error) {\n      console.error('Failed to load YouTube videos:', error);\n    }\n  }\n\n  async loadPlaylistVideos(playlistId, playlistTitle) {\n    try {\n      let allVideos = [];\n      let pageToken = null;\n      \n      do {\n        const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails,status&maxResults=50&playlistId=${playlistId}&key=${this.apiKey}${pageToken ? `&pageToken=${pageToken}` : ''}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        \n        if (data.error || !data.items) break;\n        \n        const videos = data.items\n          .filter(item => {\n            const title = item.snippet?.title || '';\n            if (!title || title === 'Deleted video' || title === 'Private video' || title === 'This video is unavailable') {\n              return false;\n            }\n            if (item.status?.privacyStatus) {\n              return item.status.privacyStatus === 'public';\n            }\n            return true;\n          })\n          .map(item => ({\n            id: item.contentDetails?.videoId || item.snippet?.resourceId?.videoId,\n            title: item.snippet.title,\n            description: item.snippet.description || '',\n            publishedAt: item.snippet.publishedAt,\n            playlistTitle: playlistTitle,\n            thumbnail: item.snippet.thumbnails?.maxres?.url || \n                       item.snippet.thumbnails?.standard?.url || \n                       item.snippet.thumbnails?.high?.url || \n                       item.snippet.thumbnails?.medium?.url,\n            url: `https://www.youtube.com/watch?v=${item.contentDetails?.videoId || item.snippet?.resourceId?.videoId}`\n          }));\n        \n        allVideos = allVideos.concat(videos);\n        pageToken = data.nextPageToken || null;\n      } while (pageToken);\n      \n      return allVideos;\n    } catch (error) {\n      console.error(`Failed to load videos from playlist ${playlistId}:`, error);\n      return [];\n    }\n  }\n\n  async search(query, options = {}) {\n    if (!this.isInitialized) {\n      console.warn('YouTube search not initialized');\n      return [];\n    }\n\n    const {\n      maxResults = 10\n    } = options;\n\n    try {\n      // Wait for videos to load if not loaded yet\n      if (!this.videosLoaded) {\n        await this.loadAllVideos();\n      }\n\n      if (this.allVideos.length === 0) {\n        return [];\n      }\n\n      // Simple text search in video titles and descriptions\n      const queryLower = query.toLowerCase();\n      const matchingVideos = this.allVideos.filter(video => {\n        const titleMatch = video.title.toLowerCase().includes(queryLower);\n        const descMatch = video.description.toLowerCase().includes(queryLower);\n        return titleMatch || descMatch;\n      });\n\n      // Sort by relevance (title matches first, then by date)\n      matchingVideos.sort((a, b) => {\n        const aTitleMatch = a.title.toLowerCase().includes(queryLower);\n        const bTitleMatch = b.title.toLowerCase().includes(queryLower);\n        \n        if (aTitleMatch && !bTitleMatch) return -1;\n        if (!aTitleMatch && bTitleMatch) return 1;\n        \n        // If both match title or both don't, sort by date (newest first)\n        return new Date(b.publishedAt) - new Date(a.publishedAt);\n      });\n\n      // Limit results\n      return matchingVideos.slice(0, maxResults).map(video => ({\n        id: video.id,\n        title: video.title,\n        description: video.description,\n        thumbnail: video.thumbnail,\n        publishedAt: video.publishedAt,\n        playlistTitle: video.playlistTitle,\n        url: video.url,\n        type: 'youtube'\n      }));\n    } catch (error) {\n      console.error('YouTube search failed:', error);\n      return [];\n    }\n  }\n\n  formatResults(items) {\n    return items.map(item => ({\n      id: item.id.videoId,\n      title: item.snippet.title,\n      description: item.snippet.description,\n      thumbnail: item.snippet.thumbnails.medium?.url || item.snippet.thumbnails.default?.url,\n      channelTitle: item.snippet.channelTitle,\n      publishedAt: item.snippet.publishedAt,\n      url: `https://www.youtube.com/watch?v=${item.id.videoId}`,\n      type: 'youtube'\n    }));\n  }\n\n  renderSearchResult(video) {\n    const thumbnail = video.thumbnail ? \n      `<a href=\"${video.url}\" class=\"search-results-item__image\" target=\"_blank\" rel=\"noopener noreferrer\">\n        <img src=\"${video.thumbnail}\" alt=\"${video.title}\">\n      </a>` : '';\n\n    const playlistTag = video.playlistTitle ? \n      `<a href=\"${video.url}\" class=\"search-results-item__tag\" target=\"_blank\" rel=\"noopener noreferrer\">${video.playlistTitle}</a>` : '';\n\n    const date = new Date(video.publishedAt);\n    const dateStr = date.toLocaleDateString(undefined, { \n      month: 'short', \n      day: '2-digit', \n      year: 'numeric' \n    });\n\n    // Truncate description if too long\n    const description = video.description ? \n      (video.description.length > 150 ? video.description.substring(0, 150) + '...' : video.description) : '';\n\n    return `\n      <article class=\"search-results-item flex items-center\">\n        <div class=\"search-results-item__main flex direction-column\">\n          <div class=\"search-results-item__meta flex items-center\">\n            <span class=\"search-results-item__tag\">Video</span>\n            ${playlistTag}\n            <time datetime=\"${date.toISOString().split('T')[0]}\" class=\"search-results-item__date\">${dateStr}</time>\n          </div>\n          <h3 class=\"search-results-item__title\">\n            <a href=\"${video.url}\" target=\"_blank\" rel=\"noopener noreferrer\">${video.title}</a>\n          </h3>\n          ${description ? `<p class=\"search-results-item__description\">${description}</p>` : ''}\n        </div>\n        ${thumbnail}\n      </article>\n    `;\n  }\n}\n\n// Export for use in main search module\nexport default YouTubeSearch;\n","import GhostContentAPI from \"@tryghost/content-api\";\nimport Fuse from 'fuse.js';\nimport YouTubeSearch from '../youtube-search.js';\n\nclass GhostSearch {\n  constructor() {\n    this.api = null;\n    this.fuse = null;\n    this.deepFuse = null;\n    this.posts = [];\n    this.deepPosts = [];\n    this.isInitialized = false;\n    this.searchInput = null;\n    this.resultsContainer = null;\n    this.searchTimeout = null;\n    this.debounceDelay = 300;\n    this.youtubeSearch = new YouTubeSearch();\n    this.enableYouTube = false;\n    this.isDeep = false;\n    this.deepSwitch = null;\n  }\n\n  async init() {\n    // Get API configuration from the page\n    const searchContainer = document.querySelector('.search');\n    if (!searchContainer) return;\n\n    const apiUrl = window.location.origin;\n    const contentKey = searchContainer.getAttribute('data-content-key') || \n                      document.querySelector('[data-content-key]')?.getAttribute('data-content-key');\n    \n    if (!contentKey) {\n      console.warn('Content API key not found for search');\n      return;\n    }\n\n    this.api = new GhostContentAPI({\n      url: apiUrl,\n      key: contentKey,\n      version: 'v5.0'\n    });\n\n    this.searchInput = searchContainer.querySelector('.search-input');\n    this.resultsContainer = searchContainer.querySelector('.search-results__list');\n    this.resultsTitle = searchContainer.querySelector('.search-results__title');\n    this.deepSwitch = searchContainer.querySelector('.search-deep-switch');\n    \n    if (!this.searchInput || !this.resultsContainer) {\n      console.warn('Search input or results container not found');\n      return;\n    }\n\n    // Check for YouTube API key and channel ID\n    const youtubeApiKey = searchContainer.getAttribute('data-youtube-key');\n    const youtubeChannelId = searchContainer.getAttribute('data-youtube-channel-id');\n    if (youtubeApiKey && youtubeChannelId) {\n      await this.youtubeSearch.init(youtubeApiKey, youtubeChannelId);\n      this.enableYouTube = true;\n    }\n\n    this.setupEventListeners();\n\n    // Deep search is off by default; no persistence\n    this.isDeep = false;\n    if (this.deepSwitch) {\n      this.deepSwitch.classList.toggle('is-on', this.isDeep);\n    }\n    this.isInitialized = true;\n  }\n\n  setupEventListeners() {\n    // Search input with debounce\n    this.searchInput.addEventListener('input', (e) => {\n      clearTimeout(this.searchTimeout);\n      this.searchTimeout = setTimeout(() => {\n        this.performSearch(e.target.value.trim());\n      }, this.debounceDelay);\n    });\n\n\n    // Enter key in search input\n    this.searchInput.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        this.performSearch(this.searchInput.value.trim());\n      }\n    });\n\n    // Deep search toggle\n    const btn = document.querySelector('.search-deep-switch');\n    if (btn) {\n      btn.addEventListener('click', async (e) => {\n        e.preventDefault();\n        this.isDeep = !this.isDeep;\n        btn.classList.toggle('is-on', this.isDeep);\n        if (this.isDeep && !this.deepFuse) {\n          // Build deep index lazily\n          await this.initializeDeepFuse();\n        }\n\n        // Re-run current query if present\n        const q = this.searchInput.value.trim();\n        if (q.length >= 2) {\n          this.performSearch(q);\n        }\n      });\n    }\n  }\n\n  async loadPosts() {\n    if (this.posts.length > 0) return this.posts;\n\n    try {\n      const response = await this.api.posts.browse({\n        include: ['tags'],\n        limit: 'all',\n      });\n\n      this.posts = response || [];\n      return this.posts;\n    } catch (error) {\n      console.error('Failed to load posts for search:', error);\n      return [];\n    }\n  }\n\n  async loadDeepPosts() {\n    if (this.deepPosts.length > 0) return this.deepPosts;\n\n    try {\n      // Load plaintext lazily for deep search only\n      const response = await this.api.posts.browse({\n        include: ['tags'],\n        limit: 'all',\n        formats: ['plaintext']\n      });\n      // Ensure plaintext exists (fallback to empty string)\n      this.deepPosts = (response || []).map(p => ({\n        ...p,\n        plaintext: typeof p.plaintext === 'string' ? p.plaintext : ''\n      }));\n      return this.deepPosts;\n    } catch (error) {\n      console.error('Failed to load deep posts for search:', error);\n      return [];\n    }\n  }\n\n  async initializeFuse() {\n    if (this.fuse) return this.fuse;\n\n    const posts = await this.loadPosts();\n    if (posts.length === 0) return null;\n\n    this.fuse = new Fuse(posts, {\n      includeScore: true,\n      minMatchCharLength: 3,\n      threshold: 0.25,\n      ignoreLocation: true,\n      keys: [\n        { name: 'title', weight: 0.6 },\n        { name: 'custom_excerpt', weight: 0.3 },\n        { name: 'primary_tag.name', weight: 0.1 }\n      ]\n    });\n\n    return this.fuse;\n  }\n\n  async initializeDeepFuse() {\n    if (this.deepFuse) return this.deepFuse;\n\n    const posts = await this.loadDeepPosts();\n    if (posts.length === 0) return null;\n\n    this.deepFuse = new Fuse(posts, {\n      includeScore: true,\n      minMatchCharLength: 3,\n      // Make matches independent of their position in the text so tail matches are not penalized\n      ignoreLocation: true,\n      findAllMatches: true,\n      threshold: 0.25,\n      keys: [\n        { name: 'title', weight: 0.5 },\n        { name: 'custom_excerpt', weight: 0.2 },\n        { name: 'primary_tag.name', weight: 0.05 },\n        { name: 'plaintext', weight: 0.25 }\n      ]\n    });\n\n    return this.deepFuse;\n  }\n\n  async performSearch(query) {\n    if (!this.isInitialized) return;\n\n    if (!query || query.length < 2) {\n      this.showEmptyState();\n      return;\n    }\n\n    this.showLoadingState();\n\n    try {\n      if (this.enableYouTube) {\n        // Combined search with YouTube\n        await this.performCombinedSearch(query);\n      } else {\n        // Ghost posts only\n        const fuse = this.isDeep ? await this.initializeDeepFuse() : await this.initializeFuse();\n        if (!fuse) {\n          this.showErrorState();\n          return;\n        }\n\n        const results = fuse.search(query, { limit: 10 });\n        this.displayResults(results.map(result => result.item));\n      }\n    } catch (error) {\n      console.error('Search failed:', error);\n      this.showErrorState();\n    }\n  }\n\n  showLoadingState() {\n    this.showResults();\n    this.hideResultsTitle();\n    this.resultsContainer.innerHTML = `\n      <div class=\"search-loading\">\n        <div class=\"search-loading__spinner\"></div>\n        <p>Searching...</p>\n      </div>\n    `;\n  }\n\n  showEmptyState() {\n    this.hideResults();\n    this.hideResultsTitle();\n  }\n\n  showResults() {\n    const resultsContainer = document.querySelector('.search-results');\n    if (resultsContainer) {\n      resultsContainer.style.display = 'block';\n      // Trigger animation after a small delay to ensure display is set\n      setTimeout(() => {\n        resultsContainer.classList.add('show');\n      }, 10);\n    }\n  }\n\n  hideResults() {\n    const resultsContainer = document.querySelector('.search-results');\n    if (resultsContainer) {\n      resultsContainer.classList.remove('show');\n      // Hide after animation completes\n      setTimeout(() => {\n        resultsContainer.style.display = 'none';\n      }, 300);\n    }\n  }\n\n  showResultsTitle() {\n    if (this.resultsTitle) {\n      this.resultsTitle.style.display = 'block';\n    }\n  }\n\n  hideResultsTitle() {\n    if (this.resultsTitle) {\n      this.resultsTitle.style.display = 'none';\n    }\n  }\n\n  showErrorState() {\n    this.showResults();\n    this.hideResultsTitle();\n    this.resultsContainer.innerHTML = `\n      <div class=\"search-error\">\n        <p>Sorry, search is temporarily unavailable. Please try again later.</p>\n      </div>\n    `;\n  }\n\n  displayResults(posts) {\n    if (posts.length === 0) {\n      this.showResults();\n      this.hideResultsTitle();\n      this.resultsContainer.innerHTML = `\n        <div class=\"search-no-results\">\n          <p>No posts found matching your search.</p>\n        </div>\n      `;\n      return;\n    }\n\n    this.showResults();\n    this.showResultsTitle();\n    const html = posts.map(post => this.renderSearchResult(post)).join('');\n    this.resultsContainer.innerHTML = html;\n  }\n\n  renderSearchResult(post) {\n    const featureImage = post.feature_image ? \n      `<a href=\"${post.url}\" class=\"search-results-item__image\">\n        <img src=\"${post.feature_image}\" alt=\"${post.title}\">\n      </a>` : '';\n\n    const primaryTag = post.primary_tag ? \n      `<a href=\"${post.primary_tag.url}\" class=\"search-results-item__tag\">${post.primary_tag.name}</a>` : '';\n\n    const readingTime = post.reading_time ? \n      `<span class=\"search-results-item__reading-time\">${post.reading_time} min read</span>` : '';\n\n    const excerpt = post.custom_excerpt ? \n      `<p class=\"search-results-item__description\">${post.custom_excerpt}</p>` : '';\n\n    const date = new Date(post.published_at);\n    const dateStr = date.toLocaleDateString(undefined, { \n      month: 'short', \n      day: '2-digit', \n      year: 'numeric' \n    });\n\n    return `\n      <article class=\"search-results-item flex items-center\">\n        <div class=\"search-results-item__main flex direction-column\">\n          <div class=\"search-results-item__meta flex items-center\">\n            ${primaryTag}\n            <time datetime=\"${date.toISOString().split('T')[0]}\" class=\"search-results-item__date\">${dateStr}</time>\n            ${readingTime}\n          </div>\n          <h3 class=\"search-results-item__title\">\n            <a href=\"${post.url}\">${post.title}</a>\n          </h3>\n          ${excerpt}\n        </div>\n        ${featureImage}\n      </article>\n    `;\n  }\n\n  // Future method for YouTube integration\n  async searchYouTube(query) {\n    // Placeholder for future YouTube API integration\n    console.log('YouTube search not implemented yet:', query);\n    return [];\n  }\n\n  // Method to combine Ghost and YouTube results\n  async performCombinedSearch(query) {\n    try {\n      // Get Ghost posts\n      const fuse = await this.initializeFuse();\n      let ghostResults = [];\n      if (fuse) {\n        const fuseResults = fuse.search(query, { limit: 5 });\n        ghostResults = fuseResults.map(result => ({ ...result.item, type: 'ghost' }));\n      }\n\n      // Get YouTube videos\n      const youtubeResults = await this.youtubeSearch.search(query, { maxResults: 5 });\n      const formattedYoutubeResults = youtubeResults.map(video => ({ ...video, type: 'youtube' }));\n\n      // Combine and sort results by relevance\n      const allResults = [...ghostResults, ...formattedYoutubeResults];\n      \n      // Simple sorting: Ghost posts first, then YouTube videos\n      allResults.sort((a, b) => {\n        if (a.type === 'ghost' && b.type === 'youtube') return -1;\n        if (a.type === 'youtube' && b.type === 'ghost') return 1;\n        return 0;\n      });\n\n      this.displayCombinedResults(allResults);\n    } catch (error) {\n      console.error('Combined search failed:', error);\n      this.showErrorState();\n    }\n  }\n\n  displayCombinedResults(results) {\n    if (results.length === 0) {\n      this.showResults();\n      this.hideResultsTitle();\n      this.resultsContainer.innerHTML = `\n        <div class=\"search-no-results\">\n          <p>No posts or videos found matching your search.</p>\n        </div>\n      `;\n      return;\n    }\n\n    this.showResults();\n    this.showResultsTitle();\n    const html = results.map(item => {\n      if (item.type === 'youtube') {\n        return this.youtubeSearch.renderSearchResult(item);\n      } else {\n        return this.renderSearchResult(item);\n      }\n    }).join('');\n\n    this.resultsContainer.innerHTML = html;\n  }\n}\n\n// Initialize search when DOM is ready\nexport function initSearch() {\n  // Only initialize if search popup exists\n  const searchPopup = document.querySelector('.search');\n  if (!searchPopup) return;\n\n  const search = new GhostSearch();\n  search.init();\n}\n\n// Global search bar buttons -> open/close search popup\nexport function initSearchBarButton() {\n  const openBtn = document.querySelector('.js-search-open');\n  const closeBtn = document.querySelector('.js-search-close');\n  const searchPopup = document.querySelector('.search');\n  \n  if (!openBtn || !closeBtn || !searchPopup) return;\n\n  function openSearch() {\n    // Show popup\n    searchPopup.classList.add('show');\n    // Mark body for global styles\n    document.body.classList.add('search-popup-active');\n\n    // Focus input for immediate typing\n    const input = searchPopup.querySelector('.search-input');\n    if (input) {\n      try { input.focus(); } catch (e) {}\n    }\n  }\n\n  function closeSearch() {\n    // Hide popup\n    searchPopup.classList.remove('show');\n    // Remove body class\n    document.body.classList.remove('search-popup-active');\n  }\n\n  // Open search popup\n  openBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n    openSearch();\n  });\n\n  // Close search popup\n  closeBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n    closeSearch();\n  });\n\n  // Close search popup on Escape key\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape' && searchPopup.classList.contains('show')) {\n      closeSearch();\n    }\n  });\n}\n\n","// Announcement bar processor module\n// Processes color snippets in announcement bar: [[Green]] and {{color}}text{{/color}}\n\nexport function initAnnouncementProcessor() {\n  // Try to find announcement bar immediately\n  let announcementBar = findAnnouncementBar();\n  \n  if (announcementBar) {\n    processAnnouncementBar(announcementBar);\n  } else {\n    // If not found, use MutationObserver to watch for it being added\n    const observer = new MutationObserver((mutations) => {\n      const bar = findAnnouncementBar();\n      if (bar) {\n        processAnnouncementBar(bar);\n        observer.disconnect();\n      }\n    });\n\n    // Observe body for changes\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true\n    });\n\n    // Also check after a delay in case it's added asynchronously\n    setTimeout(() => {\n      const bar = findAnnouncementBar();\n      if (bar) {\n        processAnnouncementBar(bar);\n        observer.disconnect();\n      }\n    }, 500);\n  }\n}\n\nfunction findAnnouncementBar() {\n  // Try common Ghost announcement bar selectors\n  let announcementBar = document.querySelector('.gh-announcement, .gh-announcement-bar, [data-announcement], .announcement-bar, .gh-site-announcement');\n  \n  // Exclude if found inside .gh-content (post content)\n  if (announcementBar && announcementBar.closest('.gh-content')) {\n    announcementBar = null;\n  }\n  \n  if (!announcementBar) {\n    // Check body direct children (Ghost sometimes adds it there)\n    // But exclude .gh-content and its children\n    const contentElement = document.querySelector('.gh-content');\n    const bodyChildren = Array.from(document.body.children);\n    for (const child of bodyChildren) {\n      // Skip if it's the content element or contains it\n      if (child === contentElement || child.contains(contentElement)) {\n        continue;\n      }\n      const text = child.textContent || '';\n      if (text.includes('[[') || text.includes('{{color')) {\n        return child;\n      }\n    }\n  }\n\n  if (!announcementBar) {\n    // Check if there's a div right after body or in main\n    // But exclude .gh-content and its children\n    const contentElement = document.querySelector('.gh-content');\n    const possibleBars = document.querySelectorAll('body > div, main > div, .container-global > div');\n    for (const bar of possibleBars) {\n      // Skip if it's the content element or contains it, or is inside .gh-content\n      if (bar === contentElement || bar.contains(contentElement) || bar.closest('.gh-content')) {\n        continue;\n      }\n      const text = bar.textContent || '';\n      if (text.includes('[[') || text.includes('{{color')) {\n        return bar;\n      }\n    }\n  }\n\n  return announcementBar;\n}\n\nfunction processAnnouncementBar(bar) {\n  if (!bar) return;\n  \n  // Safety check: never process .gh-content or elements inside it\n  const contentElement = document.querySelector('.gh-content');\n  if (bar === contentElement || bar.contains(contentElement) || bar.closest('.gh-content')) {\n    console.warn('[Announcement Processor] Attempted to process .gh-content as announcement bar. Skipping.');\n    return;\n  }\n\n  // Get original HTML content\n  let html = bar.innerHTML || '';\n  const originalText = bar.textContent || '';\n\n  if (!originalText && !html) return;\n\n  // Color mapping\n  const colorMap = {\n    'green': {\n      hex: '#AAFBB2',\n      rgb: '170, 251, 178',\n      background: 'linear-gradient(0deg, rgba(170, 251, 178, 0.10) 0%, rgba(170, 251, 178, 0.10) 100%), #1E1E21'\n    },\n    'yellow': {\n      hex: '#F8D72B',\n      rgb: '248, 215, 43',\n      background: 'linear-gradient(0deg, rgba(248, 215, 43, 0.10) 0%, rgba(248, 215, 43, 0.10) 100%), #1E1E21'\n    }\n    // Can add more colors here in the future: red, blue, etc.\n  };\n\n  // Find color tag like [[Green]] in HTML\n  const colorTagRegex = /\\[\\[([^\\]]+)\\]\\]/;\n  const colorMatch = html.match(colorTagRegex) || originalText.match(colorTagRegex);\n  \n  let selectedColor = null;\n\n  if (colorMatch) {\n    const colorName = colorMatch[1].trim().toLowerCase();\n    if (colorMap[colorName]) {\n      selectedColor = colorMap[colorName];\n      \n      // Remove the color tag from HTML\n      html = html.replace(colorTagRegex, '');\n      \n      // Apply background color\n      bar.style.background = selectedColor.background;\n    }\n  }\n\n  // Set default text color to white\n  bar.style.color = '#FFFFFF';\n\n  // Process {{color}}text{{/color}} snippets\n  // This should use the selected color from [[Green]] or [[Yellow]] tag\n  if (selectedColor) {\n    // Match {{color}}text{{/color}} or {{color}}text{{color}}\n    const colorSnippetRegex = /\\{\\{color\\}\\}([\\s\\S]*?)\\{\\{\\/?color\\}\\}/g;\n    const matches = [...html.matchAll(colorSnippetRegex)];\n    \n    if (matches.length > 0) {\n      matches.forEach(match => {\n        const coloredText = match[1];\n        const fullMatch = match[0];\n        \n        // Replace with styled span with text styles\n        const styledText = `<span style=\"color: ${selectedColor.hex}; font-size: 12px; font-style: normal; font-weight: 500; line-height: 18px; letter-spacing: 0.17px;\">${coloredText}</span>`;\n        html = html.replace(fullMatch, styledText);\n      });\n      \n      bar.innerHTML = html;\n    } else {\n      // No color snippets, just ensure color tag is removed\n      if (html !== bar.innerHTML) {\n        bar.innerHTML = html;\n      }\n    }\n  } else {\n    // No color tag found, ensure HTML is set correctly\n    if (html && html !== bar.innerHTML) {\n      bar.innerHTML = html;\n    }\n  }\n\n  // Apply text styles to all spans inside announcement bar\n  const spans = bar.querySelectorAll('span');\n  spans.forEach(span => {\n    // Only apply styles if they're not already set (to preserve colored spans)\n    if (!span.style.color || span.style.color === 'rgb(255, 255, 255)' || span.style.color === '#ffffff' || span.style.color === '#FFFFFF') {\n      span.style.fontSize = '12px';\n      span.style.fontStyle = 'normal';\n      span.style.fontWeight = '500';\n      span.style.lineHeight = '18px';\n      span.style.letterSpacing = '0.17px';\n    } else {\n      // For colored spans, ensure other text styles are applied\n      if (!span.style.fontSize) span.style.fontSize = '12px';\n      if (!span.style.fontStyle) span.style.fontStyle = 'normal';\n      if (!span.style.fontWeight) span.style.fontWeight = '500';\n      if (!span.style.lineHeight) span.style.lineHeight = '18px';\n      if (!span.style.letterSpacing) span.style.letterSpacing = '0.17px';\n    }\n  });\n\n  // Also apply styles to direct text content and paragraphs\n  // Only apply to paragraphs that are direct children or descendants of the announcement bar\n  // and NOT inside .gh-content\n  const paragraphs = bar.querySelectorAll('p');\n  paragraphs.forEach(p => {\n    // Safety check: never style paragraphs inside .gh-content\n    if (p.closest('.gh-content')) {\n      return;\n    }\n    // Only style if paragraph is actually inside the announcement bar\n    if (bar.contains(p)) {\n      p.style.fontSize = '12px';\n      p.style.fontStyle = 'normal';\n      p.style.fontWeight = '500';\n      p.style.lineHeight = '18px';\n      p.style.letterSpacing = '0.17px';\n      p.style.color = '#FFFFFF';\n      p.style.margin = '0';\n    }\n  });\n}\n\n","/**\n * This file is responsible for building the DOM and updating DOM state.\n *\n * @author Tim Scanlin\n */\n\nexport default function (options) {\n  const forEach = [].forEach\n  const some = [].some\n  const body = typeof window !== \"undefined\" && document.body\n  const SPACE_CHAR = \" \"\n  let tocElement\n  let currentlyHighlighting = true\n  let eventCount = 0\n\n  /**\n   * Create link and list elements.\n   * @param {Object} d\n   * @param {HTMLElement} container\n   * @return {HTMLElement}\n   */\n  function createEl(d, container) {\n    const link = container.appendChild(createLink(d))\n    if (d.children.length) {\n      const list = createList(d.isCollapsed)\n      d.children.forEach((child) => {\n        createEl(child, list)\n      })\n      link.appendChild(list)\n    }\n  }\n\n  /**\n   * Render nested heading array data into a given element.\n   * @param {HTMLElement} parent Optional. If provided updates the {@see tocElement} to match.\n   * @param {Array} data\n   * @return {HTMLElement}\n   */\n  function render(parent, data) {\n    const collapsed = false\n    const container = createList(collapsed)\n\n    data.forEach((d) => {\n      createEl(d, container)\n    })\n\n    // Return if no TOC element is provided or known.\n    tocElement = parent || tocElement\n    if (tocElement === null) {\n      return\n    }\n\n    // Remove existing child if it exists.\n    if (tocElement.firstChild) {\n      tocElement.removeChild(tocElement.firstChild)\n    }\n\n    // Just return the parent and don't append the list if no links are found.\n    if (data.length === 0) {\n      return tocElement\n    }\n\n    // Append the Elements that have been created\n    return tocElement.appendChild(container)\n  }\n\n  /**\n   * Create link element.\n   * @param {Object} data\n   * @return {HTMLElement}\n   */\n  function createLink(data) {\n    const item = document.createElement(\"li\")\n    const a = document.createElement(\"a\")\n    if (options.listItemClass) {\n      item.setAttribute(\"class\", options.listItemClass)\n    }\n\n    if (options.onClick) {\n      a.onclick = options.onClick\n    }\n\n    if (options.includeTitleTags) {\n      a.setAttribute(\"title\", data.textContent)\n    }\n\n    if (options.includeHtml && data.childNodes.length) {\n      forEach.call(data.childNodes, (node) => {\n        a.appendChild(node.cloneNode(true))\n      })\n    } else {\n      // Default behavior. Set to textContent to keep tests happy.\n      a.textContent = data.textContent\n    }\n    a.setAttribute(\"href\", `${options.basePath}#${data.id}`)\n    a.setAttribute(\n      \"class\",\n      `${\n        options.linkClass + SPACE_CHAR\n      }node-name--${data.nodeName}${SPACE_CHAR}${options.extraLinkClasses}`,\n    )\n    item.appendChild(a)\n    return item\n  }\n\n  /**\n   * Create list element.\n   * @param {Boolean} isCollapsed\n   * @return {HTMLElement}\n   */\n  function createList(isCollapsed) {\n    const listElement = options.orderedList ? \"ol\" : \"ul\"\n    const list = document.createElement(listElement)\n    let classes = options.listClass + SPACE_CHAR + options.extraListClasses\n    if (isCollapsed) {\n      // No plus/equals here fixes compilation issue.\n      classes = classes + SPACE_CHAR + options.collapsibleClass\n      classes = classes + SPACE_CHAR + options.isCollapsedClass\n    }\n    list.setAttribute(\"class\", classes)\n    return list\n  }\n\n  /**\n   * Update fixed sidebar class.\n   * @return {HTMLElement}\n   */\n  function updateFixedSidebarClass() {\n    const scrollTop = getScrollTop()\n\n    const posFixedEl = document.querySelector(options.positionFixedSelector)\n    if (options.fixedSidebarOffset === \"auto\") {\n      options.fixedSidebarOffset = tocElement.offsetTop\n    }\n\n    if (scrollTop > options.fixedSidebarOffset) {\n      if (posFixedEl.className.indexOf(options.positionFixedClass) === -1) {\n        posFixedEl.className += SPACE_CHAR + options.positionFixedClass\n      }\n    } else {\n      posFixedEl.className = posFixedEl.className.replace(\n        SPACE_CHAR + options.positionFixedClass,\n        \"\",\n      )\n    }\n  }\n\n  /**\n   * Get top position of heading\n   * @param {HTMLElement} obj\n   * @return {int} position\n   */\n  function getHeadingTopPos(obj) {\n    let position = 0\n    if (obj !== null) {\n      position = obj.offsetTop\n      if (options.hasInnerContainers) {\n        position += getHeadingTopPos(obj.offsetParent)\n      }\n    }\n    return position\n  }\n\n  /**\n   * Update className only when changed.\n   * @param {HTMLElement} obj\n   * @param {string} className\n   * @return {HTMLElement} obj\n   */\n  function updateClassname(obj, className) {\n    if (obj && obj.className !== className) {\n      obj.className = className\n    }\n    return obj\n  }\n\n  /**\n   * Update TOC highlighting and collapsed groupings.\n   */\n  function updateToc(headingsArray, event) {\n    // Add fixed class at offset\n    if (options.positionFixedSelector) {\n      updateFixedSidebarClass()\n    }\n    // Get the top most heading currently visible on the page so we know what to highlight.\n    const headings = headingsArray\n    // This is needed for scroll events since document doesn't have getAttribute\n    const clickedHref = event?.target?.getAttribute\n      ? event?.target?.getAttribute(\"href\")\n      : null\n    const isBottomMode =\n      clickedHref && clickedHref.charAt(0) === \"#\"\n        ? getIsHeaderBottomMode(clickedHref.replace(\"#\", \"\"))\n        : false\n    const shouldUpdate = currentlyHighlighting || isBottomMode\n    if (event && eventCount < 5) {\n      eventCount++\n    }\n\n    if (shouldUpdate && !!tocElement && headings.length > 0) {\n      const topHeader = getTopHeader(headings)\n\n      const oldActiveTocLink = tocElement.querySelector(\n        `.${options.activeLinkClass}`,\n      )\n\n      const topHeaderId = topHeader.id.replace(\n        /([ #;&,.+*~':\"!^$[\\]()=>|/\\\\@])/g,\n        \"\\\\$1\",\n      )\n      const hashId = window.location.hash.replace(\"#\", \"\")\n      let activeId = topHeaderId\n\n      // Handle case where they clicked a link that cannot be scrolled to.\n      const isPageBottomMode = getIsPageBottomMode()\n      if (clickedHref && isBottomMode) {\n        activeId = clickedHref.replace(\"#\", \"\")\n      } else if (\n        hashId &&\n        hashId !== topHeaderId &&\n        isPageBottomMode &&\n        (getIsHeaderBottomMode(topHeaderId) || eventCount <= 2)\n      ) {\n        // This is meant to handle the case\n        // of showing the items as highlighted when they\n        // are in bottom mode and cannot be scrolled to.\n        // Make sure that they stay highlighted on refresh\n        // too, not just when clicked.\n        activeId = hashId\n      }\n\n      const activeTocLink = tocElement.querySelector(\n        `.${options.linkClass}[href=\"${options.basePath}#${activeId}\"]`,\n      )\n      // Performance improvement to only change the classes\n      // for the toc if a new link should be highlighted.\n      if (oldActiveTocLink === activeTocLink) {\n        return\n      }\n\n      // Remove the active class from the other tocLinks.\n      const tocLinks = tocElement.querySelectorAll(`.${options.linkClass}`)\n      forEach.call(tocLinks, (tocLink) => {\n        updateClassname(\n          tocLink,\n          tocLink.className.replace(SPACE_CHAR + options.activeLinkClass, \"\"),\n        )\n      })\n      const tocLis = tocElement.querySelectorAll(`.${options.listItemClass}`)\n      forEach.call(tocLis, (tocLi) => {\n        updateClassname(\n          tocLi,\n          tocLi.className.replace(SPACE_CHAR + options.activeListItemClass, \"\"),\n        )\n      })\n\n      // Add the active class to the active tocLink.\n      if (\n        activeTocLink &&\n        activeTocLink.className.indexOf(options.activeLinkClass) === -1\n      ) {\n        activeTocLink.className += SPACE_CHAR + options.activeLinkClass\n      }\n      const li = activeTocLink?.parentNode\n      if (li && li.className.indexOf(options.activeListItemClass) === -1) {\n        li.className += SPACE_CHAR + options.activeListItemClass\n      }\n\n      const tocLists = tocElement.querySelectorAll(\n        `.${options.listClass}.${options.collapsibleClass}`,\n      )\n\n      // Collapse the other collapsible lists.\n      forEach.call(tocLists, (list) => {\n        if (list.className.indexOf(options.isCollapsedClass) === -1) {\n          list.className += SPACE_CHAR + options.isCollapsedClass\n        }\n      })\n\n      // Expand the active link's collapsible list and its sibling if applicable.\n      if (\n        activeTocLink?.nextSibling &&\n        activeTocLink.nextSibling.className.indexOf(\n          options.isCollapsedClass,\n        ) !== -1\n      ) {\n        updateClassname(\n          activeTocLink.nextSibling,\n          activeTocLink.nextSibling.className.replace(\n            SPACE_CHAR + options.isCollapsedClass,\n            \"\",\n          ),\n        )\n      }\n      removeCollapsedFromParents(activeTocLink?.parentNode.parentNode)\n    }\n  }\n\n  /**\n   * Remove collapsed class from parent elements.\n   * @param {HTMLElement} element\n   * @return {HTMLElement}\n   */\n  function removeCollapsedFromParents(element) {\n    if (\n      element &&\n      element.className.indexOf(options.collapsibleClass) !== -1 &&\n      element.className.indexOf(options.isCollapsedClass) !== -1\n    ) {\n      updateClassname(\n        element,\n        element.className.replace(SPACE_CHAR + options.isCollapsedClass, \"\"),\n      )\n      return removeCollapsedFromParents(element.parentNode.parentNode)\n    }\n    return element\n  }\n\n  /**\n   * Disable TOC Animation when a link is clicked.\n   * @param {Event} event\n   */\n  function disableTocAnimation(event) {\n    const target = event.target || event.srcElement\n    if (\n      typeof target.className !== \"string\" ||\n      target.className.indexOf(options.linkClass) === -1\n    ) {\n      return\n    }\n    // Bind to tocLink clicks to temporarily disable highlighting\n    // while smoothScroll is animating.\n    currentlyHighlighting = false\n  }\n\n  /**\n   * Enable TOC Animation.\n   */\n  function enableTocAnimation() {\n    currentlyHighlighting = true\n  }\n\n  /**\n   * Return currently highlighting status.\n   */\n  function getCurrentlyHighlighting() {\n    return currentlyHighlighting\n  }\n\n  function getIsHeaderBottomMode(headerId) {\n    const scrollEl = getScrollEl()\n    const activeHeading = document?.getElementById(headerId)\n    const isBottomMode =\n      activeHeading.offsetTop >\n      scrollEl.offsetHeight -\n        scrollEl.clientHeight * 1.4 -\n        options.bottomModeThreshold\n    return isBottomMode\n  }\n\n  function getIsPageBottomMode() {\n    const scrollEl = getScrollEl()\n    const isScrollable = scrollEl.scrollHeight > scrollEl.clientHeight\n    const isBottomMode =\n      getScrollTop() + scrollEl.clientHeight >\n      scrollEl.offsetHeight - options.bottomModeThreshold\n    return isScrollable && isBottomMode\n  }\n\n  function getScrollEl() {\n    let el\n    if (\n      options.scrollContainer &&\n      document.querySelector(options.scrollContainer)\n    ) {\n      el = document.querySelector(options.scrollContainer)\n    } else {\n      el = document.documentElement || body\n    }\n    return el\n  }\n\n  function getScrollTop() {\n    const el = getScrollEl()\n    return el?.scrollTop || 0\n  }\n\n  function getTopHeader(headings, scrollTop = getScrollTop()) {\n    let topHeader\n    some.call(headings, (heading, i) => {\n      if (getHeadingTopPos(heading) > scrollTop + options.headingsOffset + 10) {\n        // Don't allow negative index value.\n        const index = i === 0 ? i : i - 1\n        topHeader = headings[index]\n        return true\n      }\n      if (i === headings.length - 1) {\n        // This allows scrolling for the last heading on the page.\n        topHeader = headings[headings.length - 1]\n        return true\n      }\n    })\n    return topHeader\n  }\n\n  function updateUrlHashForHeader(headingsArray) {\n    const scrollTop = getScrollTop()\n    const topHeader = getTopHeader(headingsArray, scrollTop)\n    const isPageBottomMode = getIsPageBottomMode()\n    if ((!topHeader || scrollTop < 5) && !isPageBottomMode) {\n      if (!(window.location.hash === \"#\" || window.location.hash === \"\")) {\n        window.history.pushState(null, null, \"#\")\n      }\n    } else if (topHeader && !isPageBottomMode) {\n      const newHash = `#${topHeader.id}`\n      if (window.location.hash !== newHash) {\n        window.history.pushState(null, null, newHash)\n      }\n    }\n  }\n\n  return {\n    enableTocAnimation,\n    disableTocAnimation,\n    render,\n    updateToc,\n    getCurrentlyHighlighting,\n    getTopHeader,\n    getScrollTop,\n    updateUrlHashForHeader,\n  }\n}\n","export default {\n  // Where to render the table of contents.\n  tocSelector: \".js-toc\",\n  // Or, you can pass in a DOM node instead\n  tocElement: null,\n  // Where to grab the headings to build the table of contents.\n  contentSelector: \".js-toc-content\",\n  // Or, you can pass in a DOM node instead\n  contentElement: null,\n  // Which headings to grab inside of the contentSelector element.\n  headingSelector: \"h1, h2, h3\",\n  // Headings that match the ignoreSelector will be skipped.\n  ignoreSelector: \".js-toc-ignore\",\n  // For headings inside relative or absolute positioned\n  // containers within content.\n  hasInnerContainers: false,\n  // Main class to add to links.\n  linkClass: \"toc-link\",\n  // Extra classes to add to links.\n  extraLinkClasses: \"\",\n  // Class to add to active links,\n  // the link corresponding to the top most heading on the page.\n  activeLinkClass: \"is-active-link\",\n  // Main class to add to lists.\n  listClass: \"toc-list\",\n  // Extra classes to add to lists.\n  extraListClasses: \"\",\n  // Class that gets added when a list should be collapsed.\n  isCollapsedClass: \"is-collapsed\",\n  // Class that gets added when a list should be able\n  // to be collapsed but isn't necessarily collapsed.\n  collapsibleClass: \"is-collapsible\",\n  // Class to add to list items.\n  listItemClass: \"toc-list-item\",\n  // Class to add to active list items.\n  activeListItemClass: \"is-active-li\",\n  // How many heading levels should not be collapsed.\n  // For example, number 6 will show everything since\n  // there are only 6 heading levels and number 0 will collapse them all.\n  // The sections that are hidden will open\n  // and close as you scroll to headings within them.\n  collapseDepth: 0,\n  // Smooth scrolling enabled.\n  scrollSmooth: true,\n  // Smooth scroll duration.\n  scrollSmoothDuration: 420,\n  // Smooth scroll offset.\n  scrollSmoothOffset: 0,\n  // Callback for scroll end.\n  scrollEndCallback: function (e) {},\n  // Headings offset between the headings and the top of\n  // the document (this is meant for minor adjustments).\n  headingsOffset: 1,\n  // Enable the URL hash to update with the proper heading ID as\n  // a user scrolls the page.\n  enableUrlHashUpdateOnScroll: false,\n  // type of scroll handler to use. to make scroll event not too rapid.\n  // Options are: \"debounce\" or \"throttle\"\n  // when set auto , use debounce less than 333ms , other use throttle.\n  // for ios browser can't use history.pushState() more than 100 times per 30 seconds reason\n  scrollHandlerType: \"auto\",\n  //  scrollHandler delay in ms.\n  scrollHandlerTimeout: 50,\n  // Timeout between events firing to make sure it's\n  // not too rapid (for performance reasons).\n  throttleTimeout: 50,\n  // Element to add the positionFixedClass to.\n  positionFixedSelector: null,\n  // Fixed position class to add to make sidebar fixed after scrolling\n  // down past the fixedSidebarOffset.\n  positionFixedClass: \"is-position-fixed\",\n  // fixedSidebarOffset can be any number but by default is set\n  // to auto which sets the fixedSidebarOffset to the sidebar\n  // element's offsetTop from the top of the document on init.\n  fixedSidebarOffset: \"auto\",\n  // includeHtml can be set to true to include the HTML markup from the\n  // heading node instead of just including the innerText.\n  includeHtml: false,\n  // includeTitleTags automatically sets the html title tag of the link\n  // to match the title. This can be useful for SEO purposes or\n  // when truncating titles.\n  includeTitleTags: false,\n  // onclick function to apply to all links in toc. will be called with\n  // the event as the first parameter, and this can be used to stop,\n  // propagation, prevent default or perform action\n  onClick: function (e) {},\n  // orderedList can be set to false to generate unordered lists (ul)\n  // instead of ordered lists (ol)\n  orderedList: true,\n  // If there is a fixed article scroll container, set to calculate offset.\n  scrollContainer: null,\n  // prevent ToC DOM rendering if it's already rendered by an external system.\n  skipRendering: false,\n  // Optional callback to change heading labels.\n  // For example it can be used to cut down and put ellipses on multiline headings you deem too long.\n  // Called each time a heading is parsed. Expects a string and returns the modified label to display.\n  // Additionally, the attribute `data-heading-label` may be used on a heading to specify\n  // a shorter string to be used in the TOC.\n  // function (string) => string\n  headingLabelCallback: false,\n  // ignore headings that are hidden in DOM\n  ignoreHiddenElements: false,\n  // Optional callback to modify properties of parsed headings.\n  // The heading element is passed in node parameter and information\n  // parsed by default parser is provided in obj parameter.\n  // Function has to return the same or modified obj.\n  // The heading will be excluded from TOC if nothing is returned.\n  // function (object, HTMLElement) => object | void\n  headingObjectCallback: null,\n  // Set the base path, useful if you use a `base` tag in `head`.\n  basePath: \"\",\n  // Only takes affect when `tocSelector` is scrolling,\n  // keep the toc scroll position in sync with the content.\n  disableTocScrollSync: false,\n  // If this is null then just use `tocElement` or `tocSelector` instead\n  // assuming `disableTocScrollSync` is set to false. This allows for\n  // scrolling an outer element (like a nav panel w/ search) containing the toc.\n  // Please pass an element, not a selector here.\n  tocScrollingWrapper: null,\n  // Offset for the toc scroll (top) position when scrolling the page.\n  // Only effective if `disableTocScrollSync` is false.\n  tocScrollOffset: 30,\n  // Threshold for when bottom mode should be enabled to handle\n  // highlighting links that cannot be scrolled to.\n  bottomModeThreshold: 30,\n}\n","/**\n * This file is responsible for parsing the content from the DOM and making\n * sure data is nested properly.\n *\n * @author Tim Scanlin\n */\n\nexport default function parseContent(options) {\n  const reduce = [].reduce\n\n  /**\n   * Get the last item in an array and return a reference to it.\n   * @param {Array} array\n   * @return {Object}\n   */\n  function getLastItem(array) {\n    return array[array.length - 1]\n  }\n\n  /**\n   * Get heading level for a heading dom node.\n   * @param {HTMLElement} heading\n   * @return {Number}\n   */\n  function getHeadingLevel(heading) {\n    return +heading.nodeName.toUpperCase().replace(\"H\", \"\")\n  }\n\n  /**\n   * Determine whether the object is an HTML Element.\n   * Also works inside iframes. HTML Elements might be created by the parent document.\n   * @param {Object} maybeElement\n   * @return {Number}\n   */\n  function isHTMLElement(maybeElement) {\n    try {\n      return (\n        maybeElement instanceof window.HTMLElement ||\n        maybeElement instanceof window.parent.HTMLElement\n      )\n    } catch (e) {\n      return maybeElement instanceof window.HTMLElement\n    }\n  }\n\n  /**\n   * Get important properties from a heading element and store in a plain object.\n   * @param {HTMLElement} heading\n   * @return {Object}\n   */\n  function getHeadingObject(heading) {\n    // each node is processed twice by this method because nestHeadingsArray() and addNode() calls it\n    // first time heading is real DOM node element, second time it is obj\n    // that is causing problem so I am processing only original DOM node\n    if (!isHTMLElement(heading)) return heading\n\n    if (\n      options.ignoreHiddenElements &&\n      (!heading.offsetHeight || !heading.offsetParent)\n    ) {\n      return null\n    }\n\n    const headingLabel =\n      heading.getAttribute(\"data-heading-label\") ||\n      (options.headingLabelCallback\n        ? String(options.headingLabelCallback(heading.innerText))\n        : (heading.innerText || heading.textContent).trim())\n    const obj = {\n      id: heading.id,\n      children: [],\n      nodeName: heading.nodeName,\n      headingLevel: getHeadingLevel(heading),\n      textContent: headingLabel,\n    }\n\n    if (options.includeHtml) {\n      obj.childNodes = heading.childNodes\n    }\n\n    if (options.headingObjectCallback) {\n      return options.headingObjectCallback(obj, heading)\n    }\n\n    return obj\n  }\n\n  /**\n   * Add a node to the nested array.\n   * @param {Object} node\n   * @param {Array} nest\n   * @return {Array}\n   */\n  function addNode(node, nest) {\n    const obj = getHeadingObject(node)\n    const level = obj.headingLevel\n    let array = nest\n    let lastItem = getLastItem(array)\n    const lastItemLevel = lastItem ? lastItem.headingLevel : 0\n    let counter = level - lastItemLevel\n\n    while (counter > 0) {\n      lastItem = getLastItem(array)\n      // Handle case where there are multiple h5+ in a row.\n      if (lastItem && level === lastItem.headingLevel) {\n        break\n      } else if (lastItem && lastItem.children !== undefined) {\n        array = lastItem.children\n      }\n      counter--\n    }\n\n    if (level >= options.collapseDepth) {\n      obj.isCollapsed = true\n    }\n\n    array.push(obj)\n    return array\n  }\n\n  /**\n   * Select headings in content area, exclude any selector in options.ignoreSelector\n   * @param {HTMLElement} contentElement\n   * @param {Array} headingSelector\n   * @return {Array}\n   */\n  function selectHeadings(contentElement, headingSelector) {\n    let selectors = headingSelector\n    if (options.ignoreSelector) {\n      selectors = headingSelector\n        .split(\",\")\n        .map(function mapSelectors(selector) {\n          return `${selector.trim()}:not(${options.ignoreSelector})`\n        })\n    }\n    try {\n      return contentElement.querySelectorAll(selectors)\n    } catch (e) {\n      console.warn(`Headers not found with selector: ${selectors}`) // eslint-disable-line\n      return null\n    }\n  }\n\n  /**\n   * Nest headings array into nested arrays with 'children' property.\n   * @param {Array} headingsArray\n   * @return {Object}\n   */\n  function nestHeadingsArray(headingsArray) {\n    return reduce.call(\n      headingsArray,\n      function reducer(prev, curr) {\n        const currentHeading = getHeadingObject(curr)\n        if (currentHeading) {\n          addNode(currentHeading, prev.nest)\n        }\n        return prev\n      },\n      {\n        nest: [],\n      },\n    )\n  }\n\n  return {\n    nestHeadingsArray,\n    selectHeadings,\n  }\n}\n","/* eslint no-var: off */\n/* globals location, requestAnimationFrame */\n\nexport default function initSmoothScrolling(options) {\n  // if (isCssSmoothSCrollSupported()) { return }\n\n  var duration = options.duration\n  var offset = options.offset\n  if (typeof window === \"undefined\" || typeof location === \"undefined\") return\n\n  var pageUrl = location.hash ? stripHash(location.href) : location.href\n\n  delegatedLinkHijacking()\n\n  function delegatedLinkHijacking() {\n    document.body.addEventListener(\"click\", onClick, false)\n\n    function onClick(e) {\n      if (\n        !isInPageLink(e.target) ||\n        e.target.className.indexOf(\"no-smooth-scroll\") > -1 ||\n        (e.target.href.charAt(e.target.href.length - 2) === \"#\" &&\n          e.target.href.charAt(e.target.href.length - 1) === \"!\") ||\n        e.target.className.indexOf(options.linkClass) === -1\n      ) {\n        return\n      }\n\n      // Don't prevent default or hash doesn't change.\n      // e.preventDefault()\n\n      jump(e.target.hash, {\n        duration,\n        offset,\n        callback: function () {\n          setFocus(e.target.hash)\n        },\n      })\n    }\n  }\n\n  function isInPageLink(n) {\n    return (\n      n.tagName.toLowerCase() === \"a\" &&\n      (n.hash.length > 0 || n.href.charAt(n.href.length - 1) === \"#\") &&\n      (stripHash(n.href) === pageUrl || stripHash(n.href) + \"#\" === pageUrl)\n    )\n  }\n\n  function stripHash(url) {\n    return url.slice(0, url.lastIndexOf(\"#\"))\n  }\n\n  // function isCssSmoothSCrollSupported () {\n  //   return 'scrollBehavior' in document.documentElement.style\n  // }\n\n  // Adapted from:\n  // https://www.nczonline.net/blog/2013/01/15/fixing-skip-to-content-links/\n  function setFocus(hash) {\n    var element = document.getElementById(hash.substring(1))\n\n    if (element) {\n      if (!/^(?:a|select|input|button|textarea)$/i.test(element.tagName)) {\n        element.tabIndex = -1\n      }\n\n      element.focus()\n    }\n  }\n}\n\nfunction jump(target, options) {\n  var start = window.pageYOffset\n  var opt = {\n    duration: options.duration,\n    offset: options.offset || 0,\n    callback: options.callback,\n    easing: options.easing || easeInOutQuad,\n  }\n  // This makes ids that start with a number work: ('[id=\"' + decodeURI(target).split('#').join('') + '\"]')\n  // DecodeURI for nonASCII hashes, they was encoded, but id was not encoded, it lead to not finding the tgt element by id.\n  // And this is for IE: document.body.scrollTop\n  // Handle decoded and non-decoded URIs since sometimes URLs automatically transform them (support for internation chars).\n  var tgt =\n    document.querySelector(\n      '[id=\"' + decodeURI(target).split(\"#\").join(\"\") + '\"]',\n    ) || document.querySelector('[id=\"' + target.split(\"#\").join(\"\") + '\"]')\n  var distance =\n    typeof target === \"string\"\n      ? opt.offset +\n        (target\n          ? (tgt && tgt.getBoundingClientRect().top) || 0 // handle non-existent links better.\n          : -(document.documentElement.scrollTop || document.body.scrollTop))\n      : target\n  var duration =\n    typeof opt.duration === \"function\" ? opt.duration(distance) : opt.duration\n  var timeStart\n  var timeElapsed\n\n  requestAnimationFrame(function (time) {\n    timeStart = time\n    loop(time)\n  })\n  function loop(time) {\n    timeElapsed = time - timeStart\n\n    window.scrollTo(0, opt.easing(timeElapsed, start, distance, duration))\n\n    if (timeElapsed < duration) {\n      requestAnimationFrame(loop)\n    } else {\n      end()\n    }\n  }\n\n  function end() {\n    window.scrollTo(0, start + distance)\n\n    if (typeof opt.callback === \"function\") {\n      opt.callback()\n    }\n  }\n\n  // Robert Penner's easeInOutQuad - http://robertpenner.com/easing/\n  function easeInOutQuad(t, b, c, d) {\n    t /= d / 2\n    if (t < 1) return (c / 2) * t * t + b\n    t--\n    return (-c / 2) * (t * (t - 2) - 1) + b\n  }\n}\n","/* eslint no-var: off */\n/**\n * Tocbot\n * Tocbot creates a table of contents based on HTML headings on a page,\n * this allows users to easily jump to different sections of the document.\n * Tocbot was inspired by tocify (http://gregfranko.com/jquery.tocify.js/).\n * The main differences are that it works natively without any need for jquery or jquery UI).\n *\n * @author Tim Scanlin\n */\n\nimport BuildHtml from \"./build-html.js\"\nimport defaultOptions from \"./default-options.js\"\nimport ParseContent from \"./parse-content.js\"\nimport initSmoothScrolling from \"./scroll-smooth/index.js\"\nimport updateTocScroll from \"./update-toc-scroll.js\"\n\n// For testing purposes.\nexport let _options = {} // Object to store current options.\nexport let _buildHtml\nexport let _parseContent\nexport let _headingsArray\nexport let _scrollListener\n\nlet clickListener\n\n/**\n * Initialize tocbot.\n * @param {object} customOptions\n */\nexport function init(customOptions) {\n  // Merge defaults with user options.\n  // Set to options variable at the top.\n  let hasInitialized = false\n  _options = extend(defaultOptions, customOptions || {})\n\n  // Init smooth scroll if enabled (default).\n  if (_options.scrollSmooth) {\n    _options.duration = _options.scrollSmoothDuration\n    _options.offset = _options.scrollSmoothOffset\n\n    initSmoothScrolling(_options)\n  }\n\n  // Pass options to these modules.\n  _buildHtml = BuildHtml(_options)\n  _parseContent = ParseContent(_options)\n\n  // Destroy it if it exists first.\n  destroy()\n\n  const contentElement = getContentElement(_options)\n  if (contentElement === null) {\n    return\n  }\n\n  const tocElement = getTocElement(_options)\n  if (tocElement === null) {\n    return\n  }\n\n  // Get headings array.\n  _headingsArray = _parseContent.selectHeadings(\n    contentElement,\n    _options.headingSelector,\n  )\n\n  // Return if no headings are found.\n  if (_headingsArray === null) {\n    return\n  }\n\n  // Build nested headings array.\n  const nestedHeadingsObj = _parseContent.nestHeadingsArray(_headingsArray)\n  const nestedHeadings = nestedHeadingsObj.nest\n\n  // Render.\n  if (!_options.skipRendering) {\n    _buildHtml.render(tocElement, nestedHeadings)\n  } else {\n    // No need to attach listeners if skipRendering is true, this was causing errors.\n    return this\n  }\n\n  // Update Sidebar and bind listeners.\n  let isClick = false\n  // choose timeout by _options\n  const scrollHandlerTimeout =\n    _options.scrollHandlerTimeout || _options.throttleTimeout // compatible with legacy configurations\n  // choose debounce or throttle\n  // default use debounce when delay is less than 333ms\n  // the reason is ios browser has a limit : can't use history.pushState() more than 100 times per 30 seconds\n  const scrollHandler = (fn, delay) =>\n    getScrollHandler(fn, delay, _options.scrollHandlerType)\n\n  _scrollListener = scrollHandler((e) => {\n    _buildHtml.updateToc(_headingsArray, e)\n    // Only do this update for normal scrolls and not during clicks.\n    !_options.disableTocScrollSync && !isClick && updateTocScroll(_options)\n\n    if (_options.enableUrlHashUpdateOnScroll && hasInitialized) {\n      const enableUpdatingHash = _buildHtml.getCurrentlyHighlighting()\n      enableUpdatingHash && _buildHtml.updateUrlHashForHeader(_headingsArray)\n    }\n\n    const isTop = e?.target?.scrollingElement?.scrollTop === 0\n    if ((e && (e.eventPhase === 0 || e.currentTarget === null)) || isTop) {\n      _buildHtml.updateToc(_headingsArray)\n      _options.scrollEndCallback?.(e)\n    }\n  }, scrollHandlerTimeout)\n  // Fire it initially to setup the page.\n  if (!hasInitialized) {\n    _scrollListener()\n    hasInitialized = true\n  }\n\n  // Fire scroll listener on hash change to trigger highlighting changes too.\n  window.onhashchange = window.onscrollend = (e) => {\n    _scrollListener(e)\n  }\n\n  if (\n    _options.scrollContainer &&\n    document.querySelector(_options.scrollContainer)\n  ) {\n    document\n      .querySelector(_options.scrollContainer)\n      .addEventListener(\"scroll\", _scrollListener, false)\n    document\n      .querySelector(_options.scrollContainer)\n      .addEventListener(\"resize\", _scrollListener, false)\n  } else {\n    document.addEventListener(\"scroll\", _scrollListener, false)\n    document.addEventListener(\"resize\", _scrollListener, false)\n  }\n\n  // Bind click listeners to disable animation.\n  let timeout = null\n  clickListener = throttle((event) => {\n    isClick = true\n    if (_options.scrollSmooth) {\n      _buildHtml.disableTocAnimation(event)\n    }\n    _buildHtml.updateToc(_headingsArray, event)\n    // Timeout to re-enable the animation.\n    timeout && clearTimeout(timeout)\n    timeout = setTimeout(() => {\n      _buildHtml.enableTocAnimation()\n    }, _options.scrollSmoothDuration)\n    // Set is click w/ a bit of delay so that animations can finish\n    // and we don't disturb the user while they click the toc.\n    setTimeout(() => {\n      isClick = false\n    }, _options.scrollSmoothDuration + 100)\n  }, _options.throttleTimeout)\n\n  if (\n    _options.scrollContainer &&\n    document.querySelector(_options.scrollContainer)\n  ) {\n    document\n      .querySelector(_options.scrollContainer)\n      .addEventListener(\"click\", clickListener, false)\n  } else {\n    document.addEventListener(\"click\", clickListener, false)\n  }\n}\n\n/**\n * Destroy tocbot.\n */\nexport function destroy() {\n  const tocElement = getTocElement(_options)\n  if (tocElement === null) {\n    return\n  }\n\n  if (!_options.skipRendering) {\n    // Clear HTML.\n    if (tocElement) {\n      tocElement.innerHTML = \"\"\n    }\n  }\n\n  // Remove event listeners.\n  if (\n    _options.scrollContainer &&\n    document.querySelector(_options.scrollContainer)\n  ) {\n    document\n      .querySelector(_options.scrollContainer)\n      .removeEventListener(\"scroll\", _scrollListener, false)\n    document\n      .querySelector(_options.scrollContainer)\n      .removeEventListener(\"resize\", _scrollListener, false)\n    if (_buildHtml) {\n      document\n        .querySelector(_options.scrollContainer)\n        .removeEventListener(\"click\", clickListener, false)\n    }\n  } else {\n    document.removeEventListener(\"scroll\", _scrollListener, false)\n    document.removeEventListener(\"resize\", _scrollListener, false)\n    if (_buildHtml) {\n      document.removeEventListener(\"click\", clickListener, false)\n    }\n  }\n}\n\n/**\n * Refresh tocbot.\n */\nexport function refresh(customOptions) {\n  destroy()\n  init(customOptions || _options)\n}\n\n// From: https://github.com/Raynos/xtend\nconst hasOwnProp = Object.prototype.hasOwnProperty\nfunction extend(...args) {\n  const target = {}\n  for (let i = 0; i < args.length; i++) {\n    const source = args[i]\n    for (const key in source) {\n      if (hasOwnProp.call(source, key)) {\n        target[key] = source[key]\n      }\n    }\n  }\n  return target\n}\n\n// From: https://remysharp.com/2010/07/21/throttling-function-calls\nfunction throttle(fn, threshold, scope) {\n  threshold || (threshold = 250)\n  let last\n  let deferTimer\n  return function (...args) {\n    const context = scope || this\n    const now = +new Date()\n    if (last && now < last + threshold) {\n      // hold on to it\n      clearTimeout(deferTimer)\n      deferTimer = setTimeout(() => {\n        last = now\n        fn.apply(context, args)\n      }, threshold)\n    } else {\n      last = now\n      fn.apply(context, args)\n    }\n  }\n}\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait` milliseconds\n * have elapsed since the last time the debounced function was invoked.\n *\n * @param {Function} func - The function to debounce.\n * @param {number} wait - The number of milliseconds to delay.\n * @returns {Function} - Returns the new debounced function.\n */\nfunction debounce(func, wait) {\n  let timeout\n  return (...args) => {\n    clearTimeout(timeout)\n    timeout = setTimeout(() => func.apply(this, args), wait)\n  }\n}\n\n/**\n * Creates a scroll handler with specified timeout strategy\n * @param {number} timeout - Delay duration in milliseconds\n * @param {'debounce'|'throttle'|'auto'} type - Strategy type for scroll handling\n * @returns {Function} Configured scroll handler function\n */\nfunction getScrollHandler(func, timeout, type = \"auto\") {\n  switch (type) {\n    case \"debounce\":\n      return debounce(func, timeout)\n    case \"throttle\":\n      return throttle(func, timeout)\n    default:\n      return timeout < 334 ? debounce(func, timeout) : throttle(func, timeout)\n  }\n}\n\nfunction getContentElement(options) {\n  try {\n    return (\n      options.contentElement || document.querySelector(options.contentSelector)\n    )\n  } catch (e) {\n    console.warn(`Contents element not found: ${options.contentSelector}`) // eslint-disable-line\n    return null\n  }\n}\n\nfunction getTocElement(options) {\n  try {\n    return options.tocElement || document.querySelector(options.tocSelector)\n  } catch (e) {\n    console.warn(`TOC element not found: ${options.tocSelector}`) // eslint-disable-line\n    return null\n  }\n}\n\n// Add default export for easier use.\nconst tocbot = {\n  _options,\n  _buildHtml,\n  _parseContent,\n  init,\n  destroy,\n  refresh,\n}\n\nexport default tocbot\n","export default function updateTocScroll(options) {\n  const toc =\n    options.tocScrollingWrapper ||\n    options.tocElement ||\n    document.querySelector(options.tocSelector)\n  if (toc && toc.scrollHeight > toc.clientHeight) {\n    const activeItem = toc.querySelector(`.${options.activeListItemClass}`)\n    if (activeItem) {\n      // Determine element top and bottom\n      const eTop = activeItem.offsetTop\n\n      // Check if out of view\n      // Above scroll view\n      const scrollAmount = eTop - options.tocScrollOffset\n      toc.scrollTop = scrollAmount > 0 ? scrollAmount : 0\n    }\n  }\n}\n","import { destroy, init, refresh } from \"./src/js/index-esm.js\"\nconst tocbot = { destroy, init, refresh }\n\nexport { destroy, init, refresh }\nexport default tocbot\n","/*!\n * baguetteBox.js\n * @author  feimosi\n * @version 1.13.0\n * @url https://github.com/feimosi/baguetteBox.js\n */\n!function(e,t){\"use strict\";\"function\"==typeof define&&define.amd?define(t):\"object\"==typeof exports?module.exports=t():e.baguetteBox=t()}(this,function(){\"use strict\";var s,l,u,c,d,f='<svg width=\"44\" height=\"60\"><polyline points=\"30 10 10 30 30 50\" stroke=\"rgba(255,255,255,0.5)\" stroke-width=\"4\"stroke-linecap=\"butt\" fill=\"none\" stroke-linejoin=\"round\"/></svg>',g='<svg width=\"44\" height=\"60\"><polyline points=\"14 10 34 30 14 50\" stroke=\"rgba(255,255,255,0.5)\" stroke-width=\"4\"stroke-linecap=\"butt\" fill=\"none\" stroke-linejoin=\"round\"/></svg>',p='<svg width=\"30\" height=\"30\"><g stroke=\"rgb(160,160,160)\" stroke-width=\"4\"><line x1=\"5\" y1=\"5\" x2=\"25\" y2=\"25\"/><line x1=\"5\" y1=\"25\" x2=\"25\" y2=\"5\"/></g></svg>',b={},m={captions:!0,buttons:\"auto\",fullScreen:!1,noScrollbars:!1,bodyClass:\"baguetteBox-open\",titleTag:!1,async:!1,preload:2,animation:\"slideIn\",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:\"rgba(0,0,0,.8)\",closeX:p,leftArrow:f,rightArrow:g},v={},h=[],o=0,n=!1,i={},a=!1,y=/.+\\.(gif|jpe?g|png|webp|avif)/i,w={},k=[],r=null,x=function(e){-1!==e.target.id.indexOf(\"baguette-img\")&&M()},E=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,j()},C=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,Y()},B=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,M()},T=function(e){i.count++,1<i.count&&(i.multitouch=!0),i.startX=e.changedTouches[0].pageX,i.startY=e.changedTouches[0].pageY},A=function(e){if(!a&&!i.multitouch){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.touches[0]||e.changedTouches[0];40<t.pageX-i.startX?(a=!0,j()):t.pageX-i.startX<-40?(a=!0,Y()):100<i.startY-t.pageY&&M()}},L=function(){i.count--,i.count<=0&&(i.multitouch=!1),a=!1},N=function(){L()},S=function(e){\"block\"===s.style.display&&s.contains&&!s.contains(e.target)&&(e.stopPropagation(),I())};function H(e){if(w.hasOwnProperty(e)){var t=w[e].galleries;[].forEach.call(t,function(e){[].forEach.call(e,function(e){W(e.imageElement,\"click\",e.eventHandler)}),h===e&&(h=[])}),delete w[e]}}function P(e){switch(e.keyCode){case 37:j();break;case 39:Y();break;case 27:M();break;case 36:!function t(e){e&&e.preventDefault();return D(0)}(e);break;case 35:!function n(e){e&&e.preventDefault();return D(h.length-1)}(e)}}function F(e,t){if(h!==e){for(h=e,function r(e){e=e||{};for(var t in m)b[t]=m[t],\"undefined\"!=typeof e[t]&&(b[t]=e[t]);l.style.transition=l.style.webkitTransition=\"fadeIn\"===b.animation?\"opacity .4s ease\":\"slideIn\"===b.animation?\"\":\"none\",\"auto\"===b.buttons&&(\"ontouchstart\"in window||1===h.length)&&(b.buttons=!1);u.style.display=c.style.display=b.buttons?\"\":\"none\",d.innerHTML=b.closeX,b.buttons&&(u.innerHTML=b.leftArrow,c.innerHTML=b.rightArrow);try{s.style.backgroundColor=b.overlayBackgroundColor}catch(n){}}(t);l.firstChild;)l.removeChild(l.firstChild);for(var n,o=[],i=[],a=k.length=0;a<e.length;a++)(n=J(\"div\")).className=\"full-image\",n.id=\"baguette-img-\"+a,k.push(n),o.push(\"baguetteBox-figure-\"+a),i.push(\"baguetteBox-figcaption-\"+a),l.appendChild(k[a]);s.setAttribute(\"aria-labelledby\",o.join(\" \")),s.setAttribute(\"aria-describedby\",i.join(\" \"))}}function q(e){b.noScrollbars&&(document.documentElement.style.overflowY=\"hidden\",document.body.style.overflowY=\"scroll\"),\"block\"!==s.style.display&&(U(document,\"keydown\",P),i={count:0,startX:null,startY:null},X(o=e,function(){z(o),V(o)}),R(),s.style.display=\"block\",b.fullScreen&&function t(){s.requestFullscreen?s.requestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullScreen&&s.mozRequestFullScreen()}(),setTimeout(function(){s.className=\"visible\",b.bodyClass&&document.body.classList&&document.body.classList.add(b.bodyClass),b.afterShow&&b.afterShow()},50),b.onChange&&b.onChange(o,k.length),r=document.activeElement,I(),n=!0)}function I(){b.buttons?u.focus():d.focus()}function M(){b.noScrollbars&&(document.documentElement.style.overflowY=\"auto\",document.body.style.overflowY=\"auto\"),\"none\"!==s.style.display&&(W(document,\"keydown\",P),s.className=\"\",setTimeout(function(){s.style.display=\"none\",document.fullscreen&&function e(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}(),b.bodyClass&&document.body.classList&&document.body.classList.remove(b.bodyClass),b.afterHide&&b.afterHide(),r&&r.focus(),n=!1},500))}function X(t,n){var e=k[t],o=h[t];if(void 0!==e&&void 0!==o)if(e.getElementsByTagName(\"img\")[0])n&&n();else{var i=o.imageElement,a=i.getElementsByTagName(\"img\")[0],r=\"function\"==typeof b.captions?b.captions.call(h,i):i.getAttribute(\"data-caption\")||i.title,s=function d(e){var t=e.href;if(e.dataset){var n=[];for(var o in e.dataset)\"at-\"!==o.substring(0,3)||isNaN(o.substring(3))||(n[o.replace(\"at-\",\"\")]=e.dataset[o]);for(var i=Object.keys(n).sort(function(e,t){return parseInt(e,10)<parseInt(t,10)?-1:1}),a=window.innerWidth*window.devicePixelRatio,r=0;r<i.length-1&&i[r]<a;)r++;t=n[i[r]]||t}return t}(i),l=J(\"figure\");if(l.id=\"baguetteBox-figure-\"+t,l.innerHTML='<div class=\"baguetteBox-spinner\"><div class=\"baguetteBox-double-bounce1\"></div><div class=\"baguetteBox-double-bounce2\"></div></div>',b.captions&&r){var u=J(\"figcaption\");u.id=\"baguetteBox-figcaption-\"+t,u.innerHTML=r,l.appendChild(u)}e.appendChild(l);var c=J(\"img\");c.onload=function(){var e=document.querySelector(\"#baguette-img-\"+t+\" .baguetteBox-spinner\");l.removeChild(e),!b.async&&n&&n()},c.setAttribute(\"src\",s),c.alt=a&&a.alt||\"\",b.titleTag&&r&&(c.title=r),l.appendChild(c),b.async&&n&&n()}}function Y(){return D(o+1)}function j(){return D(o-1)}function D(e,t){return!n&&0<=e&&e<t.length?(F(t,b),q(e),!0):e<0?(b.animation&&O(\"left\"),!1):e>=k.length?(b.animation&&O(\"right\"),!1):(X(o=e,function(){z(o),V(o)}),R(),b.onChange&&b.onChange(o,k.length),!0)}function O(e){l.className=\"bounce-from-\"+e,setTimeout(function(){l.className=\"\"},400)}function R(){var e=\"rtl\"===document.querySelectorAll(\"html\")[0].getAttribute(\"dir\"),t=-o*(e?-100:100)+\"%\";\"fadeIn\"===b.animation?(l.style.opacity=0,setTimeout(function(){v.transforms?l.style.transform=l.style.webkitTransform=\"translate3d(\"+t+\",0,0)\":l.style.left=t,l.style.opacity=1},400)):v.transforms?l.style.transform=l.style.webkitTransform=\"translate3d(\"+t+\",0,0)\":l.style.left=t}function z(e){e-o>=b.preload||X(e+1,function(){z(e+1)})}function V(e){o-e>=b.preload||X(e-1,function(){V(e-1)})}function U(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent(\"on\"+t,function(e){(e=e||window.event).target=e.target||e.srcElement,n(e)})}function W(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent(\"on\"+t,n)}function G(e){return document.getElementById(e)}function J(e){return document.createElement(e)}return[].forEach||(Array.prototype.forEach=function(e,t){for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),[].filter||(Array.prototype.filter=function(e,t,n,o,i){for(n=this,o=[],i=0;i<n.length;i++)e.call(t,n[i],i,n)&&o.push(n[i]);return o}),{run:function K(e,t){return v.transforms=function n(){var e=J(\"div\");return\"undefined\"!=typeof e.style.perspective||\"undefined\"!=typeof e.style.webkitPerspective}(),v.svg=function o(){var e=J(\"div\");return e.innerHTML=\"<svg/>\",\"http://www.w3.org/2000/svg\"===(e.firstChild&&e.firstChild.namespaceURI)}(),v.passiveEvents=function i(){var e=!1;try{var t=Object.defineProperty({},\"passive\",{get:function(){e=!0}});window.addEventListener(\"test\",null,t)}catch(n){}return e}(),function a(){if(s=G(\"baguetteBox-overlay\"))return l=G(\"baguetteBox-slider\"),u=G(\"previous-button\"),c=G(\"next-button\"),void(d=G(\"close-button\"));(s=J(\"div\")).setAttribute(\"role\",\"dialog\"),s.id=\"baguetteBox-overlay\",document.getElementsByTagName(\"body\")[0].appendChild(s),(l=J(\"div\")).id=\"baguetteBox-slider\",s.appendChild(l),(u=J(\"button\")).setAttribute(\"type\",\"button\"),u.id=\"previous-button\",u.setAttribute(\"aria-label\",\"Previous\"),u.innerHTML=v.svg?f:\"&lt;\",s.appendChild(u),(c=J(\"button\")).setAttribute(\"type\",\"button\"),c.id=\"next-button\",c.setAttribute(\"aria-label\",\"Next\"),c.innerHTML=v.svg?g:\"&gt;\",s.appendChild(c),(d=J(\"button\")).setAttribute(\"type\",\"button\"),d.id=\"close-button\",d.setAttribute(\"aria-label\",\"Close\"),d.innerHTML=v.svg?p:\"&times;\",s.appendChild(d),u.className=c.className=d.className=\"baguetteBox-button\",function n(){var e=v.passiveEvents?{passive:!1}:null,t=v.passiveEvents?{passive:!0}:null;U(s,\"click\",x),U(u,\"click\",E),U(c,\"click\",C),U(d,\"click\",B),U(l,\"contextmenu\",N),U(s,\"touchstart\",T,t),U(s,\"touchmove\",A,e),U(s,\"touchend\",L),U(document,\"focus\",S,!0)}()}(),H(e),function r(e,a){var t=document.querySelectorAll(e),n={galleries:[],nodeList:t};return w[e]=n,[].forEach.call(t,function(e){a&&a.filter&&(y=a.filter);var t=[];if(t=\"A\"===e.tagName?[e]:e.getElementsByTagName(\"a\"),0!==(t=[].filter.call(t,function(e){if(-1===e.className.indexOf(a&&a.ignoreClass))return y.test(e.href)})).length){var i=[];[].forEach.call(t,function(e,t){var n=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,F(i,a),q(t)},o={eventHandler:n,imageElement:e};U(e,\"click\",n),i.push(o)}),n.galleries.push(i)}}),n.galleries}(e,t)},show:D,showNext:Y,showPrevious:j,hide:M,destroy:function e(){!function n(){var e=v.passiveEvents?{passive:!1}:null,t=v.passiveEvents?{passive:!0}:null;W(s,\"click\",x),W(u,\"click\",E),W(c,\"click\",C),W(d,\"click\",B),W(l,\"contextmenu\",N),W(s,\"touchstart\",T,t),W(s,\"touchmove\",A,e),W(s,\"touchend\",L),W(document,\"focus\",S,!0)}(),function t(){for(var e in w)w.hasOwnProperty(e)&&H(e)}(),W(document,\"keydown\",P),document.getElementsByTagName(\"body\")[0].removeChild(document.getElementById(\"baguetteBox-overlay\")),w={},h=[],o=0}}});","var SMALL_WORDS = /\\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\\.?|versus|via|when|with|without|yet)\\b/i;\nvar TOKENS = /[^\\s:-]+|./g;\nvar WHITESPACE = /\\s/;\nvar IS_MANUAL_CASE = /.(?=[A-Z]|\\..)/;\nvar ALPHANUMERIC_PATTERN = /[A-Za-z0-9\\u00C0-\\u00FF]/;\nexport function titleCase(input) {\n    var result = \"\";\n    var m;\n    // tslint:disable-next-line\n    while ((m = TOKENS.exec(input)) !== null) {\n        var token = m[0], index = m.index;\n        if (\n        // Ignore already capitalized words.\n        !IS_MANUAL_CASE.test(token) &&\n            // Ignore small words except at beginning or end.\n            (!SMALL_WORDS.test(token) ||\n                index === 0 ||\n                index + token.length === input.length) &&\n            // Ignore URLs.\n            (input.charAt(index + token.length) !== \":\" ||\n                WHITESPACE.test(input.charAt(index + token.length + 1)))) {\n            // Find and uppercase first word character, skips over *modifiers*.\n            result += token.replace(ALPHANUMERIC_PATTERN, function (m) { return m.toUpperCase(); });\n            continue;\n        }\n        result += token;\n    }\n    return result;\n}\n//# sourceMappingURL=index.js.map","import { titleCase } from 'title-case';\n\n/**\n * Title Case Converter - Client-side solution using title-case npm package\n * Processes all headings (h1-h6) in post/page content and converts them to Title Case\n * \n * Works entirely on the client side, no API keys or registration required!\n * Uses the proven title-case library for reliable heading processing.\n */\nexport class TitleCaseProcessor {\n  constructor() {\n    // Cache for already processed headings\n    this.processedHeadings = new Map();\n  }\n\n  /**\n   * Converts text to Title Case using the title-case library\n   * @param {string} text - Text to process\n   * @returns {string} - Processed text\n   */\n  convertToTitleCase(text) {\n    // Check cache\n    if (this.processedHeadings.has(text)) {\n      return this.processedHeadings.get(text);\n    }\n\n    if (!text || text.trim().length === 0) {\n      return text;\n    }\n\n    // Use title-case library for reliable processing\n    // It accounts for all Title Case rules: prepositions, conjunctions, articles, etc.\n    const convertedText = titleCase(text);\n    \n    // Save to cache\n    this.processedHeadings.set(text, convertedText);\n    \n    return convertedText;\n  }\n\n  /**\n   * Finds all headings in the content area and processes them\n   * @param {HTMLElement} contentContainer - Container with content\n   */\n  processHeadings(contentContainer) {\n    if (!contentContainer) {\n      console.warn('Content container not found');\n      return;\n    }\n\n    // Find all h1-h6 headings in the content area\n    const headings = contentContainer.querySelectorAll('h1, h2, h3, h4, h5, h6');\n    \n    if (headings.length === 0) {\n      console.log('No headings found in content');\n      return;\n    }\n\n    console.log(`Found ${headings.length} headings to process`);\n\n    // Process all headings (synchronously, without delays)\n    let processedCount = 0;\n    for (const heading of headings) {\n      const originalText = heading.textContent.trim();\n      \n      // Skip empty headings\n      if (!originalText) continue;\n\n      try {\n        const convertedText = this.convertToTitleCase(originalText);\n        \n        // Replace heading text\n        if (convertedText !== originalText) {\n          heading.textContent = convertedText;\n          processedCount++;\n          console.log(`Converted: \"${originalText}\"  \"${convertedText}\"`);\n        }\n      } catch (error) {\n        console.error(`Error processing heading \"${originalText}\":`, error);\n      }\n    }\n\n    console.log(`Title case processing completed. Processed ${processedCount} of ${headings.length} headings.`);\n  }\n\n  /**\n   * Initializes heading processing for the current page\n   */\n  init() {\n    // Check if we're on a post or page\n    // Ghost adds post-template or page-template classes to body\n    const isPostPage = document.body.classList.contains('post-template') || \n                      document.body.classList.contains('page-template') ||\n                      // Alternative check: presence of content area\n                      document.querySelector('.gh-content, .js-toc-content');\n    \n    if (!isPostPage) {\n      return;\n    }\n\n    // Find content area\n    // Use selector from post.hbs and page.hbs templates\n    const contentContainer = document.querySelector('.gh-content, .js-toc-content');\n    \n    if (contentContainer) {\n      // Small delay to ensure content is fully loaded\n      // Especially important for dynamically loaded content\n      setTimeout(() => {\n        this.processHeadings(contentContainer);\n      }, 500);\n    } else {\n      console.warn('TitleCaseProcessor: Content container not found');\n    }\n  }\n}\n\n/**\n * Initialize heading processing\n */\nexport function initTitleCaseProcessor() {\n  const processor = new TitleCaseProcessor();\n  processor.init();\n}\n\n","/**\n * Processes card symbols in post content\n * Finds card symbols (   ) and the character before them,\n * then applies appropriate styling\n */\nexport class CardSymbolProcessor {\n  constructor() {\n    // Card symbols: spades, hearts, diamonds, clubs (both Unicode and emoji versions)\n    // Order matters: longer emoji versions first to match them before shorter Unicode versions\n    this.cardSymbols = [\n      '\\u2660\\uFE0F', // \n      '\\u2665\\uFE0F', // \n      '\\u2666\\uFE0F', // \n      '\\u2663\\uFE0F', // \n      '\\u2660', // \n      '\\u2665', // \n      '\\u2666', // \n      '\\u2663'  // \n    ];\n    \n    // Color class mapping for card symbols\n    this.cardColorClasses = {\n      '\\u2665': 'red',      // \n      '\\u2665\\uFE0F': 'red', // \n      '\\u2663': 'green',    // \n      '\\u2663\\uFE0F': 'green', // \n      '\\u2666': 'blue',     // \n      '\\u2666\\uFE0F': 'blue', // \n      '\\u2660': 'black',    // \n      '\\u2660\\uFE0F': 'black' // \n    };\n  }\n\n  /**\n   * Gets the color class for a card symbol\n   */\n  getCardColorClass(symbol) {\n    return this.cardColorClasses[symbol] || 'black';\n  }\n\n  /**\n   * Processes card symbols in the given content container\n   */\n  processCardSymbols(contentContainer) {\n    if (!contentContainer) {\n      console.warn('CardSymbolProcessor: Content container not found');\n      return;\n    }\n\n    // Create a walker to traverse all text nodes\n    const walker = document.createTreeWalker(\n      contentContainer,\n      NodeFilter.SHOW_TEXT,\n      {\n        acceptNode: (node) => {\n          // Skip if node is inside script, style, or already processed elements\n          const parent = node.parentElement;\n          if (!parent) return NodeFilter.FILTER_REJECT;\n          if (parent.tagName === 'SCRIPT' || parent.tagName === 'STYLE') {\n            return NodeFilter.FILTER_REJECT;\n          }\n          if (parent.classList.contains('card-symbol-processed')) {\n            return NodeFilter.FILTER_REJECT;\n          }\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }\n    );\n\n    const textNodes = [];\n    let node;\n    while ((node = walker.nextNode())) {\n      textNodes.push(node);\n    }\n\n    let processedCount = 0;\n\n    textNodes.forEach((textNode) => {\n      const text = textNode.textContent;\n      let hasCardSymbol = false;\n\n      // Check if text contains any card symbol\n      for (const symbol of this.cardSymbols) {\n        if (text.includes(symbol)) {\n          hasCardSymbol = true;\n          break;\n        }\n      }\n\n      if (!hasCardSymbol) return;\n\n      // Process the text node\n      const parent = textNode.parentElement;\n      if (!parent) return;\n\n      // Mark parent as processed to avoid double processing\n      parent.classList.add('card-symbol-processed');\n\n      // Create a document fragment to hold the processed content\n      const fragment = document.createDocumentFragment();\n      let lastIndex = 0;\n      let modified = false;\n\n      // Process each character in the text\n      for (let i = 0; i < text.length; i++) {\n        let foundSymbol = null;\n        let symbolLength = 0;\n\n        // Check for card symbols (check longer emoji versions first)\n        for (const symbol of this.cardSymbols) {\n          if (text.substring(i, i + symbol.length) === symbol) {\n            foundSymbol = symbol;\n            symbolLength = symbol.length;\n            break;\n          }\n        }\n\n        if (foundSymbol) {\n          // Find the character before the card symbol\n          let charBeforeIndex = i - 1;\n          let charBefore = '';\n\n          // Skip whitespace and find the first non-whitespace character\n          while (charBeforeIndex >= lastIndex && /\\s/.test(text[charBeforeIndex])) {\n            charBeforeIndex--;\n          }\n\n          // Add text from lastIndex to charBeforeIndex (not including charBefore itself)\n          if (charBeforeIndex >= lastIndex) {\n            charBefore = text[charBeforeIndex];\n            // Add text before charBefore\n            if (charBeforeIndex > lastIndex) {\n              const beforeCharText = text.substring(lastIndex, charBeforeIndex);\n              if (beforeCharText) {\n                fragment.appendChild(document.createTextNode(beforeCharText));\n              }\n            }\n          } else {\n            // No character before, add all text up to the card symbol\n            if (i > lastIndex) {\n              const beforeText = text.substring(lastIndex, i);\n              if (beforeText) {\n                fragment.appendChild(document.createTextNode(beforeText));\n              }\n            }\n          }\n\n          // Get color class for the card symbol\n          const cardColorClass = this.getCardColorClass(foundSymbol);\n\n          // Create span for character before card symbol (if exists and is alphanumeric)\n          if (charBefore && /[\\w\\d]/.test(charBefore)) {\n            const charSpan = document.createElement('span');\n            charSpan.className = `card-symbol-char card-symbol-char--${cardColorClass}`;\n            charSpan.textContent = charBefore;\n            fragment.appendChild(charSpan);\n            modified = true;\n            \n            // Add whitespace between charBefore and card symbol (if any)\n            if (charBeforeIndex + 1 < i) {\n              const middleText = text.substring(charBeforeIndex + 1, i);\n              if (middleText) {\n                fragment.appendChild(document.createTextNode(middleText));\n              }\n            }\n            \n            lastIndex = i + symbolLength;\n          } else if (charBeforeIndex >= lastIndex) {\n            // Character exists but is not alphanumeric, just add it as text\n            if (charBeforeIndex > lastIndex) {\n              const beforeCharText = text.substring(lastIndex, charBeforeIndex);\n              if (beforeCharText) {\n                fragment.appendChild(document.createTextNode(beforeCharText));\n              }\n            }\n            fragment.appendChild(document.createTextNode(charBefore));\n            if (charBeforeIndex + 1 < i) {\n              const middleText = text.substring(charBeforeIndex + 1, i);\n              if (middleText) {\n                fragment.appendChild(document.createTextNode(middleText));\n              }\n            }\n            lastIndex = i + symbolLength;\n          } else {\n            // No character before, lastIndex already updated above\n            lastIndex = i + symbolLength;\n          }\n\n          // Create span for card symbol\n          const symbolSpan = document.createElement('span');\n          symbolSpan.className = `card-symbol card-symbol--${cardColorClass}`;\n          symbolSpan.textContent = foundSymbol;\n          fragment.appendChild(symbolSpan);\n          modified = true;\n\n          i += symbolLength - 1; // -1 because loop will increment\n        }\n      }\n\n      // Add remaining text\n      if (lastIndex < text.length) {\n        fragment.appendChild(document.createTextNode(text.substring(lastIndex)));\n      }\n\n      // Replace the text node with the fragment if modifications were made\n      if (modified) {\n        parent.replaceChild(fragment, textNode);\n        processedCount++;\n      } else {\n        // Remove the class if no modifications were made\n        parent.classList.remove('card-symbol-processed');\n      }\n    });\n\n    if (processedCount > 0) {\n      console.log(`Card symbol processing completed. Processed ${processedCount} text nodes.`);\n    }\n  }\n\n  /**\n   * Initializes card symbol processing for the current page\n   */\n  init() {\n    // Check if we're on a post or page\n    const isPostPage = document.body.classList.contains('post-template') || \n                      document.body.classList.contains('page-template') ||\n                      document.querySelector('.gh-content, .js-toc-content');\n    \n    if (!isPostPage) {\n      return;\n    }\n\n    // Find content area\n    const contentContainer = document.querySelector('.gh-content, .js-toc-content');\n    \n    if (contentContainer) {\n      // Small delay to ensure content is fully loaded\n      setTimeout(() => {\n        this.processCardSymbols(contentContainer);\n      }, 500);\n    } else {\n      console.warn('CardSymbolProcessor: Content container not found');\n    }\n  }\n}\n\n/**\n * Initialize card symbol processing\n */\nexport function initCardSymbolProcessor() {\n  const processor = new CardSymbolProcessor();\n  processor.init();\n}\n\n","import GhostContentAPI from \"@tryghost/content-api\";\n// Cards List Component Manager\nexport class CardsListManager {\n  constructor() {\n    this.config = window.GhostConfig || {};\n    this.sections = new Map();\n    this.init();\n  }\n\n  init() {\n    const sections = document.querySelectorAll('.cards-list[data-scenario]');\n  if (!sections.length) return;\n\n  sections.forEach((section) => {\n      const scenario = section.getAttribute('data-scenario');\n      const manager = this.createScenarioManager(section, scenario);\n      if (manager) {\n        this.sections.set(section, manager);\n        manager.init();\n      }\n    });\n  }\n\n  createScenarioManager(section, scenario) {\n    switch (scenario) {\n      case 'articles':\n        return new ArticlesCardsManager(section, this.config);\n      case 'videos':\n        return new VideosCardsManager(section, this.config);\n      case 'mixed':\n        return new MixedCardsManager(section, this.config);\n      case 'author':\n        return new AuthorCardsManager(section, this.config);\n      default:\n        console.warn(`Unknown cards-list scenario: ${scenario}`);\n        return null;\n    }\n  }\n}\n\n// Base class for all scenario managers\nexport class BaseCardsManager {\n  constructor(section, config) {\n    this.section = section;\n    this.config = config;\n    this.api = new GhostContentAPI({\n      url: config.apiUrl,\n      key: config.contentKey,\n      version: 'v5.0'\n    });\n\n    this.cardType = section.getAttribute('data-card-type') || 'small';\n    this.cardClass = section.getAttribute('data-card-class') || '';\n    this.limit = section.getAttribute('data-limit') || '4';\n    this.infiniteScroll = section.getAttribute('data-infinite-scroll') === 'true';\n    this.articlesContainer = section.querySelector('.cards-list__articles');\n    this.filterList = section.querySelector('.cards-filter__list');\n    \n    // State\n    this.isLoading = false;\n    this.currentPage = 1;\n    this.hasMorePosts = true;\n    this.allPosts = [];\n  }\n\n  init() {\n    this.setupEventListeners();\n    this.loadInitialContent();\n    this.setupInfiniteScroll();\n    \n    // Check if we need to load more content immediately after initial load\n    // This handles cases where the page is tall enough that user can see the end\n    setTimeout(() => {\n      this.checkAndLoadMoreIfNeeded();\n    }, 100);\n  }\n\n  /**\n   * Check if we're near the bottom of the page and load more content if needed\n   */\n  checkAndLoadMoreIfNeeded() {\n    if (!this.infiniteScroll || this.isLoading || !this.hasMorePosts) {\n      return;\n    }\n\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const windowHeight = window.innerHeight;\n    const documentHeight = document.documentElement.scrollHeight;\n    \n    // If we're already near the bottom (within 400px), load more immediately\n    if (scrollTop + windowHeight >= documentHeight - 400) {\n      this.loadMorePosts();\n    }\n  }\n\n  setupEventListeners() {\n    // Override in subclasses\n  }\n\n  loadInitialContent() {\n    // Override in subclasses\n    // By default, do nothing - let server-rendered content stay\n  }\n\n  setupInfiniteScroll() {\n    if (!this.infiniteScroll) return;\n    \n    // Add scroll listener for infinite scroll with proper binding\n    this.scrollHandler = () => this.handleScroll();\n    window.addEventListener('scroll', this.scrollHandler);\n  }\n\n  handleScroll() {\n    if (!this.infiniteScroll || this.isLoading || !this.hasMorePosts) {\n      return;\n    }\n    \n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const windowHeight = window.innerHeight;\n    const documentHeight = document.documentElement.scrollHeight;\n    \n    // Load more when user is 200px from bottom\n    if (scrollTop + windowHeight >= documentHeight - 200) {\n      this.loadMorePosts();\n    }\n  }\n\n  async loadMorePosts() {\n    // Override in subclasses\n  }\n\n  renderCard(post) {\n    const featureImage = post.feature_image ? \n      `<a href=\"${post.url}\" class=\"card__image\"><img data-src=\"${post.feature_image}\" class=\"lazyload\" alt=\"${post.title}\"></a>` : '';\n    \n      const primaryTagName = post.primary_tag ? post.primary_tag.name : '';\n    const tagHtml = primaryTagName ? `<span class=\"card__tag\">${primaryTagName}</span>` : '';\n    \n    const readingTime = post.reading_time ? \n      `<span class=\"card__reading-time\">${post.reading_time} min read</span>` : '';\n    \n      const date = new Date(post.published_at);\n    const dateStr = date.toLocaleDateString(undefined, { \n      month: 'short', \n      day: '2-digit', \n      year: 'numeric' \n    });\n\n    if (this.cardType === 'default') {\n      const excerpt = post.custom_excerpt ? \n        `<p class=\"card__description\">${post.custom_excerpt}</p>` : '';\n\n      return `\n        <article class=\"card card--default flex direction-column ${this.cardClass}\">\n          ${featureImage}\n          <div class=\"card__main flex direction-column\">\n            <h3 class=\"card__title\"><a href=\"${post.url}\">${post.title}</a></h3>\n            ${excerpt}\n            <div class=\"card__footer flex items-center\">\n            ${tagHtml}\n              <div class=\"card__meta flex items-center\">\n                <span class=\"card__date\">${dateStr}</span>\n              ${readingTime}\n              </div>\n            </div>\n          </div>\n        </article>`;\n    } else {\n      return `\n        <article class=\"card card--small flex items-center ${this.cardClass}\">\n          ${featureImage}\n          <div class=\"card__main flex\">\n            <h3 class=\"card__title\"><a href=\"${post.url}\">${post.title}</a></h3>\n              ${tagHtml}\n            <div class=\"card__meta flex items-center\">\n              <span class=\"card__date\">${dateStr}</span>\n                ${readingTime}\n            </div>\n          </div>\n        </article>`;\n    }\n  }\n\n  renderPosts(posts, append = false) {\n    const html = posts.map(post => this.renderCard(post)).join('');\n\n    if (append) {\n      this.articlesContainer.insertAdjacentHTML('beforeend', html);\n      // Check if we need to load more after appending\n      setTimeout(() => {\n        this.checkAndLoadMoreIfNeeded();\n      }, 100);\n    } else {\n      // Always animate content replacement for better UX\n      this.articlesContainer.style.opacity = '0';\n      this.articlesContainer.style.transform = 'translateY(10px)';\n      \n      setTimeout(() => {\n        this.articlesContainer.innerHTML = html || '<p>No posts found.</p>';\n        this.articlesContainer.style.opacity = '1';\n        this.articlesContainer.style.transform = 'translateY(0)';\n        // Check if we need to load more after rendering\n        setTimeout(() => {\n          this.checkAndLoadMoreIfNeeded();\n        }, 100);\n      }, 200);\n    }\n  }\n}\n\n// Articles-only scenario\nexport class ArticlesCardsManager extends BaseCardsManager {\n  constructor(section, config) {\n    super(section, config);\n    this.formats = section.getAttribute('data-formats') || '';\n    this.types = section.getAttribute('data-types') || '';\n    this.filterByAuthors = section.getAttribute('data-filter-by-authors') === 'true';\n    \n    // Filter state\n    this.selectedFormats = [];\n    this.selectedTypes = [];\n    this.selectedAuthors = [];\n    this.allFormats = [];\n    this.allTypes = [];\n    this.allAuthors = [];\n  }\n\n  setupEventListeners() {\n    super.setupEventListeners();\n    \n    // Filter buttons\n    if (this.filterList) {\n      this.filterList.addEventListener('click', (e) => {\n        const button = e.target.closest('button.cards-filter__item-button');\n        if (!button) return;\n        e.preventDefault();\n        this.handleFilterClick(button);\n      });\n    }\n\n    // Filter popup\n    this.setupFilterPopup();\n  }\n\n  loadInitialContent() {\n    // Don't load content on init - let server-rendered content stay\n    // Preload filter data to prevent popup jump when opening\n    this.preloadFilterData();\n  }\n\n  async preloadFilterData() {\n    // Preload all filter data in parallel to prevent popup jump\n    const promises = [this.loadFormats()];\n    \n    if (this.types) {\n      promises.push(this.loadTypes());\n    }\n    \n    if (this.filterByAuthors) {\n      promises.push(this.loadAuthors());\n    }\n    \n    await Promise.all(promises);\n  }\n\n  async loadFormats() {\n    try {\n      const response = await this.api.tags.browse({\n        filter: `slug:[${this.formats}]`,\n        limit: 'all'\n      });\n      \n      this.allFormats = response.map(tag => ({\n        slug: tag.slug,\n        name: tag.name\n      }));\n      \n      this.renderFormatsList();\n    } catch (error) {\n      console.error('Failed to load formats:', error);\n    }\n  }\n\n  renderFormatsList() {\n    const formatsList = this.section.querySelector('#formats-list');\n    if (!formatsList) return;\n\n    const html = this.allFormats.map(format => {\n      const isSelected = this.selectedFormats.some(selected => selected.slug === format.slug);\n      return `\n        <label class=\"filter-popup__option\">\n          <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-format-slug=\"${format.slug}\" ${isSelected ? 'checked' : ''}>\n          <span class=\"filter-popup__text\">${format.name}</span>\n        </label>\n      `;\n      }).join('');\n\n    formatsList.innerHTML = html;\n  }\n\n  setupFilterPopup() {\n    const filterButton = this.section.querySelector('.cards-filter__button');\n    const popup = this.section.querySelector('.filter-popup');\n    \n    if (!filterButton || !popup) return;\n\n    filterButton.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.togglePopup();\n    });\n\n    // Handle checkbox changes\n    popup.addEventListener('change', (e) => {\n      if (e.target.classList.contains('filter-popup__checkbox')) {\n        this.handleFilterChange();\n      }\n    });\n\n    // Handle reset button\n    const resetButton = popup.querySelector('.filter-popup__cancel-btn');\n    if (resetButton) {\n      resetButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.resetAllFilters();\n      });\n    }\n\n    // Handle click outside popup\n    document.addEventListener('click', (e) => {\n      const popupContainer = this.section.querySelector('.cards-filter__popup-container');\n      if (popup && popup.classList.contains('show') && !popupContainer.contains(e.target)) {\n        this.closePopup();\n      }\n    });\n  }\n\n  togglePopup() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (!popup) return;\n\n    const isVisible = popup.classList.contains('show');\n    \n    if (isVisible) {\n      this.closePopup();\n    } else {\n      popup.classList.add('show');\n      this.loadFilterData();\n    }\n    \n    this.updateFilterButton();\n  }\n\n  closePopup() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (popup) {\n      popup.classList.remove('show');\n      this.updateFilterButton();\n    }\n  }\n\n  loadFilterData() {\n    // Data should already be preloaded, just render it\n    this.renderFormatsList();\n    if (this.types) {\n      this.renderTypesList();\n    }\n    if (this.filterByAuthors) {\n      this.renderAuthorsList();\n    }\n  }\n\n  resetAllFilters() {\n    this.selectedFormats = [];\n    this.selectedTypes = [];\n    this.selectedAuthors = [];\n    \n    // Uncheck all checkboxes\n    const allCheckboxes = this.section.querySelectorAll('.filter-popup__checkbox');\n    allCheckboxes.forEach(checkbox => checkbox.checked = false);\n    \n    // Update main buttons\n    this.updateMainFormatButtons();\n    \n    // Close popup\n    this.closePopup();\n    \n    // Reload content\n    this.loadPostsByTag('all');\n  }\n\n  async loadTypes() {\n    if (!this.types) return;\n    \n    try {\n      const typeSlugs = this.types.split(',');\n      this.allTypes = typeSlugs.map(slug => ({\n        slug: slug.trim(),\n        name: slug.trim().charAt(0).toUpperCase() + slug.trim().slice(1).replace(/-/g, ' ')\n      }));\n      this.renderTypesList();\n    } catch (error) {\n      console.error('Failed to load types:', error);\n    }\n  }\n\n  async loadAuthors() {\n    try {\n      const response = await this.api.posts.browse({\n        include: ['authors'],\n        limit: 'all',\n        filter: `tag:[${this.formats}]`\n      });\n      \n      const authorsMap = new Map();\n      response.forEach(post => {\n        if (post.authors) {\n          post.authors.forEach(author => {\n            if (!authorsMap.has(author.slug)) {\n              authorsMap.set(author.slug, {\n                slug: author.slug,\n                name: author.name\n              });\n            }\n          });\n        }\n      });\n      \n      this.allAuthors = Array.from(authorsMap.values());\n      this.renderAuthorsList();\n    } catch (error) {\n      console.error('Failed to load authors:', error);\n    }\n  }\n\n  renderTypesList() {\n    const typesList = this.section.querySelector('#types-list');\n    if (!typesList) return;\n\n    const html = this.allTypes.map(type => {\n      const isSelected = this.selectedTypes.some(selected => selected.slug === type.slug);\n      return `\n        <label class=\"filter-popup__option\">\n          <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-type-slug=\"${type.slug}\" ${isSelected ? 'checked' : ''}>\n          <span class=\"filter-popup__text\">${type.name}</span>\n        </label>\n      `;\n    }).join('');\n\n    typesList.innerHTML = html;\n  }\n\n  renderAuthorsList() {\n    const authorsList = this.section.querySelector('#authors-list');\n    if (!authorsList) return;\n\n    const html = this.allAuthors.map(author => {\n      const isSelected = this.selectedAuthors.some(selected => selected.slug === author.slug);\n      return `\n        <label class=\"filter-popup__option\">\n          <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-author-slug=\"${author.slug}\" ${isSelected ? 'checked' : ''}>\n          <span class=\"filter-popup__text\">${author.name}</span>\n        </label>\n      `;\n    }).join('');\n\n    authorsList.innerHTML = html;\n  }\n\n  handleFilterClick(button) {\n    const slug = button.getAttribute('data-slug');\n    \n    // Update active button\n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n    button.classList.add('active');\n\n    // Clear popup selections and set main selection\n    this.selectedFormats = [];\n    this.selectedTypes = [];\n    this.selectedAuthors = [];\n\n    if (slug !== 'all') {\n      const format = this.allFormats.find(f => f.slug === slug);\n      if (format) {\n        this.selectedFormats = [format];\n      }\n    }\n\n    // Close popup\n    this.closePopup();\n\n    // Update popup checkboxes\n    this.updatePopupCheckboxes();\n\n    this.loadPostsByTag(slug);\n  }\n\n  handleFilterChange() {\n    // Update selected formats\n    const formatCheckboxes = this.section.querySelectorAll('#formats-list input[type=\"checkbox\"]');\n    this.selectedFormats = [];\n    formatCheckboxes.forEach(checkbox => {\n      if (checkbox.checked) {\n        const formatSlug = checkbox.getAttribute('data-format-slug');\n        const format = this.allFormats.find(f => f.slug === formatSlug);\n        if (format) {\n          this.selectedFormats.push(format);\n        }\n      }\n    });\n\n    // Update selected types\n    const typeCheckboxes = this.section.querySelectorAll('#types-list input[type=\"checkbox\"]');\n    this.selectedTypes = [];\n    typeCheckboxes.forEach(checkbox => {\n      if (checkbox.checked) {\n        const typeSlug = checkbox.getAttribute('data-type-slug');\n        const type = this.allTypes.find(t => t.slug === typeSlug);\n        if (type) {\n          this.selectedTypes.push(type);\n        }\n      }\n    });\n\n    // Update selected authors\n    const authorCheckboxes = this.section.querySelectorAll('#authors-list input[type=\"checkbox\"]');\n    this.selectedAuthors = [];\n    authorCheckboxes.forEach(checkbox => {\n      if (checkbox.checked) {\n        const authorSlug = checkbox.getAttribute('data-author-slug');\n        const author = this.allAuthors.find(a => a.slug === authorSlug);\n        if (author) {\n          this.selectedAuthors.push(author);\n        }\n      }\n    });\n\n    // Update main buttons\n    this.updateMainFormatButtons();\n    this.loadPostsByTag('all');\n  }\n\n  updateMainFormatButtons() {\n    const mainButtons = this.filterList.querySelectorAll('.cards-filter__item-button');\n    mainButtons.forEach(button => {\n      const slug = button.getAttribute('data-slug');\n      if (slug === 'all') {\n        button.classList.toggle('active', this.selectedFormats.length === 0);\n      } else {\n        const isSelected = this.selectedFormats.some(format => format.slug === slug);\n        button.classList.toggle('active', isSelected);\n      }\n    });\n  }\n\n  updatePopupCheckboxes() {\n    // Update format checkboxes\n    const formatCheckboxes = this.section.querySelectorAll('#formats-list input[type=\"checkbox\"]');\n    formatCheckboxes.forEach(checkbox => {\n      const formatSlug = checkbox.getAttribute('data-format-slug');\n      checkbox.checked = this.selectedFormats.some(f => f.slug === formatSlug);\n    });\n\n    // Update type checkboxes\n    const typeCheckboxes = this.section.querySelectorAll('#types-list input[type=\"checkbox\"]');\n    typeCheckboxes.forEach(checkbox => {\n      const typeSlug = checkbox.getAttribute('data-type-slug');\n      checkbox.checked = this.selectedTypes.some(t => t.slug === typeSlug);\n    });\n\n    // Update author checkboxes\n    const authorCheckboxes = this.section.querySelectorAll('#authors-list input[type=\"checkbox\"]');\n    authorCheckboxes.forEach(checkbox => {\n      const authorSlug = checkbox.getAttribute('data-author-slug');\n      checkbox.checked = this.selectedAuthors.some(a => a.slug === authorSlug);\n    });\n  }\n\n  async loadPostsByTag(slug, page = 1, append = false) {\n    if (this.isLoading) return;\n    \n    try {\n      this.isLoading = true;\n      \n      let filter = '';\n      if (slug !== 'all') {\n        filter = `tag:${slug}`;\n      } else if (this.formats) {\n        filter = `tag:[${this.formats}]`;\n      }\n\n      // Apply additional filters\n      if (this.selectedFormats.length > 0) {\n        const formatFilter = this.selectedFormats.map(f => f.slug).join(',');\n        filter = filter ? `${filter}+tag:[${formatFilter}]` : `tag:[${formatFilter}]`;\n      }\n\n      if (this.selectedTypes.length > 0) {\n        const typeFilter = this.selectedTypes.map(t => t.slug).join(',');\n        filter = filter ? `${filter}+tag:[${typeFilter}]` : `tag:[${typeFilter}]`;\n      }\n\n      if (this.selectedAuthors.length > 0) {\n        const authorSlugs = this.selectedAuthors.map(a => a.slug).join(',');\n        const authorFilter = this.selectedAuthors.length === 1 ? \n          `authors:${authorSlugs}` : `authors:[${authorSlugs}]`;\n        filter = filter ? `${filter}+${authorFilter}` : authorFilter;\n      }\n\n      const options = {\n        include: ['tags', 'authors'],\n        page: page,\n        limit: this.limit === 'all' ? 15 : parseInt(this.limit)\n      };\n\n      if (filter) {\n        options.filter = filter;\n      }\n\n      const response = await this.api.posts.browse(options);\n      const posts = response;\n\n      if (append) {\n        const existingIds = this.allPosts.map(post => post.id);\n        const newPosts = posts.filter(post => !existingIds.includes(post.id));\n        this.allPosts = [...this.allPosts, ...newPosts];\n        this.renderPosts(newPosts, true);\n      } else {\n        this.allPosts = posts;\n        this.renderPosts(posts, false);\n      }\n\n      this.currentPage = page;\n      this.hasMorePosts = posts.length === parseInt(this.limit);\n    } catch (error) {\n      console.error('Failed to load posts:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  async loadMorePosts() {\n    if (!this.infiniteScroll || this.isLoading || !this.hasMorePosts) return;\n    \n    const activeButton = this.filterList.querySelector('.cards-filter__item-button.active');\n    const currentSlug = activeButton ? activeButton.getAttribute('data-slug') : 'all';\n    \n    await this.loadPostsByTag(currentSlug, this.currentPage + 1, true);\n  }\n\n  updateFilterButton() {\n    const filterButton = this.section.querySelector('.cards-filter__button');\n    if (!filterButton) return;\n\n    const buttonText = filterButton.querySelector('span');\n    const filterIcon = filterButton.querySelector('.filter-icon');\n    const closeIcon = filterButton.querySelector('.close-icon');\n    const popup = this.section.querySelector('.filter-popup');\n    const isVisible = popup && popup.classList.contains('show');\n\n    if (isVisible) {\n      if (filterIcon) filterIcon.style.display = 'none';\n      if (closeIcon) closeIcon.style.display = 'block';\n      buttonText.textContent = 'Close';\n    } else {\n      if (filterIcon) filterIcon.style.display = 'block';\n      if (closeIcon) closeIcon.style.display = 'none';\n      buttonText.textContent = 'Filter';\n    }\n  }\n}\n\n// Videos-only scenario\nexport class VideosCardsManager extends BaseCardsManager {\n  constructor(section, config) {\n    super(section, config);\n    this.youtubeApiKey = config.youtubeApiKey;\n    this.youtubeChannelId = config.youtubeChannelId;\n    this.allPlaylists = [];\n    this.selectedPlaylists = [];\n    \n    // Infinite scroll state\n    this.allVideos = []; // All videos currently displayed\n    this.videoCache = new Map(); // Cache: playlistId -> array of videos\n    this.playlistPageTokens = {}; // Store page tokens for each playlist\n    this.playlistExhausted = new Set(); // Track which playlists have no more videos\n    this.displayedVideoIds = new Set(); // Track which video IDs are already displayed\n    this.videoBuffer = []; // Buffer of videos ready to display (for infinite scroll)\n    this.isInitialLoad = true;\n  }\n\n  setupEventListeners() {\n    super.setupEventListeners();\n    \n    if (this.filterList) {\n      this.filterList.addEventListener('click', (e) => {\n        const button = e.target.closest('button.cards-filter__item-button');\n        if (!button) return;\n        e.preventDefault();\n        this.handleFilterClick(button);\n      });\n    }\n\n    // Filter popup for videos\n    this.setupFilterPopup();\n  }\n\n  async loadInitialContent() {\n    // Videos scenario needs to load content immediately from YouTube API\n    await this.loadPlaylists();\n    this.renderPlaylistButtons();\n    this.loadVideos();\n  }\n\n  async loadPlaylists() {\n    // Check if API key is valid\n    if (!this.youtubeApiKey || this.youtubeApiKey.includes('{{') || this.youtubeApiKey === 'undefined') {\n      console.warn('YouTube API key not configured or invalid');\n      this.allPlaylists = [];\n      return;\n    }\n    \n    try {\n      const url = `https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&channelId=${this.youtubeChannelId}&maxResults=50&key=${this.youtubeApiKey}`;\n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.error) {\n        console.error('YouTube API error:', data.error);\n        this.allPlaylists = [];\n        return;\n      }\n      \n      if (data.items) {\n        this.allPlaylists = data.items\n          .map(pl => ({\n          id: pl.id,\n          title: pl.snippet.title,\n          count: pl.contentDetails?.itemCount || 0\n        }))\n          .filter(pl => pl.title.toLowerCase() !== 'shorts');\n        \n        this.renderPlaylistButtons();\n      }\n    } catch (error) {\n      console.error('Failed to load playlists:', error);\n      this.allPlaylists = [];\n    }\n  }\n\n  renderPlaylistButtons() {\n    if (!this.filterList) return;\n    \n    const topPlaylists = [...this.allPlaylists]\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 3);\n    \n    const allButton = this.filterList.querySelector('li:first-child');\n    this.filterList.innerHTML = '';\n    if (allButton) this.filterList.appendChild(allButton);\n    \n    const items = topPlaylists.map(pl => \n      `<li class=\"cards-filter__item\">\n        <button class=\"cards-filter__item-button\" data-playlist-id=\"${pl.id}\">${pl.title}</button>\n      </li>`\n    ).join('');\n    \n    this.filterList.insertAdjacentHTML('beforeend', items);\n  }\n\n  handleFilterClick(button) {\n    const playlistId = button.getAttribute('data-playlist-id');\n    const slug = button.getAttribute('data-slug');\n    \n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n    button.classList.add('active');\n\n    if (slug === 'all') {\n      this.selectedPlaylists = [];\n    } else if (playlistId) {\n      this.selectedPlaylists = [playlistId];\n    }\n\n    // Close popup when main filter is clicked\n    this.closePopup();\n\n    this.loadVideos();\n  }\n\n  async loadVideos() {\n    if (this.isLoading) return;\n    \n    try {\n      this.isLoading = true;\n      \n      // Add loading class\n      this.articlesContainer.classList.add('cards-list__articles--loading');\n      this.articlesContainer.classList.remove('cards-list__articles--empty', 'cards-list__articles--error');\n      \n      // Reset state when loading fresh content (filter change)\n      this.displayedVideoIds.clear();\n      this.videoBuffer = [];\n      this.isInitialLoad = true;\n      \n      // Clear cache for unselected playlists to save memory\n      if (this.selectedPlaylists.length > 0) {\n        const playlistsToKeep = new Set(this.selectedPlaylists);\n        for (const [playlistId] of this.videoCache) {\n          if (!playlistsToKeep.has(playlistId)) {\n            this.videoCache.delete(playlistId);\n            this.playlistPageTokens[playlistId] = null;\n            this.playlistExhausted.delete(playlistId);\n          }\n        }\n      }\n      \n      const { videos, hasMore } = await this.fetchYouTubeVideos(false);\n      \n      // Remove loading class\n      this.articlesContainer.classList.remove('cards-list__articles--loading');\n      \n      // Mark videos as displayed\n      videos.forEach(v => this.displayedVideoIds.add(v.id));\n      \n      // Store state\n      this.allVideos = videos;\n      this.hasMorePosts = hasMore;\n      \n      // Check if container has loading state\n      const hasLoading = this.articlesContainer.querySelector('.cards-loading');\n      \n      if (videos.length === 0) {\n        // No videos found\n        this.articlesContainer.classList.add('cards-list__articles--empty');\n        if (hasLoading) {\n          this.articlesContainer.innerHTML = '<p class=\"cards-list__empty-message\">No videos found.</p>';\n        } else {\n          this.articlesContainer.innerHTML = '<p class=\"cards-list__empty-message\">No videos found.</p>';\n        }\n      } else {\n        // Videos found - remove empty/error classes\n        this.articlesContainer.classList.remove('cards-list__articles--empty', 'cards-list__articles--error');\n        \n        if (hasLoading) {\n          // Replace loading state directly\n          this.articlesContainer.innerHTML = videos.map(v => this.renderVideoCard(v)).join('');\n        } else {\n          // Use renderPosts for consistent animation\n          this.renderPosts(videos, false);\n        }\n      }\n\n      // Prefetch next batch in background for smoother infinite scroll (don't await to avoid blocking)\n      if (this.infiniteScroll && hasMore) {\n        this.prefetchMoreVideos().catch(err => {\n          console.error('Background prefetch failed:', err);\n        });\n      }\n    } catch (error) {\n      console.error('Failed to load videos:', error);\n      \n      // Remove loading class and add error class\n      this.articlesContainer.classList.remove('cards-list__articles--loading');\n      this.articlesContainer.classList.add('cards-list__articles--error');\n      \n      const hasLoading = this.articlesContainer.querySelector('.cards-loading');\n      if (hasLoading) {\n        this.articlesContainer.innerHTML = '<p class=\"cards-list__error-message\">Failed to load videos. Please try again later.</p>';\n      } else {\n        this.articlesContainer.innerHTML = '<p class=\"cards-list__error-message\">Failed to load videos. Please try again later.</p>';\n      }\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  /**\n   * Fetch videos from a single playlist\n   */\n  async fetchPlaylistVideos(playlistId, pageToken = null) {\n    const playlist = this.allPlaylists.find(p => p.id === playlistId);\n    if (!playlist) return { videos: [], nextPageToken: null };\n\n    // Check if playlist is exhausted\n    if (this.playlistExhausted.has(playlistId) && !pageToken) {\n      return { videos: [], nextPageToken: null };\n    }\n\n    let url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails,status&maxResults=50&playlistId=${playlistId}&key=${this.youtubeApiKey}`;\n    if (pageToken) {\n      url += `&pageToken=${pageToken}`;\n    }\n    \n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.error) {\n        console.error('YouTube API error:', data.error);\n        this.playlistExhausted.add(playlistId);\n        return { videos: [], nextPageToken: null };\n      }\n      \n      if (!data.items || data.items.length === 0) {\n        this.playlistExhausted.add(playlistId);\n        return { videos: [], nextPageToken: null };\n      }\n\n      const videos = data.items\n        .filter(item => {\n          const title = item.snippet?.title || '';\n          if (!title || title === 'Deleted video' || title === 'Private video' || title === 'This video is unavailable') {\n            return false;\n          }\n          if (item.status?.privacyStatus) {\n            return item.status.privacyStatus === 'public';\n          }\n          return true;\n        })\n        .map(item => ({\n          id: item.contentDetails?.videoId || item.snippet?.resourceId?.videoId,\n          url: `https://www.youtube.com/watch?v=${item.contentDetails?.videoId || item.snippet?.resourceId?.videoId}`,\n          title: item.snippet.title,\n          published_at: item.snippet.publishedAt,\n          feature_image: item.snippet.thumbnails?.maxres?.url || \n                        item.snippet.thumbnails?.standard?.url || \n                        item.snippet.thumbnails?.high?.url || \n                        item.snippet.thumbnails?.medium?.url,\n          playlist_title: playlist.title,\n          playlist_id: playlistId\n        }));\n\n      // Update page token\n      if (data.nextPageToken) {\n        this.playlistPageTokens[playlistId] = data.nextPageToken;\n      } else {\n        delete this.playlistPageTokens[playlistId];\n        this.playlistExhausted.add(playlistId);\n      }\n\n      return { videos, nextPageToken: data.nextPageToken || null };\n    } catch (error) {\n      console.error(`Failed to fetch playlist ${playlistId}:`, error);\n      this.playlistExhausted.add(playlistId);\n      return { videos: [], nextPageToken: null };\n    }\n  }\n\n  /**\n   * Get videos from cache or fetch new ones if needed\n   */\n  async ensurePlaylistVideosLoaded(playlistId) {\n    // Check cache first\n    if (this.videoCache.has(playlistId)) {\n      const cached = this.videoCache.get(playlistId);\n      if (cached.length > 0) {\n        return cached;\n      }\n    }\n\n    // Fetch from API\n    const pageToken = this.playlistPageTokens[playlistId] || null;\n    const { videos, nextPageToken } = await this.fetchPlaylistVideos(playlistId, pageToken);\n    \n    // Update cache\n    if (videos.length > 0) {\n      const existing = this.videoCache.get(playlistId) || [];\n      const allVideos = [...existing, ...videos];\n      // Remove duplicates\n      const unique = [];\n      const seen = new Set();\n      for (const v of allVideos) {\n        if (!seen.has(v.id)) {\n          seen.add(v.id);\n          unique.push(v);\n        }\n      }\n      this.videoCache.set(playlistId, unique);\n      return unique;\n    }\n\n    return [];\n  }\n\n  /**\n   * Fetch videos from multiple playlists in parallel\n   */\n  async fetchYouTubeVideos(append = false) {\n    const perPage = parseInt(this.limit) || 6;\n    const playlistIds = this.selectedPlaylists.length \n      ? this.selectedPlaylists \n      : this.allPlaylists.map(p => p.id);\n    \n    if (!playlistIds.length) {\n      return { videos: [], hasMore: false };\n    }\n\n    // For initial load or filter change, fetch from all playlists in parallel\n    if (!append) {\n      // Fetch first batch from all playlists in parallel\n      const fetchPromises = playlistIds.map(id => this.ensurePlaylistVideosLoaded(id));\n      await Promise.all(fetchPromises);\n      this.isInitialLoad = false;\n    } else {\n      // For infinite scroll, first check if we have unshown videos in cache\n      let hasUnshownInCache = false;\n      for (const playlistId of playlistIds) {\n        const cached = this.videoCache.get(playlistId) || [];\n        const unshown = cached.filter(v => !this.displayedVideoIds.has(v.id));\n        if (unshown.length > 0) {\n          hasUnshownInCache = true;\n          break;\n        }\n      }\n      \n      // Only fetch from API if we don't have enough unshown videos in cache\n      if (!hasUnshownInCache) {\n        // Fetch more videos from playlists that still have pages\n        const playlistsToFetch = playlistIds.filter(id => \n          !this.playlistExhausted.has(id) && this.playlistPageTokens[id]\n        );\n        \n        if (playlistsToFetch.length > 0) {\n          const fetchPromises = playlistsToFetch.map(id => \n            this.fetchPlaylistVideos(id, this.playlistPageTokens[id])\n          );\n          const results = await Promise.all(fetchPromises);\n          \n          // Update cache with new videos\n          results.forEach((result, index) => {\n            const playlistId = playlistsToFetch[index];\n            if (result.videos.length > 0) {\n              const existing = this.videoCache.get(playlistId) || [];\n              const allVideos = [...existing, ...result.videos];\n              // Remove duplicates\n              const unique = [];\n              const seen = new Set();\n              for (const v of allVideos) {\n                if (!seen.has(v.id)) {\n                  seen.add(v.id);\n                  unique.push(v);\n                }\n              }\n              this.videoCache.set(playlistId, unique);\n            }\n          });\n        }\n      }\n    }\n\n    // Collect videos from cache\n    let allVideos = [];\n    for (const playlistId of playlistIds) {\n      const cached = this.videoCache.get(playlistId) || [];\n      allVideos = allVideos.concat(cached);\n    }\n\n    // Sort by published date (newest first)\n    allVideos.sort((a, b) => new Date(b.published_at) - new Date(a.published_at));\n    \n    // Remove duplicates\n    const uniqueVideos = [];\n    const seenIds = new Set();\n    for (const video of allVideos) {\n      if (!seenIds.has(video.id)) {\n        seenIds.add(video.id);\n        uniqueVideos.push(video);\n      }\n    }\n\n    // Filter out already displayed videos if appending\n    const availableVideos = append \n      ? uniqueVideos.filter(v => !this.displayedVideoIds.has(v.id))\n      : uniqueVideos;\n\n    // Get the requested number of videos\n    const result = availableVideos.slice(0, perPage);\n\n    // Check if we need to fetch more videos for infinite scroll\n    // hasMore is true if:\n    // 1. We got the full requested amount (result.length === perPage)\n    //    OR there are more available videos than we're showing\n    // 2. AND there are more videos available (either in cache or from API)\n    const hasMoreAvailable = this.hasMoreVideosAvailable();\n    const hasMore = (result.length === perPage || availableVideos.length > perPage) && hasMoreAvailable;\n\n    return { videos: result, hasMore };\n  }\n\n  renderVideoCard(video) {\n      const date = new Date(video.published_at);\n    const dateStr = date.toLocaleDateString(undefined, { \n      month: 'short', \n      day: '2-digit', \n      year: 'numeric' \n    });\n    \n    const featureImage = video.feature_image ? \n      `<a href=\"${video.url}\" class=\"card__image\" target=\"_blank\" rel=\"noopener\">\n        <img data-src=\"${video.feature_image}\" class=\"lazyload\" alt=\"${video.title}\">\n      </a>` : '';\n    \n    const tagHtml = video.playlist_title ? \n      `<span class=\"card__tag\">${video.playlist_title}</span>` : '';\n\n    if (this.cardType === 'default') {\n        return `\n        <article class=\"card card--default flex direction-column ${this.cardClass}\">\n  ${featureImage}\n          <div class=\"card__main flex direction-column\">\n            <h3 class=\"card__title\">\n              <a href=\"${video.url}\" target=\"_blank\" rel=\"noopener\">${video.title}</a>\n            </h3>\n            <div class=\"card__footer flex items-center\">\n      ${tagHtml}\n              <div class=\"card__meta flex items-center\">\n                <span class=\"card__date\">${dateStr}</span>\n      </div>\n    </div>\n  </div>\n</article>`;\n    } else {\n      return `\n        <article class=\"card card--small flex items-center ${this.cardClass}\">\n  ${featureImage}\n          <div class=\"card__main flex\">\n            <h3 class=\"card__title\">\n              <a href=\"${video.url}\" target=\"_blank\" rel=\"noopener\">${video.title}</a>\n            </h3>\n    ${tagHtml}\n            <div class=\"card__meta flex items-center\">\n              <span class=\"card__date\">${dateStr}</span>\n    </div>\n  </div>\n</article>`;\n    }\n  }\n\n  async loadMorePosts() {\n    if (!this.infiniteScroll || this.isLoading || !this.hasMorePosts) {\n      return;\n    }\n    \n    this.isLoading = true;\n    \n    try {\n      // First, try to get videos from buffer if available\n      if (this.videoBuffer.length > 0) {\n        const perPage = parseInt(this.limit) || 6;\n        const videosToShow = this.videoBuffer.splice(0, perPage);\n        \n        videosToShow.forEach(v => this.displayedVideoIds.add(v.id));\n        this.allVideos = [...this.allVideos, ...videosToShow];\n        this.renderPosts(videosToShow, true);\n        \n        // Check if we need to fetch more\n        if (this.videoBuffer.length === 0) {\n          await this.prefetchMoreVideos();\n        }\n        \n        this.hasMorePosts = this.videoBuffer.length > 0 || this.hasMoreVideosAvailable();\n        this.isLoading = false;\n        return;\n      }\n\n      // No buffer, fetch new videos\n      const { videos, hasMore } = await this.fetchYouTubeVideos(true);\n      \n      if (videos && videos.length > 0) {\n        videos.forEach(v => this.displayedVideoIds.add(v.id));\n        this.allVideos = [...this.allVideos, ...videos];\n        this.renderPosts(videos, true);\n        this.hasMorePosts = hasMore;\n        \n        // Prefetch next batch in background (don't await to avoid blocking)\n        if (hasMore) {\n          this.prefetchMoreVideos().catch(err => {\n            console.error('Background prefetch failed:', err);\n          });\n        }\n      } else {\n        this.hasMorePosts = false;\n      }\n    } catch (error) {\n      console.error('Failed to load more videos:', error);\n      this.hasMorePosts = false;\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  /**\n   * Check if there are more videos available to load\n   */\n  hasMoreVideosAvailable() {\n    const playlistIds = this.selectedPlaylists.length \n      ? this.selectedPlaylists \n      : this.allPlaylists.map(p => p.id);\n    \n    // Check if there are unshown videos in cache\n    for (const playlistId of playlistIds) {\n      const cached = this.videoCache.get(playlistId) || [];\n      const unshown = cached.filter(v => !this.displayedVideoIds.has(v.id));\n      if (unshown.length > 0) {\n        return true;\n      }\n    }\n    \n    // Check if there are playlists with more pages to fetch\n    return playlistIds.some(id => \n      !this.playlistExhausted.has(id) && this.playlistPageTokens[id]\n    );\n  }\n\n  /**\n   * Prefetch next batch of videos in background for smoother infinite scroll\n   */\n  async prefetchMoreVideos() {\n    if (this.isLoading || !this.hasMoreVideosAvailable()) return;\n    \n    try {\n      const playlistIds = this.selectedPlaylists.length \n        ? this.selectedPlaylists \n        : this.allPlaylists.map(p => p.id);\n      \n      // Fetch from playlists that still have page tokens\n      const activePlaylists = playlistIds.filter(id => \n        !this.playlistExhausted.has(id) && this.playlistPageTokens[id]\n      );\n\n      if (activePlaylists.length === 0) return;\n\n      // Fetch more videos from playlists in parallel\n      const fetchPromises = activePlaylists.map(id => \n        this.fetchPlaylistVideos(id, this.playlistPageTokens[id])\n      );\n\n      const results = await Promise.all(fetchPromises);\n      \n      // Update cache and collect new videos\n      let newVideos = [];\n      results.forEach((result, index) => {\n        const playlistId = activePlaylists[index];\n        if (result.videos.length > 0) {\n          const existing = this.videoCache.get(playlistId) || [];\n          const allVideos = [...existing, ...result.videos];\n          // Remove duplicates\n          const unique = [];\n          const seen = new Set();\n          for (const v of allVideos) {\n            if (!seen.has(v.id)) {\n              seen.add(v.id);\n              unique.push(v);\n            }\n          }\n          this.videoCache.set(playlistId, unique);\n          newVideos = newVideos.concat(result.videos);\n        }\n      });\n\n      // Sort and deduplicate\n      newVideos.sort((a, b) => new Date(b.published_at) - new Date(a.published_at));\n      const uniqueNewVideos = [];\n      const seenIds = new Set();\n      for (const video of newVideos) {\n        if (!seenIds.has(video.id) && !this.displayedVideoIds.has(video.id)) {\n          seenIds.add(video.id);\n          uniqueNewVideos.push(video);\n        }\n      }\n\n      // Add to buffer\n      this.videoBuffer = [...this.videoBuffer, ...uniqueNewVideos];\n    } catch (error) {\n      console.error('Failed to prefetch videos:', error);\n    }\n  }\n\n  resetInfiniteScrollState() {\n    this.allVideos = [];\n    this.displayedVideoIds.clear();\n    this.videoBuffer = [];\n    this.playlistPageTokens = {};\n    this.playlistExhausted.clear();\n    // Keep videoCache for performance, but clear displayed IDs\n  }\n\n  renderPosts(videos, append = false) {\n    const html = videos.map(video => this.renderVideoCard(video)).join('');\n\n    if (append) {\n      this.articlesContainer.insertAdjacentHTML('beforeend', html);\n      // Check if we need to load more after appending\n      setTimeout(() => {\n        this.checkAndLoadMoreIfNeeded();\n      }, 100);\n    } else {\n      // Always animate content replacement for better UX\n      this.articlesContainer.style.opacity = '0';\n      this.articlesContainer.style.transform = 'translateY(10px)';\n      \n      setTimeout(() => {\n        this.articlesContainer.innerHTML = html || '<p>No videos found.</p>';\n        this.articlesContainer.style.opacity = '1';\n        this.articlesContainer.style.transform = 'translateY(0)';\n        // Check if we need to load more after rendering\n        setTimeout(() => {\n          this.checkAndLoadMoreIfNeeded();\n        }, 100);\n      }, 200);\n    }\n  }\n\n  setupFilterPopup() {\n    const filterButton = this.section.querySelector('.cards-filter__button');\n    const popup = this.section.querySelector('.filter-popup');\n    \n    if (!filterButton || !popup) return;\n\n    filterButton.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.togglePopup();\n    });\n\n    // Handle checkbox changes\n    popup.addEventListener('change', (e) => {\n      if (e.target.classList.contains('filter-popup__checkbox')) {\n        if (e.target.hasAttribute('data-yplaylist')) {\n          this.handlePlaylistChange();\n        }\n      }\n    });\n\n    // Handle reset button\n    const resetButton = popup.querySelector('.filter-popup__cancel-btn');\n    if (resetButton) {\n      resetButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.resetAllFilters();\n      });\n    }\n\n    // Handle click outside popup\n    document.addEventListener('click', (e) => {\n      const popupContainer = this.section.querySelector('.cards-filter__popup-container');\n      if (popup && popup.classList.contains('show') && !popupContainer.contains(e.target)) {\n        this.closePopup();\n      }\n    });\n  }\n\n  togglePopup() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (!popup) return;\n\n    const isVisible = popup.classList.contains('show');\n    \n    if (isVisible) {\n      this.closePopup();\n    } else {\n      popup.classList.add('show');\n      this.renderPlaylistsInPopup();\n    }\n    \n    this.updateFilterButton();\n  }\n\n  closePopup() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (popup) {\n      popup.classList.remove('show');\n      this.updateFilterButton();\n    }\n  }\n\n  renderPlaylistsInPopup() {\n    const formatsList = this.section.querySelector('#formats-list');\n      if (!formatsList) return;\n    \n      // Change title to Playlists and hide other columns\n    const popup = this.section.querySelector('.filter-popup');\n      if (popup) {\n        const titleEls = popup.querySelectorAll('.filter-popup__title');\n        if (titleEls && titleEls[0]) titleEls[0].textContent = 'Playlists';\n        const typesCol = popup.querySelector('#types-list')?.closest('.filter-popup__column');\n        const authorsCol = popup.querySelector('#authors-list')?.closest('.filter-popup__column');\n        if (typesCol) typesCol.style.display = 'none';\n        if (authorsCol) authorsCol.style.display = 'none';\n      }\n    \n    const html = this.allPlaylists.map((pl) => {\n      const checked = this.selectedPlaylists.includes(pl.id) ? 'checked' : '';\n        return `\n        <label class=\"filter-popup__option\">\n          <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-yplaylist=\"${pl.id}\" ${checked}>\n          <span class=\"filter-popup__text\">${pl.title}</span>\n        </label>\n        `;\n      }).join('');\n      formatsList.innerHTML = html;\n    }\n\n  handlePlaylistChange() {\n    const boxes = this.section.querySelectorAll('#formats-list input[data-yplaylist]');\n    this.selectedPlaylists = Array.from(boxes).filter(b => b.checked).map(b => b.getAttribute('data-yplaylist'));\n    this.updateMainPlaylistButtons();\n    this.loadVideos();\n  }\n\n  updateMainPlaylistButtons() {\n    const mainButtons = this.filterList.querySelectorAll('.cards-filter__item-button');\n    mainButtons.forEach(button => {\n        const slug = button.getAttribute('data-slug');\n      const playlistId = button.getAttribute('data-playlist-id');\n        if (slug === 'all') {\n        button.classList.toggle('active', this.selectedPlaylists.length === 0);\n      } else if (playlistId) {\n        button.classList.toggle('active', this.selectedPlaylists.includes(playlistId));\n        } else {\n          button.classList.remove('active');\n        }\n      });\n    }\n\n  updateFilterButton() {\n    const filterButton = this.section.querySelector('.cards-filter__button');\n    if (!filterButton) return;\n\n    const buttonText = filterButton.querySelector('span');\n    const filterIcon = filterButton.querySelector('.filter-icon');\n    const closeIcon = filterButton.querySelector('.close-icon');\n    const popup = this.section.querySelector('.filter-popup');\n    const isVisible = popup && popup.classList.contains('show');\n\n    if (isVisible) {\n      if (filterIcon) filterIcon.style.display = 'none';\n      if (closeIcon) closeIcon.style.display = 'block';\n      buttonText.textContent = 'Close';\n    } else {\n      if (filterIcon) filterIcon.style.display = 'block';\n      if (closeIcon) closeIcon.style.display = 'none';\n      buttonText.textContent = 'Filter';\n    }\n  }\n\n  resetAllFilters() {\n    this.selectedPlaylists = [];\n    \n    // Uncheck all checkboxes\n    const allCheckboxes = this.section.querySelectorAll('.filter-popup__checkbox');\n    allCheckboxes.forEach(checkbox => checkbox.checked = false);\n    \n    // Update main buttons\n    this.updateMainPlaylistButtons();\n    \n    // Close popup\n    this.closePopup();\n    \n    // Reload content\n    this.loadVideos();\n  }\n}\n\n// Mixed mode scenario (articles + videos)\nexport class MixedCardsManager extends BaseCardsManager {\n  constructor(section, config) {\n    super(section, config);\n    this.formats = section.getAttribute('data-formats') || '';\n    this.types = section.getAttribute('data-types') || '';\n    this.filterByAuthors = section.getAttribute('data-filter-by-authors') === 'true';\n    this.youtubeApiKey = config.youtubeApiKey;\n    this.youtubeChannelId = config.youtubeChannelId;\n    this.isVideosMode = false;\n    this.allPlaylists = [];\n    this.selectedPlaylists = [];\n    \n    // Articles mode state\n    this.allFormats = [];\n    this.allTypes = [];\n    this.allAuthors = [];\n    this.selectedFormats = [];\n    this.selectedTypes = [];\n    this.selectedAuthors = [];\n    \n    // Store original view all href\n    this.originalViewAllHref = '';\n  }\n\n  setupEventListeners() {\n    super.setupEventListeners();\n    \n    // Mode switching\n    const modeButtons = this.section.querySelectorAll('.cards-list__mode-button');\n    modeButtons.forEach(btn => {\n      btn.addEventListener('click', (e) => {\n          e.preventDefault();\n        this.switchMode(btn.getAttribute('data-mode'), false);\n      });\n    });\n\n    // Filter buttons\n    if (this.filterList) {\n      this.filterList.addEventListener('click', (e) => {\n        const button = e.target.closest('button.cards-filter__item-button');\n        if (!button) return;\n        e.preventDefault();\n        this.handleFilterClick(button);\n      });\n    }\n\n    // Filter popup for articles mode\n    this.setupFilterPopup();\n  }\n\n  async loadInitialContent() {\n    // Don't load content on init - let server-rendered content stay\n    // But initialize UI elements\n    \n    // Set up initial mode state\n    this.isVideosMode = false;\n    \n    // Initialize mode buttons - set Articles as active\n    const modeButtons = this.section.querySelectorAll('.cards-list__mode-button');\n    modeButtons.forEach(btn => btn.classList.remove('active'));\n    const articlesButton = this.section.querySelector('.cards-list__mode-button[data-mode=\"articles\"]');\n    if (articlesButton) {\n      articlesButton.classList.add('active');\n    }\n    \n    // Load formats and render main buttons for Articles mode\n    await this.loadFormats();\n    this.renderFormatButtons();\n    \n    // Preload filter data to prevent popup jump when opening\n    await this.preloadFilterData();\n    \n    // Load playlists for Videos mode (but don't render yet)\n    await this.loadPlaylists();\n    \n    // Store original view all href\n    const viewAllButton = this.section.querySelector('.cards-list__view-all');\n    if (viewAllButton) {\n      this.originalViewAllHref = viewAllButton.getAttribute('href') || '/articles';\n    }\n  }\n\n  async preloadFilterData() {\n    // Preload all filter data in parallel to prevent popup jump\n    const promises = [];\n    \n    if (this.types) {\n      promises.push(this.loadTypes());\n    }\n    \n    if (this.filterByAuthors) {\n      promises.push(this.loadAuthors());\n    }\n    \n    await Promise.all(promises);\n  }\n\n  updateViewAllButton(newHref) {\n    const viewAllButton = this.section.querySelector('.cards-list__view-all');\n    if (viewAllButton) {\n      viewAllButton.setAttribute('href', newHref);\n    }\n  }\n\n  async switchMode(mode, skipContentLoad = false) {\n    const modeButtons = this.section.querySelectorAll('.cards-list__mode-button');\n    modeButtons.forEach(btn => btn.classList.remove('active'));\n    modeButtons.forEach(btn => {\n      if (btn.getAttribute('data-mode') === mode) {\n          btn.classList.add('active');\n      }\n    });\n\n    this.isVideosMode = mode === 'videos';\n\n    // Close popup when switching modes\n    this.closePopup();\n\n    // Reset all filters when switching modes (but not on initial load)\n    if (!skipContentLoad) {\n      this.resetAllFilters();\n    }\n\n    if (this.isVideosMode) {\n      await this.loadPlaylists();\n      this.renderPlaylistButtons();\n      this.updateViewAllButton('/videos');\n      if (!skipContentLoad) {\n        this.loadVideos();\n      }\n          } else {\n      await this.loadFormats();\n      this.renderFormatButtons();\n      this.updateViewAllButton(this.originalViewAllHref || '/articles');\n      if (!skipContentLoad) {\n        this.loadPostsByTag('all');\n      }\n    }\n  }\n\n  async loadPlaylists() {\n    if (this.allPlaylists.length > 0) return;\n    \n    // Check if API key is valid\n    if (!this.youtubeApiKey || this.youtubeApiKey.includes('{{') || this.youtubeApiKey === 'undefined') {\n      console.warn('YouTube API key not configured or invalid');\n      this.allPlaylists = [];\n      return;\n    }\n    \n    try {\n      const url = `https://www.googleapis.com/youtube/v3/playlists?part=snippet,contentDetails&channelId=${this.youtubeChannelId}&maxResults=50&key=${this.youtubeApiKey}`;\n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.error) {\n        console.error('YouTube API error:', data.error);\n        this.allPlaylists = [];\n        return;\n      }\n      \n      if (data.items) {\n        this.allPlaylists = data.items\n          .map(pl => ({\n            id: pl.id,\n            title: pl.snippet.title,\n            count: pl.contentDetails?.itemCount || 0\n          }))\n          .filter(pl => pl.title.toLowerCase() !== 'shorts');\n      }\n    } catch (error) {\n      console.error('Failed to load playlists:', error);\n      this.allPlaylists = [];\n    }\n  }\n\n  renderPlaylistButtons() {\n    if (!this.filterList) return;\n    \n    const topPlaylists = [...this.allPlaylists]\n      .sort((a, b) => b.count - a.count)\n      .slice(0, 3);\n    \n    const allButton = this.filterList.querySelector('li:first-child');\n    this.filterList.innerHTML = '';\n    if (allButton) this.filterList.appendChild(allButton);\n    \n    const items = topPlaylists.map(pl => \n      `<li class=\"cards-filter__item\">\n        <button class=\"cards-filter__item-button\" data-playlist-id=\"${pl.id}\">${pl.title}</button>\n      </li>`\n    ).join('');\n    \n    this.filterList.insertAdjacentHTML('beforeend', items);\n  }\n\n  handleFilterClick(button) {\n    if (this.isVideosMode) {\n      this.handleVideoFilterClick(button);\n    } else {\n      this.handleArticleFilterClick(button);\n    }\n  }\n\n  handleVideoFilterClick(button) {\n    const playlistId = button.getAttribute('data-playlist-id');\n    const slug = button.getAttribute('data-slug');\n    \n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n      button.classList.add('active');\n\n      if (slug === 'all') {\n      this.selectedPlaylists = [];\n    } else if (playlistId) {\n      this.selectedPlaylists = [playlistId];\n    }\n\n    this.loadVideos();\n  }\n\n  handleArticleFilterClick(button) {\n    const slug = button.getAttribute('data-slug');\n    \n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n    button.classList.add('active');\n\n    this.loadPostsByTag(slug);\n  }\n\n  async loadVideos() {\n    try {\n      // Add loading class\n      this.articlesContainer.classList.add('cards-list__articles--loading');\n      this.articlesContainer.classList.remove('cards-list__articles--empty', 'cards-list__articles--error');\n      \n      const { videos } = await this.fetchYouTubeVideos();\n      \n      // Remove loading class\n      this.articlesContainer.classList.remove('cards-list__articles--loading');\n      \n      if (videos.length === 0) {\n        // No videos found\n        this.articlesContainer.classList.add('cards-list__articles--empty');\n        const html = '<p class=\"cards-list__empty-message\">No videos found.</p>';\n        \n        // Add animation for videos\n        this.articlesContainer.style.opacity = '0';\n        this.articlesContainer.style.transform = 'translateY(10px)';\n        \n        setTimeout(() => {\n          this.articlesContainer.innerHTML = html;\n          this.articlesContainer.style.opacity = '1';\n          this.articlesContainer.style.transform = 'translateY(0)';\n        }, 200);\n      } else {\n        // Videos found - remove empty/error classes\n        this.articlesContainer.classList.remove('cards-list__articles--empty', 'cards-list__articles--error');\n        \n        const html = videos.map(video => this.renderVideoCard(video)).join('');\n        \n        // Add animation for videos\n        this.articlesContainer.style.opacity = '0';\n        this.articlesContainer.style.transform = 'translateY(10px)';\n        \n        setTimeout(() => {\n          this.articlesContainer.innerHTML = html;\n          this.articlesContainer.style.opacity = '1';\n          this.articlesContainer.style.transform = 'translateY(0)';\n        }, 200);\n      }\n    } catch (error) {\n      console.error('Failed to load videos:', error);\n      \n      // Remove loading class and add error class\n      this.articlesContainer.classList.remove('cards-list__articles--loading');\n      this.articlesContainer.classList.add('cards-list__articles--error');\n      \n      const html = '<p class=\"cards-list__error-message\">Failed to load videos. Please try again later.</p>';\n      \n      this.articlesContainer.style.opacity = '0';\n      this.articlesContainer.style.transform = 'translateY(10px)';\n      \n      setTimeout(() => {\n        this.articlesContainer.innerHTML = html;\n        this.articlesContainer.style.opacity = '1';\n        this.articlesContainer.style.transform = 'translateY(0)';\n      }, 200);\n    }\n  }\n\n  async fetchYouTubeVideos() {\n    const perPage = parseInt(this.limit) || 6;\n    const playlistIds = this.selectedPlaylists.length \n      ? this.selectedPlaylists \n      : this.allPlaylists.map(p => p.id);\n\n    if (!playlistIds.length) {\n      return { videos: [] };\n    }\n\n    // Fetch from all playlists in parallel for better performance\n    const fetchPromises = playlistIds.map(async (playlistId) => {\n      const playlist = this.allPlaylists.find(p => p.id === playlistId);\n      if (!playlist) return { videos: [] };\n\n      try {\n        const url = `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails,status&maxResults=50&playlistId=${playlistId}&key=${this.youtubeApiKey}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        \n        if (data.error || !data.items) {\n          return { videos: [] };\n        }\n\n        const videos = data.items\n          .filter(item => {\n            const title = item.snippet?.title || '';\n            if (!title || title === 'Deleted video' || title === 'Private video' || title === 'This video is unavailable') {\n              return false;\n            }\n            if (item.status?.privacyStatus) {\n              return item.status.privacyStatus === 'public';\n            }\n            return true;\n          })\n          .map(item => ({\n            id: item.contentDetails?.videoId || item.snippet?.resourceId?.videoId,\n            url: `https://www.youtube.com/watch?v=${item.contentDetails?.videoId || item.snippet?.resourceId?.videoId}`,\n            title: item.snippet.title,\n            published_at: item.snippet.publishedAt,\n            feature_image: item.snippet.thumbnails?.maxres?.url || \n                          item.snippet.thumbnails?.standard?.url || \n                          item.snippet.thumbnails?.high?.url || \n                          item.snippet.thumbnails?.medium?.url,\n            playlist_title: playlist.title\n          }));\n\n        return { videos };\n      } catch (error) {\n        console.error(`Failed to fetch playlist ${playlistId}:`, error);\n        return { videos: [] };\n      }\n    });\n\n    const results = await Promise.all(fetchPromises);\n    \n    // Combine all videos\n    let allVideos = [];\n    results.forEach(result => {\n      allVideos = allVideos.concat(result.videos);\n    });\n\n    // Sort by published date (newest first)\n    allVideos.sort((a, b) => new Date(b.published_at) - new Date(a.published_at));\n    \n    // Remove duplicates\n    const uniqueVideos = [];\n    const seenIds = new Set();\n    for (const video of allVideos) {\n      if (!seenIds.has(video.id)) {\n        seenIds.add(video.id);\n        uniqueVideos.push(video);\n      }\n    }\n    \n    return { videos: uniqueVideos.slice(0, perPage) };\n  }\n\n  renderVideoCard(video) {\n    const date = new Date(video.published_at);\n    const dateStr = date.toLocaleDateString(undefined, { \n      month: 'short', \n      day: '2-digit', \n      year: 'numeric' \n    });\n    \n    const featureImage = video.feature_image ? \n      `<a href=\"${video.url}\" class=\"card__image\" target=\"_blank\" rel=\"noopener\">\n        <img data-src=\"${video.feature_image}\" class=\"lazyload\" alt=\"${video.title}\">\n      </a>` : '';\n    \n    const tagHtml = video.playlist_title ? \n      `<span class=\"card__tag\">${video.playlist_title}</span>` : '';\n\n    if (this.cardType === 'default') {\n      return `\n        <article class=\"card card--default flex direction-column ${this.cardClass}\">\n          ${featureImage}\n          <div class=\"card__main flex direction-column\">\n            <h3 class=\"card__title\">\n              <a href=\"${video.url}\" target=\"_blank\" rel=\"noopener\">${video.title}</a>\n            </h3>\n            <div class=\"card__footer flex items-center\">\n              ${tagHtml}\n              <div class=\"card__meta flex items-center\">\n                <span class=\"card__date\">${dateStr}</span>\n              </div>\n            </div>\n          </div>\n        </article>`;\n      } else {\n      return `\n        <article class=\"card card--small flex items-center ${this.cardClass}\">\n          ${featureImage}\n          <div class=\"card__main flex\">\n            <h3 class=\"card__title\">\n              <a href=\"${video.url}\" target=\"_blank\" rel=\"noopener\">${video.title}</a>\n            </h3>\n            ${tagHtml}\n            <div class=\"card__meta flex items-center\">\n              <span class=\"card__date\">${dateStr}</span>\n            </div>\n          </div>\n        </article>`;\n    }\n  }\n\n  async loadFormats() {\n    try {\n      const response = await this.api.tags.browse({\n        filter: `slug:[${this.formats}]`,\n        limit: 'all'\n      });\n      \n      this.allFormats = response.map(tag => ({\n        slug: tag.slug,\n        name: tag.name\n      }));\n      \n      // Render formats in popup\n      this.renderFormatsList();\n    } catch (error) {\n      console.error('Failed to load formats:', error);\n    }\n  }\n\n  renderFormatButtons() {\n    if (!this.filterList) return;\n    \n    const allButton = this.filterList.querySelector('li:first-child');\n    this.filterList.innerHTML = '';\n    if (allButton) this.filterList.appendChild(allButton);\n    \n    const items = this.allFormats.map(format => \n      `<li class=\"cards-filter__item\">\n        <button class=\"cards-filter__item-button\" data-slug=\"${format.slug}\">${format.name}</button>\n      </li>`\n    ).join('');\n    \n    this.filterList.insertAdjacentHTML('beforeend', items);\n  }\n\n  renderFormatsList() {\n    const formatsList = this.section.querySelector('#formats-list');\n    if (!formatsList) return;\n\n    const html = this.allFormats.map(format => {\n      const isSelected = this.selectedFormats.some(selected => selected.slug === format.slug);\n      return `\n        <label class=\"filter-popup__option\">\n          <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-format-slug=\"${format.slug}\" ${isSelected ? 'checked' : ''}>\n          <span class=\"filter-popup__text\">${format.name}</span>\n        </label>\n      `;\n    }).join('');\n\n    formatsList.innerHTML = html;\n  }\n\n  setupFilterPopup() {\n    const filterButton = this.section.querySelector('.cards-filter__button');\n    const popup = this.section.querySelector('.filter-popup');\n    \n    if (!filterButton || !popup) return;\n\n    filterButton.addEventListener('click', (e) => {\n      e.preventDefault();\n      this.togglePopup();\n    });\n\n    // Handle checkbox changes\n    popup.addEventListener('change', (e) => {\n      if (e.target.classList.contains('filter-popup__checkbox')) {\n        // Check if it's a playlist checkbox (for videos mode)\n        if (e.target.hasAttribute('data-yplaylist')) {\n          // Only handle playlist change if we're in videos mode\n          if (this.isVideosMode) {\n            this.handlePlaylistChange();\n          }\n        } else {\n          // Handle filter change for articles mode\n          if (!this.isVideosMode) {\n            this.handleFilterChange();\n          }\n        }\n      }\n    });\n\n    // Handle reset button\n    const resetButton = popup.querySelector('.filter-popup__cancel-btn');\n    if (resetButton) {\n      resetButton.addEventListener('click', (e) => {\n        e.preventDefault();\n        this.resetAllFilters();\n      });\n    }\n\n    // Handle click outside popup\n    document.addEventListener('click', (e) => {\n      const popupContainer = this.section.querySelector('.cards-filter__popup-container');\n      if (popup && popup.classList.contains('show') && !popupContainer.contains(e.target)) {\n        this.closePopup();\n      }\n    });\n  }\n\n  togglePopup() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (!popup) return;\n\n    const isVisible = popup.classList.contains('show');\n    \n    if (isVisible) {\n      this.closePopup();\n    } else {\n      popup.classList.add('show');\n      this.loadFilterData();\n    }\n    \n    this.updateFilterButton();\n  }\n\n  closePopup() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (popup) {\n      popup.classList.remove('show');\n      this.updateFilterButton();\n    }\n  }\n\n  loadFilterData() {\n    if (this.isVideosMode) {\n      // For videos mode, populate playlists in popup\n      this.renderPlaylistsInPopup();\n    } else {\n      // For articles mode, restore popup and render preloaded data\n      this.restorePopupForArticles();\n      // Data should already be preloaded, just render it\n      this.renderFormatsList();\n      if (this.types) {\n        this.renderTypesList();\n      }\n      if (this.filterByAuthors) {\n        this.renderAuthorsList();\n      }\n    }\n  }\n\n  renderPlaylistsInPopup() {\n    const formatsList = this.section.querySelector('#formats-list');\n    if (!formatsList) return;\n    \n    // Change title to Playlists and hide other columns\n    const popup = this.section.querySelector('.filter-popup');\n    if (popup) {\n      const titleEls = popup.querySelectorAll('.filter-popup__title');\n      if (titleEls && titleEls[0]) titleEls[0].textContent = 'Playlists';\n      const typesCol = popup.querySelector('#types-list')?.closest('.filter-popup__column');\n      const authorsCol = popup.querySelector('#authors-list')?.closest('.filter-popup__column');\n      if (typesCol) typesCol.style.display = 'none';\n      if (authorsCol) authorsCol.style.display = 'none';\n    }\n    \n    const html = this.allPlaylists.map((pl) => {\n      const checked = this.selectedPlaylists.includes(pl.id) ? 'checked' : '';\n      return `\n        <label class=\"filter-popup__option\">\n          <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-yplaylist=\"${pl.id}\" ${checked}>\n          <span class=\"filter-popup__text\">${pl.title}</span>\n        </label>\n      `;\n    }).join('');\n    formatsList.innerHTML = html;\n  }\n\n  restorePopupForArticles() {\n    const popup = this.section.querySelector('.filter-popup');\n    if (popup) {\n      const titleEls = popup.querySelectorAll('.filter-popup__title');\n      if (titleEls && titleEls[0]) titleEls[0].textContent = 'Formats';\n      const typesCol = popup.querySelector('#types-list')?.closest('.filter-popup__column');\n      const authorsCol = popup.querySelector('#authors-list')?.closest('.filter-popup__column');\n      if (typesCol) typesCol.style.display = '';\n      if (authorsCol) authorsCol.style.display = '';\n    }\n  }\n\n  async loadTypes() {\n    if (!this.types) return;\n    \n    try {\n      const typeSlugs = this.types.split(',');\n      this.allTypes = typeSlugs.map(slug => ({\n            slug: slug.trim(),\n            name: slug.trim().charAt(0).toUpperCase() + slug.trim().slice(1).replace(/-/g, ' ')\n          }));\n      this.renderTypesList();\n    } catch (error) {\n      console.error('Failed to load types:', error);\n    }\n  }\n\n  async loadAuthors() {\n    try {\n      const response = await this.api.posts.browse({\n          include: ['authors'],\n        limit: 'all',\n        filter: `tag:[${this.formats}]`\n      });\n      \n        const authorsMap = new Map();\n      response.forEach(post => {\n          if (post.authors) {\n            post.authors.forEach(author => {\n              if (!authorsMap.has(author.slug)) {\n                authorsMap.set(author.slug, {\n                  slug: author.slug,\n                  name: author.name\n                });\n              }\n            });\n          }\n        });\n        \n      this.allAuthors = Array.from(authorsMap.values());\n      this.renderAuthorsList();\n    } catch (error) {\n      console.error('Failed to load authors:', error);\n    }\n  }\n\n  renderFormatsList() {\n    const formatsList = this.section.querySelector('#formats-list');\n      if (!formatsList) return;\n\n    const html = this.allFormats.map(format => {\n      const isSelected = this.selectedFormats.some(selected => selected.slug === format.slug);\n        return `\n          <label class=\"filter-popup__option\">\n            <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-format-slug=\"${format.slug}\" ${isSelected ? 'checked' : ''}>\n            <span class=\"filter-popup__text\">${format.name}</span>\n          </label>\n        `;\n      }).join('');\n\n      formatsList.innerHTML = html;\n    }\n\n  renderTypesList() {\n    const typesList = this.section.querySelector('#types-list');\n      if (!typesList) return;\n\n    const html = this.allTypes.map(type => {\n      const isSelected = this.selectedTypes.some(selected => selected.slug === type.slug);\n        return `\n          <label class=\"filter-popup__option\">\n            <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-type-slug=\"${type.slug}\" ${isSelected ? 'checked' : ''}>\n            <span class=\"filter-popup__text\">${type.name}</span>\n          </label>\n        `;\n      }).join('');\n\n      typesList.innerHTML = html;\n    }\n\n  renderAuthorsList() {\n    const authorsList = this.section.querySelector('#authors-list');\n      if (!authorsList) return;\n\n    const html = this.allAuthors.map(author => {\n      const isSelected = this.selectedAuthors.some(selected => selected.slug === author.slug);\n        return `\n          <label class=\"filter-popup__option\">\n            <input type=\"checkbox\" class=\"filter-popup__checkbox\" data-author-slug=\"${author.slug}\" ${isSelected ? 'checked' : ''}>\n            <span class=\"filter-popup__text\">${author.name}</span>\n          </label>\n        `;\n      }).join('');\n\n      authorsList.innerHTML = html;\n    }\n\n  handleFilterClick(button) {\n    if (this.isVideosMode) {\n      this.handleVideoFilterClick(button);\n      } else {\n      this.handleArticleFilterClick(button);\n    }\n  }\n\n  handleArticleFilterClick(button) {\n    const slug = button.getAttribute('data-slug');\n    \n    // Update active button\n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n    button.classList.add('active');\n\n    // Clear popup selections and set main selection\n    this.selectedFormats = [];\n    this.selectedTypes = [];\n    this.selectedAuthors = [];\n\n    if (slug !== 'all') {\n      const format = this.allFormats.find(f => f.slug === slug);\n      if (format) {\n        this.selectedFormats = [format];\n      }\n    }\n\n    // Close popup\n    this.closePopup();\n\n    // Update popup checkboxes\n    this.updatePopupCheckboxes();\n\n    this.loadPostsByTag(slug);\n  }\n\n  handleVideoFilterClick(button) {\n    const playlistId = button.getAttribute('data-playlist-id');\n    const slug = button.getAttribute('data-slug');\n    \n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n    button.classList.add('active');\n\n    if (slug === 'all') {\n      this.selectedPlaylists = [];\n    } else if (playlistId) {\n      this.selectedPlaylists = [playlistId];\n    }\n\n    this.loadVideos();\n  }\n\n  handlePlaylistChange() {\n    // Only handle playlist change if we're in videos mode\n    if (!this.isVideosMode) {\n      console.warn('handlePlaylistChange called but not in videos mode');\n      return;\n    }\n    \n    const boxes = this.section.querySelectorAll('#formats-list input[data-yplaylist]');\n    this.selectedPlaylists = Array.from(boxes).filter(b => b.checked).map(b => b.getAttribute('data-yplaylist'));\n    this.updateMainPlaylistButtons();\n    this.loadVideos();\n  }\n\n  updateMainPlaylistButtons() {\n    const mainButtons = this.filterList.querySelectorAll('.cards-filter__item-button');\n    mainButtons.forEach(button => {\n      const slug = button.getAttribute('data-slug');\n      const playlistId = button.getAttribute('data-playlist-id');\n      if (slug === 'all') {\n        button.classList.toggle('active', this.selectedPlaylists.length === 0);\n      } else if (playlistId) {\n        button.classList.toggle('active', this.selectedPlaylists.includes(playlistId));\n      } else {\n        button.classList.remove('active');\n      }\n    });\n  }\n\n  handleFilterChange() {\n    // Update selected formats\n    const formatCheckboxes = this.section.querySelectorAll('#formats-list input[type=\"checkbox\"]');\n    this.selectedFormats = [];\n    formatCheckboxes.forEach(checkbox => {\n      if (checkbox.checked) {\n        const formatSlug = checkbox.getAttribute('data-format-slug');\n        const format = this.allFormats.find(f => f.slug === formatSlug);\n        if (format) {\n          this.selectedFormats.push(format);\n        }\n      }\n    });\n\n    // Update selected types\n    const typeCheckboxes = this.section.querySelectorAll('#types-list input[type=\"checkbox\"]');\n    this.selectedTypes = [];\n    typeCheckboxes.forEach(checkbox => {\n      if (checkbox.checked) {\n        const typeSlug = checkbox.getAttribute('data-type-slug');\n        const type = this.allTypes.find(t => t.slug === typeSlug);\n        if (type) {\n          this.selectedTypes.push(type);\n        }\n      }\n    });\n\n    // Update selected authors\n    const authorCheckboxes = this.section.querySelectorAll('#authors-list input[type=\"checkbox\"]');\n    this.selectedAuthors = [];\n    authorCheckboxes.forEach(checkbox => {\n      if (checkbox.checked) {\n        const authorSlug = checkbox.getAttribute('data-author-slug');\n        const author = this.allAuthors.find(a => a.slug === authorSlug);\n        if (author) {\n          this.selectedAuthors.push(author);\n        }\n      }\n    });\n\n    // Update main buttons\n    this.updateMainButtons();\n    this.loadPostsByTag('all');\n  }\n\n  updateMainButtons() {\n    if (!this.filterList) return;\n    \n    if (this.isVideosMode) {\n      this.updateMainPlaylistButtons();\n        } else {\n      const mainButtons = this.filterList.querySelectorAll('.cards-filter__item-button');\n      mainButtons.forEach(button => {\n        const slug = button.getAttribute('data-slug');\n        if (slug === 'all') {\n          button.classList.toggle('active', this.selectedFormats.length === 0);\n        } else {\n          const isSelected = this.selectedFormats.some(format => format.slug === slug);\n          button.classList.toggle('active', isSelected);\n        }\n      });\n    }\n  }\n\n  updatePopupCheckboxes() {\n    // Update format checkboxes\n    const formatCheckboxes = this.section.querySelectorAll('#formats-list input[type=\"checkbox\"]');\n    formatCheckboxes.forEach(checkbox => {\n      const formatSlug = checkbox.getAttribute('data-format-slug');\n      checkbox.checked = this.selectedFormats.some(f => f.slug === formatSlug);\n    });\n\n    // Update type checkboxes\n    const typeCheckboxes = this.section.querySelectorAll('#types-list input[type=\"checkbox\"]');\n    typeCheckboxes.forEach(checkbox => {\n      const typeSlug = checkbox.getAttribute('data-type-slug');\n      checkbox.checked = this.selectedTypes.some(t => t.slug === typeSlug);\n    });\n\n    // Update author checkboxes\n    const authorCheckboxes = this.section.querySelectorAll('#authors-list input[type=\"checkbox\"]');\n    authorCheckboxes.forEach(checkbox => {\n      const authorSlug = checkbox.getAttribute('data-author-slug');\n      checkbox.checked = this.selectedAuthors.some(a => a.slug === authorSlug);\n    });\n  }\n\n  resetAllFilters() {\n    this.selectedFormats = [];\n    this.selectedTypes = [];\n    this.selectedAuthors = [];\n    this.selectedPlaylists = [];\n    \n    // Uncheck all checkboxes\n    const allCheckboxes = this.section.querySelectorAll('.filter-popup__checkbox');\n    allCheckboxes.forEach(checkbox => checkbox.checked = false);\n    \n    // Reset main buttons to \"All\" active\n    if (this.filterList) {\n      this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => {\n        btn.classList.remove('active');\n        if (btn.getAttribute('data-slug') === 'all') {\n          btn.classList.add('active');\n        }\n      });\n    }\n    \n    // Close popup\n    this.closePopup();\n    \n    // Reload content based on current mode\n    if (this.isVideosMode) {\n      this.loadVideos();\n    } else {\n      this.loadPostsByTag('all');\n    }\n  }\n\n  updateFilterButton() {\n    const filterButton = this.section.querySelector('.cards-filter__button');\n    if (!filterButton) return;\n\n    const buttonText = filterButton.querySelector('span');\n    const filterIcon = filterButton.querySelector('.filter-icon');\n    const closeIcon = filterButton.querySelector('.close-icon');\n    const popup = this.section.querySelector('.filter-popup');\n    const isVisible = popup && popup.classList.contains('show');\n\n    if (isVisible) {\n      if (filterIcon) filterIcon.style.display = 'none';\n      if (closeIcon) closeIcon.style.display = 'block';\n      buttonText.textContent = 'Close';\n    } else {\n      if (filterIcon) filterIcon.style.display = 'block';\n      if (closeIcon) closeIcon.style.display = 'none';\n      buttonText.textContent = 'Filter';\n    }\n  }\n\n  async loadPostsByTag(slug, page = 1, append = false) {\n    if (this.isLoading) return;\n    \n    try {\n      this.isLoading = true;\n      \n      let filter = '';\n      if (slug !== 'all') {\n        filter = `tag:${slug}`;\n      } else if (this.formats) {\n        filter = `tag:[${this.formats}]`;\n      }\n\n      // Apply additional filters\n      if (this.selectedFormats.length > 0) {\n        const formatFilter = this.selectedFormats.map(f => f.slug).join(',');\n        filter = filter ? `${filter}+tag:[${formatFilter}]` : `tag:[${formatFilter}]`;\n      }\n\n      if (this.selectedTypes.length > 0) {\n        const typeFilter = this.selectedTypes.map(t => t.slug).join(',');\n        filter = filter ? `${filter}+tag:[${typeFilter}]` : `tag:[${typeFilter}]`;\n      }\n\n      if (this.selectedAuthors.length > 0) {\n        const authorSlugs = this.selectedAuthors.map(a => a.slug).join(',');\n        const authorFilter = this.selectedAuthors.length === 1 ? \n          `authors:${authorSlugs}` : `authors:[${authorSlugs}]`;\n        filter = filter ? `${filter}+${authorFilter}` : authorFilter;\n      }\n\n      const options = {\n        include: ['tags', 'authors'],\n        page: page,\n        limit: this.limit === 'all' ? 15 : parseInt(this.limit)\n      };\n\n      if (filter) {\n        options.filter = filter;\n      }\n\n      const response = await this.api.posts.browse(options);\n      \n      if (append) {\n        // For infinite scroll, append new posts\n        this.allPosts = [...this.allPosts, ...response];\n        this.renderPosts(response, true);\n        this.hasMorePosts = response.length === parseInt(this.limit);\n        this.currentPage = page;\n      } else {\n        // For filter changes, replace all posts\n        this.allPosts = response;\n        this.renderPosts(response, false);\n        this.hasMorePosts = response.length === parseInt(this.limit);\n        this.currentPage = 1;\n      }\n    } catch (error) {\n      console.error('Failed to load posts:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  async loadMorePosts() {\n    if (!this.infiniteScroll || this.isLoading || !this.hasMorePosts) return;\n    \n    if (this.isVideosMode) {\n      // For videos, we don't support infinite scroll yet\n      return;\n    }\n    \n    const activeButton = this.filterList.querySelector('.cards-filter__item-button.active');\n    const currentSlug = activeButton ? activeButton.getAttribute('data-slug') : 'all';\n    \n    await this.loadPostsByTag(currentSlug, this.currentPage + 1, true);\n  }\n}\n\n// Author page scenario\nexport class AuthorCardsManager extends BaseCardsManager {\n  constructor(section, config) {\n    super(section, config);\n    this.authorSlug = section.getAttribute('data-author-slug');\n    this.allTags = [];\n  }\n\n  setupEventListeners() {\n    super.setupEventListeners();\n    \n    if (this.filterList) {\n      this.filterList.addEventListener('click', (e) => {\n        const button = e.target.closest('button.cards-filter__item-button');\n        if (!button) return;\n        e.preventDefault();\n        this.handleFilterClick(button);\n      });\n    }\n  }\n\n  async loadInitialContent() {\n    // Don't load content on init - let server-rendered content stay\n    // Only load tags for popup when needed\n    await this.loadAuthorTags();\n  }\n\n  async loadAuthorTags() {\n    try {\n      const response = await this.api.posts.browse({\n        filter: `authors:${this.authorSlug}`,\n        include: ['tags'],\n        limit: 'all'\n      });\n      \n      const tagsMap = new Map();\n      response.forEach(post => {\n        if (post.primary_tag) {\n          tagsMap.set(post.primary_tag.slug, {\n            slug: post.primary_tag.slug,\n            name: post.primary_tag.name\n          });\n        }\n      });\n      \n      this.allTags = Array.from(tagsMap.values());\n      this.renderTagButtons();\n    } catch (error) {\n      console.error('Failed to load author tags:', error);\n    }\n  }\n\n  renderTagButtons() {\n    if (!this.filterList) return;\n    \n    const allButton = this.filterList.querySelector('li:first-child');\n    this.filterList.innerHTML = '';\n    if (allButton) this.filterList.appendChild(allButton);\n    \n    const items = this.allTags.map(tag => \n      `<li class=\"cards-filter__item\">\n        <button class=\"cards-filter__item-button\" data-slug=\"${tag.slug}\">${tag.name}</button>\n      </li>`\n    ).join('');\n    \n    this.filterList.insertAdjacentHTML('beforeend', items);\n  }\n\n  handleFilterClick(button) {\n    const slug = button.getAttribute('data-slug');\n    \n    this.filterList.querySelectorAll('.cards-filter__item-button').forEach(btn => \n      btn.classList.remove('active')\n    );\n    button.classList.add('active');\n\n    this.loadPostsByTag(slug);\n  }\n\n  async loadPostsByTag(slug, page = 1, append = false) {\n    if (this.isLoading) return;\n    \n    try {\n      this.isLoading = true;\n      \n      let filter = `authors:${this.authorSlug}`;\n      \n      if (slug !== 'all') {\n        filter += `+tag:${slug}`;\n      }\n\n      const options = {\n        include: ['tags', 'authors'],\n        page: page,\n        limit: this.limit === 'all' ? 15 : parseInt(this.limit),\n        filter: filter\n      };\n\n      const response = await this.api.posts.browse(options);\n      \n      if (append) {\n        const existingIds = this.allPosts.map(post => post.id);\n        const newPosts = response.filter(post => !existingIds.includes(post.id));\n        this.allPosts = [...this.allPosts, ...newPosts];\n        this.renderPosts(newPosts, true);\n      } else {\n        this.allPosts = response;\n        this.renderPosts(response, false);\n      }\n\n      this.currentPage = page;\n      this.hasMorePosts = response.length === parseInt(this.limit);\n    } catch (error) {\n      console.error('Failed to load posts:', error);\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  async loadMorePosts() {\n    if (!this.infiniteScroll || this.isLoading || !this.hasMorePosts) return;\n    \n    const activeButton = this.filterList.querySelector('.cards-filter__item-button.active');\n    const currentSlug = activeButton ? activeButton.getAttribute('data-slug') : 'all';\n    \n    await this.loadPostsByTag(currentSlug, this.currentPage + 1, true);\n  }\n}\n\n// Initialize the cards list manager\nexport function initCardsListFilter() {\n  const sections = document.querySelectorAll(\".cards-list[data-scenario]\");\n  if (!sections.length) return;\n  new CardsListManager();\n}\n","import GhostContentAPI from \"@tryghost/content-api\";\n\n// Always-on infinite scroll for tag/author pages\nexport function initSimpleInfiniteScroll() {\n  const section = document.querySelector('section.cards-list--author-tag[data-api-url][data-content-key]');\n  if (!section) return;\n\n  const apiUrl = section.getAttribute('data-api-url');\n  const contentKey = section.getAttribute('data-content-key');\n  const tagSlug = section.getAttribute('data-tag-slug');\n  const authorSlug = section.getAttribute('data-author-slug');\n  const articlesContainer = section.querySelector('.cards-list__articles');\n  if (!apiUrl || !contentKey || !articlesContainer) return;\n\n  const api = new GhostContentAPI({\n    url: apiUrl,\n    key: contentKey,\n    version: 'v5.0'\n  });\n\n  // Derive initial page from server-rendered cards to avoid duplicates\n  const batchSize = 3;\n  const initiallyRendered = Array.from(articlesContainer.querySelectorAll('.card'));\n  let page = Math.ceil(initiallyRendered.length / batchSize);\n  let isLoading = false;\n  let hasMore = true;\n\n  // Track already rendered post ids to avoid duplicates\n  const renderedIds = new Set(\n    Array.from(articlesContainer.querySelectorAll('.card[data-post-id]')).map(el => el.getAttribute('data-post-id'))\n  );\n\n  function renderDefaultCard(post) {\n    const featureImage = post.feature_image ? `<a href=\"${post.url}\" class=\"card__image\"><img data-src=\"${post.feature_image}\" class=\"lazyload\" alt=\"${post.title}\"></a>` : '';\n    const primaryTagName = post.primary_tag ? post.primary_tag.name : '';\n    const tagHtml = primaryTagName ? `<span class=\\\"card__tag\\\">${primaryTagName}</span>` : '';\n    const readingTime = post.reading_time ? `<span class=\\\"card__reading-time\\\">${post.reading_time} min read</span>` : '';\n    const excerpt = post.custom_excerpt ? `<p class=\\\"card__description\\\">${post.custom_excerpt}</p>` : '';\n    const date = new Date(post.published_at);\n    const dateStr = date.toLocaleDateString(undefined, { month: 'short', day: '2-digit', year: 'numeric' });\n\n    return `\n<article class=\\\"card card--default flex direction-column card--default-smaller\\\" data-post-id=\\\"${post.id}\\\">\n  ${featureImage}\n  <div class=\\\"card__main flex direction-column\\\">\n    <h3 class=\\\"card__title\\\"><a href=\\\"${post.url}\\\">${post.title}</a></h3>\n    ${excerpt}\n    <div class=\\\"card__footer flex items-center\\\">\n      ${tagHtml}\n      <div class=\\\"card__meta flex items-center\\\">\n        <span class=\\\"card__date\\\">${dateStr}</span>\n        ${readingTime}\n      </div>\n    </div>\n  </div>\n</article>`;\n  }\n\n  async function loadNext() {\n    if (isLoading || !hasMore) return;\n    isLoading = true;\n\n    const options = {\n      include: ['tags'],\n      limit: batchSize,\n      page: page + 1\n    };\n    if (tagSlug) options.filter = `tag:${tagSlug}`;\n    if (authorSlug) options.filter = options.filter ? `${options.filter}+authors:${authorSlug}` : `authors:${authorSlug}`;\n\n    try {\n      const posts = await api.posts.browse(options);\n      // Filter out already rendered posts\n      const newPosts = posts.filter(p => !renderedIds.has(p.id));\n      if (!newPosts.length) {\n        hasMore = false;\n        return;\n      }\n      page += 1;\n      newPosts.forEach(p => renderedIds.add(p.id));\n      const html = newPosts.map(renderDefaultCard).join('');\n      articlesContainer.insertAdjacentHTML('beforeend', html);\n    } catch (e) {\n      // eslint-disable-next-line no-console\n      console.error('Failed to load more posts', e);\n      hasMore = false;\n    } finally {\n      isLoading = false;\n    }\n  }\n\n  function onScroll() {\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    const windowHeight = window.innerHeight;\n    const docHeight = document.documentElement.scrollHeight;\n    if (scrollTop + windowHeight >= docHeight - 200) {\n      loadNext();\n    }\n  }\n\n  // Kick off scroll listener\n  window.addEventListener('scroll', onScroll);\n}\n\n","// Footnotes module\n// Converts {{tooltip-title: }} and {{tooltip-content: }} ... {{/tooltip-content}} notation to interactive tooltips\n// Supports HTML in descriptions (br, styles, etc.)\n\nexport function initFootnotes() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Step 1: Process tooltip definitions with new syntax\n  // Format: {{tooltip-content: key}} ... content ... {{/tooltip-content}}\n  // This allows multi-line content including images\n  const footnotesMap = new Map();\n  // Get all direct children of content element\n  const allElements = Array.from(contentElement.children);\n  \n  // Find all definition starts: {{tooltip-content: key}}\n  const startRegex = /\\{\\{tooltip-content:\\s*([^}]+)\\}\\}/;\n  const endRegex = /\\{\\{\\/tooltip-content\\}\\}/;\n  \n  for (let i = 0; i < allElements.length; i++) {\n    const element = allElements[i];\n    const text = element.textContent || '';\n    const startMatch = text.match(startRegex);\n    \n    if (startMatch) {\n      const tooltipKey = startMatch[1].trim();\n      \n      // Skip if already processed\n      if (footnotesMap.has(tooltipKey)) continue;\n      \n      // Find the end marker {{/tooltip-content}}\n      let endIndex = -1;\n      let endElement = null;\n      \n      for (let j = i; j < allElements.length; j++) {\n        const checkElement = allElements[j];\n        const checkText = checkElement.textContent || '';\n        const endMatch = checkText.match(endRegex);\n        \n        if (endMatch) {\n          endIndex = j;\n          endElement = checkElement;\n          break;\n        }\n      }\n      \n      // If we found both start and end\n      if (endIndex !== -1 && endElement) {\n        // Collect all content between start and end\n        const contentParts = [];\n        const elementsToRemove = [];\n        \n        // Process start element\n        const startHTML = element.innerHTML || '';\n        const startHTMLMatch = startHTML.match(new RegExp(`\\\\{\\\\{tooltip-content:\\\\s*${tooltipKey.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}\\\\}\\\\}\\\\s*(.+)`, 's'));\n        \n        if (startHTMLMatch && startHTMLMatch[1]) {\n          // Remove marker and get remaining content\n          const remainingContent = startHTMLMatch[1].trim();\n          if (remainingContent) {\n            contentParts.push(remainingContent);\n          }\n        }\n        \n        // Add element to removal list if it only contained the marker\n        if (element.textContent.trim() === startMatch[0].trim()) {\n          elementsToRemove.push(element);\n        } else {\n          // Remove just the marker from start element\n          if (startHTMLMatch) {\n            const updatedHTML = startHTML.replace(startHTMLMatch[0], '').trim();\n            if (updatedHTML) {\n              element.innerHTML = updatedHTML;\n            } else {\n              elementsToRemove.push(element);\n            }\n          }\n        }\n        \n        // Process middle elements (between start and end)\n        for (let k = i + 1; k < endIndex; k++) {\n          const middleElement = allElements[k];\n          contentParts.push(middleElement.outerHTML);\n          elementsToRemove.push(middleElement);\n        }\n        \n        // Process end element\n        const endHTML = endElement.innerHTML || '';\n        const endHTMLMatch = endHTML.match(/(.+?)\\s*\\{\\{\\/tooltip-content\\}\\}/s);\n        \n        if (endHTMLMatch && endHTMLMatch[1]) {\n          // Get content before marker\n          const beforeContent = endHTMLMatch[1].trim();\n          if (beforeContent) {\n            contentParts.push(beforeContent);\n          }\n        }\n        \n        // Add end element to removal list if it only contained the marker\n        if (endElement.textContent.trim() === '{{/tooltip-content}}') {\n          elementsToRemove.push(endElement);\n        } else {\n          // Remove just the marker from end element\n          if (endHTMLMatch) {\n            const updatedHTML = endHTML.replace(endHTMLMatch[0], '').trim();\n            if (updatedHTML) {\n              endElement.innerHTML = updatedHTML;\n            } else {\n              elementsToRemove.push(endElement);\n            }\n          }\n        }\n        \n        // Combine all content parts\n        const tooltipContent = contentParts.join('');\n        \n        // Store footnote definition\n        footnotesMap.set(tooltipKey, tooltipContent);\n        \n        // Remove processed elements\n        elementsToRemove.forEach(el => {\n          if (el.parentNode) {\n            el.remove();\n          }\n        });\n        \n        // Skip processed elements\n        i = endIndex;\n      } else {\n        console.warn(`[Footnotes] Tooltip content definition started for \"${tooltipKey}\" but no closing {{/tooltip-content}} found. Make sure to close all tooltip definitions.`);\n      }\n    }\n  }\n  \n  // If no footnotes found, exit\n  if (footnotesMap.size === 0) return;\n  \n  // Step 2: Process tooltip references in text ({{tooltip-title: }})\n  // Regex to match {{tooltip-title: }}\n  const referenceRegex = /\\{\\{tooltip-title:\\s*([^}]+)\\}\\}/g;\n  \n  // Process all text nodes in paragraphs, list items, figcaptions, and callouts\n  const selectors = 'p, li, figcaption, .kg-callout-text, h1, h2, h3, h4, h5, h6';\n  const elements = contentElement.querySelectorAll(selectors);\n  \n  elements.forEach(element => {\n    // Process text nodes\n    const walker = document.createTreeWalker(\n      element,\n      NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n    \n    const textNodes = [];\n    let node;\n    while (node = walker.nextNode()) {\n      textNodes.push(node);\n    }\n    \n    textNodes.forEach(textNode => {\n      const text = textNode.textContent;\n      const matches = [...text.matchAll(referenceRegex)];\n      \n      if (matches.length === 0) return;\n      \n      // Build new DOM structure\n      const fragment = document.createDocumentFragment();\n      let lastIndex = 0;\n      \n      matches.forEach(match => {\n        const tooltipKey = match[1].trim();\n        \n        // Only process if we have a definition for this key\n        if (!footnotesMap.has(tooltipKey)) {\n          // If no definition, just keep the original text\n          if (match.index > lastIndex) {\n            fragment.appendChild(\n              document.createTextNode(text.slice(lastIndex, match.index))\n            );\n          }\n          fragment.appendChild(\n            document.createTextNode(match[0])\n          );\n          lastIndex = match.index + match[0].length;\n          return;\n        }\n        \n        // Add text before match\n        if (match.index > lastIndex) {\n          fragment.appendChild(\n            document.createTextNode(text.slice(lastIndex, match.index))\n          );\n        }\n        \n        // Create tooltip reference\n        const tooltipId = `tooltip-${tooltipKey.replace(/\\s+/g, '-').toLowerCase().replace(/[^a-z0-9-]/g, '')}`;\n        const span = document.createElement('span');\n        span.className = 'tooltip-ref';\n        span.setAttribute('data-tooltip-id', tooltipId);\n        span.setAttribute('data-tooltip-key', tooltipKey); // Store key to get HTML from Map\n        span.setAttribute('tabindex', '0');\n        span.setAttribute('role', 'button');\n        span.setAttribute('aria-label', `Tooltip: ${tooltipKey}`);\n        \n        // Add the tooltip title text with class\n        const tooltipTitle = document.createElement('span');\n        tooltipTitle.className = 'tooltip-title';\n        tooltipTitle.textContent = tooltipKey;\n        span.appendChild(tooltipTitle);\n        \n        fragment.appendChild(span);\n        \n        lastIndex = match.index + match[0].length;\n      });\n      \n      // Add remaining text\n      if (lastIndex < text.length) {\n        fragment.appendChild(\n          document.createTextNode(text.slice(lastIndex))\n        );\n      }\n      \n      // Replace text node with fragment\n      textNode.parentNode.replaceChild(fragment, textNode);\n    });\n  });\n  \n  // Validation: Check for orphaned references (references without definitions)\n  const allReferences = new Set();\n  const allText = contentElement.textContent || '';\n  const referenceMatches = [...allText.matchAll(referenceRegex)];\n  referenceMatches.forEach(match => {\n    allReferences.add(match[1].trim());\n  });\n  \n  allReferences.forEach(ref => {\n    if (!footnotesMap.has(ref)) {\n      console.warn(`[Footnotes] Reference \"{{tooltip-title: ${ref}}}\" found but no definition provided. Make sure to add: {{tooltip-content: ${ref}}} ... {{/tooltip-content}}`);\n    }\n  });\n  \n  // Step 3: Initialize popover functionality\n  // Pass footnotesMap to preserve HTML content\n  initFootnotesPopover(contentElement, footnotesMap);\n}\n\nfunction initFootnotesPopover(container, footnotesMap) {\n  const tooltipRefs = container.querySelectorAll('.tooltip-ref');\n  \n  if (tooltipRefs.length === 0) return;\n  \n  // Create popover element\n  const popover = document.createElement('div');\n  popover.className = 'tooltip-popover';\n  popover.setAttribute('role', 'tooltip');\n  document.body.appendChild(popover);\n  \n  let activeRef = null;\n  let hideTimeout = null;\n  let showTimeout = null;\n  \n  function showPopover(ref) {\n    // Clear any pending hide\n    if (hideTimeout) {\n      clearTimeout(hideTimeout);\n      hideTimeout = null;\n    }\n    \n    // Hide previous popover\n    if (activeRef && activeRef !== ref) {\n      hidePopover();\n    }\n    \n    activeRef = ref;\n    \n    // Get tooltip key and content from Map (preserves HTML)\n    const tooltipKey = ref.getAttribute('data-tooltip-key');\n    if (!tooltipKey || !footnotesMap.has(tooltipKey)) return;\n    \n    const tooltipContent = footnotesMap.get(tooltipKey);\n    if (!tooltipContent) return;\n    \n    // Set content (preserve HTML - no escaping!)\n    popover.innerHTML = tooltipContent;\n    \n    // Position popover\n    positionPopover(ref, popover);\n    \n    // Show popover\n    popover.classList.add('is-active');\n    ref.classList.add('is-active');\n  }\n  \n  function hidePopover() {\n    if (hideTimeout) return;\n    \n    hideTimeout = setTimeout(() => {\n      popover.classList.remove('is-active');\n      if (activeRef) {\n        activeRef.classList.remove('is-active');\n      }\n      activeRef = null;\n      hideTimeout = null;\n    }, 100);\n  }\n  \n  function positionPopover(ref, popover) {\n    const rect = ref.getBoundingClientRect();\n    const scrollY = window.scrollY;\n    const scrollX = window.scrollX;\n    \n    // Calculate position\n    let top = rect.bottom + scrollY + 8;\n    let left = rect.left + scrollX;\n    \n    // Check if popover would go off screen\n    const popoverWidth = 320; // max-width from CSS\n    const viewportWidth = window.innerWidth;\n    \n    if (left + popoverWidth > viewportWidth) {\n      left = viewportWidth - popoverWidth - 20;\n    }\n    \n    if (left < 20) {\n      left = 20;\n    }\n    \n    // Check if popover would go off bottom\n    // First, temporarily show to measure\n    popover.style.visibility = 'hidden';\n    popover.style.display = 'block';\n    const popoverHeight = popover.offsetHeight || 200; // estimate\n    popover.style.display = '';\n    popover.style.visibility = '';\n    \n    if (rect.bottom + popoverHeight > window.innerHeight + scrollY) {\n      // Show above instead\n      top = rect.top + scrollY - popoverHeight - 8;\n      popover.classList.add('is-above');\n    } else {\n      popover.classList.remove('is-above');\n    }\n    \n    popover.style.top = `${top}px`;\n    popover.style.left = `${left}px`;\n  }\n  \n  // Add event listeners\n  tooltipRefs.forEach(ref => {\n    // Click handler\n    ref.addEventListener('click', (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (activeRef === ref && popover.classList.contains('is-active')) {\n        hidePopover();\n      } else {\n        if (showTimeout) clearTimeout(showTimeout);\n        showPopover(ref);\n      }\n    });\n    \n    // Hover handlers (desktop)\n    if (window.matchMedia('(hover: hover)').matches) {\n      ref.addEventListener('mouseenter', () => {\n        if (showTimeout) clearTimeout(showTimeout);\n        showTimeout = setTimeout(() => {\n          showPopover(ref);\n        }, 300);\n      });\n      \n      ref.addEventListener('mouseleave', () => {\n        if (showTimeout) {\n          clearTimeout(showTimeout);\n          showTimeout = null;\n        }\n        hidePopover();\n      });\n      \n      popover.addEventListener('mouseenter', () => {\n        if (hideTimeout) {\n          clearTimeout(hideTimeout);\n          hideTimeout = null;\n        }\n      });\n      \n      popover.addEventListener('mouseleave', () => {\n        hidePopover();\n      });\n    }\n    \n    // Keyboard handler\n    ref.addEventListener('keydown', (e) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        e.stopPropagation();\n        if (activeRef === ref && popover.classList.contains('is-active')) {\n          hidePopover();\n        } else {\n          if (showTimeout) clearTimeout(showTimeout);\n          showPopover(ref);\n        }\n      } else if (e.key === 'Escape' && activeRef === ref) {\n        hidePopover();\n        ref.focus();\n      }\n    });\n  });\n  \n  // Close on outside click\n  document.addEventListener('click', (e) => {\n    if (!popover.contains(e.target) && \n        !Array.from(tooltipRefs).some(ref => ref.contains(e.target))) {\n      hidePopover();\n    }\n  });\n  \n  // Close on escape\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape' && popover.classList.contains('is-active')) {\n      hidePopover();\n      if (activeRef) activeRef.focus();\n    }\n  });\n  \n  // Reposition on scroll/resize\n  let resizeTimeout;\n  function handleResize() {\n    if (resizeTimeout) clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(() => {\n      if (activeRef && popover.classList.contains('is-active')) {\n        positionPopover(activeRef, popover);\n      }\n    }, 100);\n  }\n  \n  window.addEventListener('scroll', handleResize, { passive: true });\n  window.addEventListener('resize', handleResize);\n}\n","// JavaScript files are compiled and minified during the build process to the assets/built folder. See available scripts in the package.json file.\n\n// Import CSS\nimport \"../css/index.css\";\nimport 'lazysizes';\n\n// Core modules - always loaded\nimport { initTheme, handleThemeToggle } from './modules/theme.js';\nimport { initActiveNavigation, initSecondaryDropdown, initMobileSidebar } from './modules/navigation.js';\nimport { initSearch, initSearchBarButton } from './modules/search.js';\nimport { initAnnouncementProcessor } from './modules/announcement-processor.js';\n\n// Page-specific modules - conditionally loaded\nimport { initTOC, initTOCAccordion } from './modules/toc.js';\nimport { initPostImagesLightbox } from './modules/lightbox.js';\nimport { initTitleCaseProcessor } from './modules/title-case.js';\nimport { initCardSymbolProcessor } from './modules/symbols.js';\nimport { initCardsListFilter } from './modules/cards.js';\nimport { initSimpleInfiniteScroll } from './modules/infinite-scroll.js';\nimport { initFootnotes } from './modules/footnotes.js';\nimport { initColorProcessor } from './modules/color-processor.js';\nimport { initRevealAnswer } from './modules/reveal-answer.js';\nimport { initToggle } from './modules/toggle.js';\nimport { initQuoteAuthor } from './modules/quote-author.js';\nimport { initContentCleanup } from './modules/content-cleanup.js';\nimport { initContentSnippets } from './modules/content-snippets.js';\n\n// Initialize theme immediately (before DOM ready to prevent flash)\ninitTheme();\nhandleThemeToggle();\n\n// Initialize core features when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Core navigation features - always needed\n  initActiveNavigation();\n  initSecondaryDropdown();\n  initMobileSidebar();\n  \n  // Search - always needed (search button in header)\n  initSearch();\n  initSearchBarButton();\n  \n  // Announcement bar processor - process color snippets\n  initAnnouncementProcessor();\n  \n  // Cards list - only if cards-list sections exist\n  initCardsListFilter();\n  \n  // Infinite scroll for tag/author pages - only if specific section exists\n  initSimpleInfiniteScroll();\n  \n  // Post/page specific features\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content, .js-toc-content');\n  \n  if (isPostPage) {\n    // TOC - only on post/page templates\n    initTOC();\n    initTOCAccordion();\n    \n    // Lightbox for images - only on post/page templates\n    setTimeout(() => {\n      initPostImagesLightbox();\n    }, 100);\n    \n    // Title case processor - only on post/page templates\n    initTitleCaseProcessor();\n    \n    // Card symbol processor - only on post/page templates\n    initCardSymbolProcessor();\n    \n    // Footnotes - only on post/page templates\n    initFootnotes();\n    \n    // Color processor - only on post/page templates\n    initColorProcessor();\n    \n    // Reveal answer - only on post/page templates\n    initRevealAnswer();\n    \n    // Toggle - only on post/page templates\n    initToggle();\n    \n    // Quote author - only on post/page templates\n    initQuoteAuthor();\n    \n    // Content snippets (question-mark, exclamation-mark, search-mark, grid) - only on post/page templates\n    initContentSnippets();\n    \n    // Content cleanup - only on post/page templates (should run last)\n    initContentCleanup();\n    \n    // Show content after all snippets are processed\n    const contentElement = document.querySelector('.gh-content');\n    if (contentElement) {\n      // Small delay to ensure all processing is complete\n      setTimeout(() => {\n        contentElement.classList.add('snippets-ready');\n      }, 100);\n    }\n  }\n});\n","import tocbot from 'tocbot';\n\n// Initialize TOC (Table of Contents)\nexport function initTOC() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.js-toc-content');\n  \n  if (!isPostPage) return;\n\n  const tocElement = document.querySelector('.js-toc');\n  const contentElement = document.querySelector('.js-toc-content');\n  \n  if (!tocElement || !contentElement) return;\n\n  tocbot.init({\n    // Where to render the table of contents.\n    tocSelector: '.js-toc',\n    // Where to grab the headings to build the table of contents.\n    contentSelector: '.js-toc-content',\n    // Which headings to grab inside of the contentSelector element.\n    headingSelector: 'h2, h3',\n  });\n}\n\n// TOC Accordion functionality\nexport function initTOCAccordion() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.js-toc-content');\n  \n  if (!isPostPage) return;\n\n  const tocHeader = document.querySelector('.toc-header');\n  const tocContent = document.querySelector('.js-toc');\n  const arrowIcon = document.querySelector('.toc-header__arrow-icon');\n  let isHidden = true;\n  if (!tocHeader || !tocContent || !arrowIcon) return;\n\n\n  // Toggle function\n  function toggleTOC() {\n    isHidden = !tocHeader.classList.contains('is-open');\n\n    if (isHidden) {\n      // Open\n      tocHeader.classList.add('is-open');\n      arrowIcon.classList.add('is-open');\n      tocContent.classList.add('is-open');\n    } else {\n      // Close\n      tocHeader.classList.remove('is-open');\n      arrowIcon.classList.remove('is-open');\n      tocContent.classList.remove('is-open');\n    }\n  }\n\n  // Add click event listener\n  tocHeader.addEventListener('click', toggleTOC);\n}\n\n","import baguetteBox from 'baguettebox.js';\nimport 'baguettebox.js/dist/baguetteBox.min.css';\n\n/**\n * Initialize lightbox for images in post content\n */\nexport function initPostImagesLightbox() {\n  // Check if we're on a post or page\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content, .js-toc-content');\n  \n  if (!isPostPage) {\n    return;\n  }\n\n  // Find content area\n  const contentContainer = document.querySelector('.gh-content, .js-toc-content');\n  \n  if (!contentContainer) {\n    return;\n  }\n\n  // Helper function to get full-size image URL\n  function getFullSizeImageUrl(img) {\n    // Get image source, checking both src and data-src (for lazy loading)\n    let imgSrc = img.src || img.getAttribute('data-src') || img.getAttribute('src');\n    if (!imgSrc) return '';\n    \n    // Try to get the full-size version if it's a Ghost image\n    // Ghost images often have size parameters in the URL (e.g., _w600, _w1200)\n    if (imgSrc.includes('_w')) {\n      // Remove size parameters to get full-size image\n      return imgSrc.replace(/_[wx]\\d+/g, '');\n    }\n    \n    return imgSrc;\n  }\n\n  // Process images that are already in links (like kg-image-card)\n  const imagesInLinks = contentContainer.querySelectorAll('a img');\n  imagesInLinks.forEach((img) => {\n    const link = img.closest('a');\n    if (!link) return;\n    \n    // Check if link already points to an image (likely for lightbox)\n    const href = link.getAttribute('href');\n    if (href && (href.match(/\\.(jpg|jpeg|png|gif|webp|svg)$/i) || href.includes('_w'))) {\n      // Update href to full-size version\n      link.href = getFullSizeImageUrl(href);\n      // Add caption if not already present\n      if (!link.getAttribute('data-caption') && img.alt) {\n        link.setAttribute('data-caption', img.alt);\n      }\n      return;\n    }\n    \n    // If link doesn't point to an image, check if we should convert it\n    // Only convert if the link seems to be just for the image (no other content)\n    const linkContent = link.innerHTML.trim();\n    if (linkContent === img.outerHTML || link.children.length === 1 && link.children[0] === img) {\n      // This link is likely just for the image, convert it to lightbox\n      const fullSizeUrl = getFullSizeImageUrl(img);\n      link.href = fullSizeUrl;\n      if (img.alt) {\n        link.setAttribute('data-caption', img.alt);\n      }\n    }\n  });\n\n  // Find all images that are NOT in links\n  const imagesNotInLinks = contentContainer.querySelectorAll('img:not(a img)');\n  \n  // Wrap each image in a link for lightbox\n  imagesNotInLinks.forEach((img) => {\n    // Skip if image is already inside a link (double check)\n    if (img.closest('a')) {\n      return;\n    }\n\n    // Get the full-size image URL\n    const imageSrc = getFullSizeImageUrl(img);\n\n    // Create link wrapper\n    const link = document.createElement('a');\n    link.href = imageSrc;\n    if (img.alt) {\n      link.setAttribute('data-caption', img.alt);\n    }\n    link.style.cursor = 'pointer';\n    link.style.display = 'inline-block';\n    link.style.maxWidth = '100%';\n\n    // Wrap image\n    img.parentNode.insertBefore(link, img);\n    link.appendChild(img);\n  });\n\n  // Initialize baguetteBox for the content container\n  baguetteBox.run('.gh-content, .js-toc-content', {\n    captions: true,\n    buttons: true,\n    async: false,\n    preload: 2\n  });\n}\n\n","// Color processor module\n// Converts {{color: red}}text{{/color}} notation to styled spans\n// Supports CSS color values: red, #ff0000, rgb(255,0,0), rgba(255,0,0,0.5), etc.\n\nexport function initColorProcessor() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Regex to match {{color: value}}text{{/color}} or {{color: value}}text{{color}}\n  // Supports: {{color: red}}, {{color: #ff0000}}, {{color: rgb(255,0,0)}}, etc.\n  // Supports both {{/color}} (preferred) and {{color}} (legacy) closing syntax\n  const colorRegex = /\\{\\{color:\\s*([^}]+)\\}\\}([\\s\\S]*?)\\{\\{\\/?color\\}\\}/g;\n  \n  // Process all text nodes in content, but exclude announcement bars\n  const selectors = 'p, li, figcaption, .kg-callout-text, h1, h2, h3, h4, h5, h6, blockquote, td, th';\n  const elements = contentElement.querySelectorAll(selectors);\n  \n  elements.forEach(element => {\n    // Skip if element is inside an announcement bar\n    if (element.closest('.announcement-bar, [class*=\"announcement\"]')) {\n      return;\n    }\n    \n    // Process text nodes only\n    const walker = document.createTreeWalker(\n      element,\n      NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n    \n    const textNodes = [];\n    let node;\n    while (node = walker.nextNode()) {\n      // Skip text nodes inside spans that already have color styles (to avoid double processing)\n      const parent = node.parentNode;\n      if (parent && parent.tagName === 'SPAN' && parent.style.color) {\n        continue;\n      }\n      textNodes.push(node);\n    }\n    \n    textNodes.forEach(textNode => {\n      const text = textNode.textContent;\n      const matches = [...text.matchAll(colorRegex)];\n      \n      if (matches.length === 0) return;\n      \n      // Build new DOM structure\n      const fragment = document.createDocumentFragment();\n      let lastIndex = 0;\n      \n      matches.forEach(match => {\n        // Add text before match\n        if (match.index > lastIndex) {\n          fragment.appendChild(\n            document.createTextNode(text.slice(lastIndex, match.index))\n          );\n        }\n        \n        // Extract color value and text content\n        const colorValue = match[1].trim();\n        const coloredText = match[2];\n        \n        // Create span with inline style - ONLY color, no other styles\n        const span = document.createElement('span');\n        span.style.color = colorValue;\n        // Explicitly set other styles to inherit to prevent unwanted styles\n        span.style.fontSize = 'inherit';\n        span.style.fontStyle = 'inherit';\n        span.style.fontWeight = 'inherit';\n        span.style.lineHeight = 'inherit';\n        span.style.letterSpacing = 'inherit';\n        span.style.margin = 'inherit';\n        span.textContent = coloredText;\n        \n        fragment.appendChild(span);\n        \n        lastIndex = match.index + match[0].length;\n      });\n      \n      // Add remaining text\n      if (lastIndex < text.length) {\n        fragment.appendChild(\n          document.createTextNode(text.slice(lastIndex))\n        );\n      }\n      \n      // Replace text node with fragment\n      // Only replace if parent node exists and is not the content element itself\n      if (textNode.parentNode && textNode.parentNode !== contentElement) {\n        textNode.parentNode.replaceChild(fragment, textNode);\n      }\n    });\n  });\n}\n","// Reveal answer module\n// Converts {{reveal-answer: Title}} ... {{/reveal-answer}} with {{correct:}} and {{wrong:}} options\n\nexport function initRevealAnswer() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Get all direct children of content element\n  const allElements = Array.from(contentElement.children);\n  \n  // Find all reveal answer blocks: {{reveal-answer: Title}} ... {{/reveal-answer}}\n  const startRegex = /\\{\\{reveal-answer:\\s*([^}]+)\\}\\}/;\n  const endRegex = /\\{\\{\\/reveal-answer\\}\\}/;\n  \n  for (let i = 0; i < allElements.length; i++) {\n    const element = allElements[i];\n    const text = element.textContent || '';\n    const startMatch = text.match(startRegex);\n    \n    if (startMatch) {\n      const title = startMatch[1].trim();\n      \n      // Find the end marker {{/reveal-answer}}\n      let endIndex = -1;\n      let endElement = null;\n      \n      for (let j = i; j < allElements.length; j++) {\n        const checkElement = allElements[j];\n        const checkText = checkElement.textContent || '';\n        const endMatch = checkText.match(endRegex);\n        \n        if (endMatch) {\n          endIndex = j;\n          endElement = checkElement;\n          break;\n        }\n      }\n      \n      if (endIndex !== -1 && endElement) {\n        // Collect all content between start and end\n        const contentElements = [];\n        const elementsToRemove = [];\n        \n        // Process start element - extract title\n        const startHTML = element.innerHTML || '';\n        const startHTMLMatch = startHTML.match(new RegExp(`\\\\{\\\\{reveal-answer:\\\\s*${title.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}\\\\}\\\\}\\\\s*(.+)`, 's'));\n        \n        // If there's content after the marker in start element, add it\n        if (startHTMLMatch && startHTMLMatch[1]) {\n          const remainingContent = startHTMLMatch[1].trim();\n          if (remainingContent) {\n            // Create a temporary element to parse the content\n            const tempDiv = document.createElement('div');\n            tempDiv.innerHTML = remainingContent;\n            Array.from(tempDiv.children).forEach(child => {\n              contentElements.push(child);\n            });\n          }\n        }\n        \n        // Add start element to removal list if it only contained the marker\n        if (element.textContent.trim() === startMatch[0].trim()) {\n          elementsToRemove.push(element);\n        } else {\n          // Remove just the marker from start element\n          if (startHTMLMatch) {\n            const updatedHTML = startHTML.replace(startHTMLMatch[0], '').trim();\n            if (updatedHTML) {\n              element.innerHTML = updatedHTML;\n            } else {\n              elementsToRemove.push(element);\n            }\n          }\n        }\n        \n        // Process middle elements (between start and end)\n        for (let k = i + 1; k < endIndex; k++) {\n          const middleElement = allElements[k];\n          contentElements.push(middleElement);\n          elementsToRemove.push(middleElement);\n        }\n        \n        // Process end element\n        const endHTML = endElement.innerHTML || '';\n        const endHTMLMatch = endHTML.match(/(.+?)\\s*\\{\\{\\/reveal-answer\\}\\}/s);\n        \n        if (endHTMLMatch && endHTMLMatch[1]) {\n          const beforeContent = endHTMLMatch[1].trim();\n          if (beforeContent) {\n            const tempDiv = document.createElement('div');\n            tempDiv.innerHTML = beforeContent;\n            Array.from(tempDiv.children).forEach(child => {\n              contentElements.push(child);\n            });\n          }\n        }\n        \n        // Add end element to removal list if it only contained the marker\n        if (endElement.textContent.trim() === '{{/reveal-answer}}') {\n          elementsToRemove.push(endElement);\n        } else {\n          // Remove just the marker from end element\n          if (endHTMLMatch) {\n            const updatedHTML = endHTML.replace(endHTMLMatch[0], '').trim();\n            if (updatedHTML) {\n              endElement.innerHTML = updatedHTML;\n            } else {\n              elementsToRemove.push(endElement);\n            }\n          }\n        }\n        \n        // Parse answers from collected content\n        const answers = [];\n        const correctRegex = /\\{\\{correct:\\s*([^}]+)\\}\\}/;\n        const wrongRegex = /\\{\\{wrong:\\s*([^}]+)\\}\\}/;\n        \n        contentElements.forEach(contentEl => {\n          const contentText = contentEl.textContent || '';\n          \n          // Check for correct answer\n          const correctMatch = contentText.match(correctRegex);\n          if (correctMatch) {\n            const answerText = correctMatch[1].trim();\n            // Check if element only contains the marker\n            if (contentText.trim() === correctMatch[0].trim()) {\n              // Element only contains marker, mark for removal\n              const index = elementsToRemove.indexOf(contentEl);\n              if (index === -1) {\n                elementsToRemove.push(contentEl);\n              }\n            } else {\n              // Remove the marker from element\n              const updatedHTML = contentEl.innerHTML.replace(correctRegex, '').trim();\n              if (updatedHTML) {\n                contentEl.innerHTML = updatedHTML;\n              } else {\n                elementsToRemove.push(contentEl);\n              }\n            }\n            answers.push({\n              type: 'correct',\n              text: answerText\n            });\n            return;\n          }\n          \n          // Check for wrong answer\n          const wrongMatch = contentText.match(wrongRegex);\n          if (wrongMatch) {\n            const answerText = wrongMatch[1].trim();\n            // Check if element only contains the marker\n            if (contentText.trim() === wrongMatch[0].trim()) {\n              // Element only contains marker, mark for removal\n              const index = elementsToRemove.indexOf(contentEl);\n              if (index === -1) {\n                elementsToRemove.push(contentEl);\n              }\n            } else {\n              // Remove the marker from element\n              const updatedHTML = contentEl.innerHTML.replace(wrongRegex, '').trim();\n              if (updatedHTML) {\n                contentEl.innerHTML = updatedHTML;\n              } else {\n                elementsToRemove.push(contentEl);\n              }\n            }\n            answers.push({\n              type: 'wrong',\n              text: answerText\n            });\n            return;\n          }\n        });\n        \n        if (answers.length === 0) {\n          console.warn(`[Reveal Answer] \"{{reveal-answer: ${title}}}\" found but no {{correct:}} or {{wrong:}} answers provided. Add at least one answer option.`);\n        }\n        \n        // Create container\n        const container = document.createElement('div');\n        container.className = 'reveal-answer';\n        \n        // Create header/button\n        const header = document.createElement('button');\n        header.className = 'reveal-answer__header';\n        header.setAttribute('type', 'button');\n        header.setAttribute('aria-expanded', 'false');\n        \n        const headerText = document.createElement('span');\n        headerText.className = 'reveal-answer__title';\n        headerText.textContent = title;\n        header.appendChild(headerText);\n        \n        const headerIcon = document.createElement('span');\n        headerIcon.className = 'reveal-answer__icon';\n        headerIcon.setAttribute('aria-hidden', 'true');\n        header.appendChild(headerIcon);\n        \n        // Create answers container as ordered list\n        const answersContainer = document.createElement('ol');\n        answersContainer.className = 'reveal-answer__answers';\n        \n        // Create answer items as list items\n        answers.forEach(answer => {\n          const answerItem = document.createElement('li');\n          answerItem.className = `reveal-answer__answer reveal-answer__answer--${answer.type}`;\n          \n          const answerText = document.createElement('span');\n          answerText.className = 'reveal-answer__answer-text';\n          answerText.textContent = answer.text;\n          answerItem.appendChild(answerText);\n          \n          answersContainer.appendChild(answerItem);\n        });\n        \n        container.appendChild(header);\n        container.appendChild(answersContainer);\n        \n        // Replace the start element with the container\n        if (elementsToRemove.includes(element)) {\n          element.replaceWith(container);\n        } else {\n          element.insertAdjacentElement('afterend', container);\n        }\n        \n        // Remove processed elements\n        elementsToRemove.forEach(el => {\n          if (el.parentNode && el !== element) {\n            el.remove();\n          }\n        });\n        \n        // Add click handler\n        header.addEventListener('click', () => {\n          const isExpanded = header.getAttribute('aria-expanded') === 'true';\n          header.setAttribute('aria-expanded', !isExpanded);\n          container.classList.toggle('is-open', !isExpanded);\n        });\n        \n        // Skip processed elements\n        i = endIndex;\n      } else {\n        console.warn(`[Reveal Answer] Opening marker \"{{reveal-answer: ${title}}}\" found without a matching closing {{/reveal-answer}}. Make sure to close all reveal answer blocks.`);\n      }\n    }\n  }\n}\n","// Toggle module\n// Converts {{toggle: }} ... content ... {{/toggle}} to collapsible sections\n\nexport function initToggle() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Get all direct children of content element\n  const allElements = Array.from(contentElement.children);\n  \n  // Find all toggle starts: {{toggle: }}\n  const startRegex = /\\{\\{toggle:\\s*([^}]+)\\}\\}/;\n  const endRegex = /\\{\\{\\/toggle\\}\\}/;\n  \n  const toggleBlocks = [];\n  \n  for (let i = 0; i < allElements.length; i++) {\n    const element = allElements[i];\n    const text = element.textContent || '';\n    const startMatch = text.match(startRegex);\n    \n    if (startMatch) {\n      const toggleTitle = startMatch[1].trim();\n      \n      // Find the end marker {{/toggle}}\n      let endIndex = -1;\n      let endElement = null;\n      \n      for (let j = i; j < allElements.length; j++) {\n        const checkElement = allElements[j];\n        const checkText = checkElement.textContent || '';\n        const endMatch = checkText.match(endRegex);\n        \n        if (endMatch) {\n          endIndex = j;\n          endElement = checkElement;\n          break;\n        }\n      }\n      \n      // If we found both start and end\n      if (endIndex !== -1 && endElement) {\n        // Validation: Check if end comes before start (shouldn't happen, but just in case)\n        if (endIndex < i) {\n          console.warn(`[Toggle] End marker {{/toggle}} found before start marker for \"${toggleTitle}\"`);\n          continue;\n        }\n        toggleBlocks.push({\n          startIndex: i,\n          endIndex: endIndex,\n          startElement: element,\n          endElement: endElement,\n          title: toggleTitle\n        });\n        \n        // Skip to end\n        i = endIndex;\n      } else {\n        // Validation: Start found but no end\n        console.warn(`[Toggle] Start marker {{toggle: ${toggleTitle}}} found but no closing {{/toggle}} marker. Make sure to close all toggle sections.`);\n      }\n    }\n  }\n  \n  // Validation: Check for orphaned end markers\n  allElements.forEach((element, index) => {\n    const text = element.textContent || '';\n    const endMatch = text.match(endRegex);\n    if (endMatch) {\n      // Check if this end marker was processed\n      const wasProcessed = toggleBlocks.some(block => block.endIndex === index);\n      if (!wasProcessed) {\n        console.warn(`[Toggle] Found closing marker {{/toggle}} without matching opening {{toggle: ...}} marker.`);\n      }\n    }\n  });\n  \n  // Process toggle blocks in reverse order to maintain indices\n  toggleBlocks.reverse().forEach(block => {\n    // Create toggle container\n    const container = document.createElement('div');\n    container.className = 'toggle';\n    \n    // Create header/button\n    const header = document.createElement('button');\n    header.className = 'toggle__header';\n    header.setAttribute('type', 'button');\n    header.setAttribute('aria-expanded', 'false');\n    \n    const headerText = document.createElement('span');\n    headerText.className = 'toggle__title';\n    headerText.textContent = block.title;\n    header.appendChild(headerText);\n    \n    const headerIcon = document.createElement('span');\n    headerIcon.className = 'toggle__icon';\n    headerIcon.setAttribute('aria-hidden', 'true');\n    header.appendChild(headerIcon);\n    \n    // Create content container\n    const contentContainer = document.createElement('div');\n    contentContainer.className = 'toggle__content';\n    \n    // Collect all content between start and end\n    const contentElements = [];\n    \n    // Process start element\n    const startHTML = block.startElement.innerHTML || '';\n    const startHTMLMatch = startHTML.match(/\\{\\{toggle:\\s*[^}]+\\}\\}\\s*(.+)/s);\n    \n    if (startHTMLMatch && startHTMLMatch[1]) {\n      const remainingContent = startHTMLMatch[1].trim();\n      if (remainingContent) {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = remainingContent;\n        while (tempDiv.firstChild) {\n          contentElements.push(tempDiv.firstChild);\n        }\n      }\n    }\n    \n    // Process middle elements (between start and end)\n    for (let k = block.startIndex + 1; k < block.endIndex; k++) {\n      const middleElement = allElements[k];\n      if (middleElement && middleElement.parentNode) {\n        contentElements.push(middleElement.cloneNode(true));\n      }\n    }\n    \n    // Process end element\n    const endHTML = block.endElement.innerHTML || '';\n    const endHTMLMatch = endHTML.match(/(.+?)\\s*\\{\\{\\/toggle\\}\\}/s);\n    \n    if (endHTMLMatch && endHTMLMatch[1]) {\n      const beforeContent = endHTMLMatch[1].trim();\n      if (beforeContent) {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = beforeContent;\n        while (tempDiv.firstChild) {\n          contentElements.push(tempDiv.firstChild);\n        }\n      }\n    }\n    \n    // Add all content elements to container\n    contentElements.forEach(el => {\n      contentContainer.appendChild(el);\n    });\n    \n    container.appendChild(header);\n    container.appendChild(contentContainer);\n    \n    // Replace start element with container\n    block.startElement.replaceWith(container);\n    \n    // Remove middle and end elements\n    for (let k = block.startIndex + 1; k <= block.endIndex; k++) {\n      const elementToRemove = allElements[k];\n      if (elementToRemove && elementToRemove.parentNode) {\n        elementToRemove.remove();\n      }\n    }\n    \n    // Add click handler\n    header.addEventListener('click', () => {\n      const isExpanded = header.getAttribute('aria-expanded') === 'true';\n      header.setAttribute('aria-expanded', !isExpanded);\n      container.classList.toggle('is-open', !isExpanded);\n    });\n  });\n}\n\n","// Quote author module\n// Converts {{quote-author: Author Name}} to styled quote attribution\n// Should be placed immediately after a blockquote\n\nexport function initQuoteAuthor() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Find all paragraphs that contain quote-author syntax\n  const paragraphs = contentElement.querySelectorAll('p');\n  const quoteAuthorRegex = /\\{\\{quote-author:\\s*([^}]+)\\}\\}/;\n  \n  paragraphs.forEach((paragraph, index) => {\n    const text = paragraph.textContent.trim();\n    const match = text.match(quoteAuthorRegex);\n    \n    if (match) {\n      const authorName = match[1].trim();\n      \n      // Find the previous blockquote element\n      let previousElement = paragraph.previousElementSibling;\n      let blockquote = null;\n      \n      // Look for blockquote in previous siblings\n      while (previousElement) {\n        if (previousElement.tagName === 'BLOCKQUOTE') {\n          blockquote = previousElement;\n          break;\n        }\n        previousElement = previousElement.previousElementSibling;\n      }\n      \n      // If no blockquote found, check parent's previous sibling\n      if (!blockquote && paragraph.parentElement) {\n        let parentSibling = paragraph.parentElement.previousElementSibling;\n        while (parentSibling) {\n          const blockquoteInSibling = parentSibling.querySelector('blockquote') || \n                                      (parentSibling.tagName === 'BLOCKQUOTE' ? parentSibling : null);\n          if (blockquoteInSibling) {\n            blockquote = blockquoteInSibling;\n            break;\n          }\n          parentSibling = parentSibling.previousElementSibling;\n        }\n      }\n      \n      // Create author element\n      const authorElement = document.createElement('div');\n      authorElement.className = 'quote-author';\n      \n      const authorText = document.createElement('span');\n      authorText.className = 'quote-author__text';\n      authorText.textContent = authorName;\n      authorElement.appendChild(authorText);\n      \n      // Remove the marker from paragraph or replace paragraph\n      const paragraphHTML = paragraph.innerHTML || '';\n      const htmlMatch = paragraphHTML.match(/\\{\\{quote-author:\\s*[^}]+\\}\\}/);\n      \n      if (htmlMatch) {\n        const updatedHTML = paragraphHTML.replace(htmlMatch[0], '').trim();\n        if (updatedHTML) {\n          paragraph.innerHTML = updatedHTML;\n          // Insert author element after paragraph\n          paragraph.parentNode.insertBefore(authorElement, paragraph.nextSibling);\n        } else {\n          // If paragraph only contained the marker, replace it\n          paragraph.replaceWith(authorElement);\n        }\n      } else {\n        // Fallback: replace text\n        paragraph.textContent = paragraph.textContent.replace(match[0], '').trim();\n        if (paragraph.textContent.trim()) {\n          paragraph.parentNode.insertBefore(authorElement, paragraph.nextSibling);\n        } else {\n          paragraph.replaceWith(authorElement);\n        }\n      }\n      \n      // If blockquote found, add class to link them visually\n      if (blockquote) {\n        blockquote.classList.add('has-author');\n        authorElement.classList.add('quote-author--attached');\n        \n        // Check if blockquote has kg-blockquote-alt class for center alignment\n        if (blockquote.classList.contains('kg-blockquote-alt')) {\n          authorElement.classList.add('quote-author--centered');\n        }\n      } else {\n        console.warn(`[Quote Author] Author \"${authorName}\" found but no blockquote detected before it. Place {{quote-author: ...}} immediately after a blockquote.`);\n      }\n    }\n  });\n}\n\n","// Content snippets module\n// Converts {{question-mark}}, {{exclamation-mark}}, {{search-mark}}, and {{grid}} snippets\n// to styled content blocks\n\nexport function initContentSnippets() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Get all direct children of content element\n  const allElements = Array.from(contentElement.children);\n  \n  // Process different snippet types\n  const snippetTypes = {\n    'question-mark': {\n      icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.5 24C4.5 13.23 13.23 4.5 24 4.5C34.77 4.5 43.5 13.23 43.5 24C43.5 34.77 34.77 43.5 24 43.5C13.23 43.5 4.5 34.77 4.5 24ZM27.256 16.166C25.476 14.612 22.524 14.612 20.746 16.166C20.4466 16.428 20.0553 16.5604 19.6583 16.5339C19.2613 16.5075 18.891 16.3244 18.629 16.025C18.367 15.7256 18.2346 15.3343 18.2611 14.9373C18.2875 14.5403 18.4706 14.17 18.77 13.908C21.678 11.364 26.322 11.364 29.23 13.908C32.256 16.556 32.256 20.944 29.23 23.592C28.7239 24.0333 28.1609 24.4046 27.556 24.696C26.204 25.352 25.5 26.244 25.5 27V28.5C25.5 28.8978 25.342 29.2794 25.0607 29.5607C24.7794 29.842 24.3978 30 24 30C23.6022 30 23.2206 29.842 22.9393 29.5607C22.658 29.2794 22.5 28.8978 22.5 28.5V27C22.5 24.442 24.62 22.786 26.25 21.996C26.614 21.82 26.952 21.598 27.256 21.334C28.916 19.88 28.916 17.62 27.256 16.166ZM24 36C24.3978 36 24.7794 35.842 25.0607 35.5607C25.342 35.2794 25.5 34.8978 25.5 34.5C25.5 34.1022 25.342 33.7206 25.0607 33.4393C24.7794 33.158 24.3978 33 24 33C23.6022 33 23.2206 33.158 22.9393 33.4393C22.658 33.7206 22.5 34.1022 22.5 34.5C22.5 34.8978 22.658 35.2794 22.9393 35.5607C23.2206 35.842 23.6022 36 24 36Z\" fill=\"var(--color-accent)\"/>\n</svg>`\n    },\n    'exclamation-mark': {\n      icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.5 24C4.5 13.23 13.23 4.5 24 4.5C34.77 4.5 43.5 13.23 43.5 24C43.5 34.77 34.77 43.5 24 43.5C13.23 43.5 4.5 34.77 4.5 24ZM24 16.5C24.3978 16.5 24.7794 16.658 25.0607 16.9393C25.342 17.2206 25.5 17.6022 25.5 18V25.5C25.5 25.8978 25.342 26.2794 25.0607 26.5607C24.7794 26.842 24.3978 27 24 27C23.6022 27 23.2206 26.842 22.9393 26.5607C22.658 26.2794 22.5 25.8978 22.5 25.5V18C22.5 17.6022 22.658 17.2206 22.9393 16.9393C23.2206 16.658 23.6022 16.5 24 16.5ZM24 33C24.3978 33 24.7794 32.842 25.0607 32.5607C25.342 32.2794 25.5 31.8978 25.5 31.5C25.5 31.1022 25.342 30.7206 25.0607 30.4393C24.7794 30.158 24.3978 30 24 30C23.6022 30 23.2206 30.158 22.9393 30.4393C22.658 30.7206 22.5 31.1022 22.5 31.5C22.5 31.8978 22.658 32.2794 22.9393 32.5607C23.2206 32.842 23.6022 33 24 33Z\" fill=\"var(--color-accent)\"/>\n</svg>`\n    },\n    'search-mark': {\n      icon: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\" fill=\"none\">\n  <path d=\"M16.5 21.75C16.5 21.0606 16.6358 20.3779 16.8996 19.7409C17.1635 19.104 17.5502 18.5252 18.0377 18.0377C18.5252 17.5502 19.104 17.1635 19.7409 16.8996C20.3779 16.6358 21.0606 16.5 21.75 16.5C22.4394 16.5 23.1221 16.6358 23.7591 16.8996C24.396 17.1635 24.9748 17.5502 25.4623 18.0377C25.9498 18.5252 26.3365 19.104 26.6004 19.7409C26.8642 20.3779 27 21.0606 27 21.75C27 23.1424 26.4469 24.4777 25.4623 25.4623C24.4777 26.4469 23.1424 27 21.75 27C20.3576 27 19.0223 26.4469 18.0377 25.4623C17.0531 24.4777 16.5 23.1424 16.5 21.75Z\" fill=\"var(--color-accent)\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M24 4.5C13.23 4.5 4.5 13.23 4.5 24C4.5 34.77 13.23 43.5 24 43.5C34.77 43.5 43.5 34.77 43.5 24C43.5 13.23 34.77 4.5 24 4.5ZM21.75 13.5C20.4572 13.5003 19.1825 13.8043 18.0288 14.3877C16.8751 14.9711 15.8746 15.8175 15.1081 16.8585C14.3416 17.8996 13.8305 19.1063 13.616 20.3812C13.4015 21.6561 13.4896 22.9635 13.8732 24.1981C14.2569 25.4327 14.9253 26.5599 15.8246 27.4887C16.7238 28.4175 17.8288 29.1219 19.0504 29.5452C20.2719 29.9685 21.5759 30.0988 22.857 29.9256C24.1382 29.7524 25.3607 29.2805 26.426 28.548L30.44 32.56C30.5773 32.7074 30.7429 32.8256 30.9269 32.9076C31.1109 32.9895 31.3095 33.0336 31.511 33.0372C31.7124 33.0407 31.9124 33.0037 32.0992 32.9282C32.286 32.8528 32.4556 32.7405 32.5981 32.5981C32.7405 32.4556 32.8528 32.286 32.9282 32.0992C33.0037 31.9124 33.0407 31.7124 33.0372 31.511C33.0336 31.3095 32.9895 31.1109 32.9076 30.9269C32.8256 30.7429 32.7074 30.5773 32.56 30.44L28.548 26.426C29.4002 25.1873 29.8977 23.7392 29.9867 22.2383C30.0756 20.7373 29.7528 19.2406 29.0529 17.9099C28.353 16.5791 27.3028 15.4649 26.0157 14.6877C24.7286 13.9105 23.2536 13.4998 21.75 13.5Z\" fill=\"var(--color-accent)\"/>\n</svg>`\n    }\n  };\n  \n  const processedBlocks = [];\n  \n  // Process icon snippets (question-mark, exclamation-mark, search-mark)\n  for (let i = 0; i < allElements.length; i++) {\n    const element = allElements[i];\n    const text = element.textContent || '';\n    \n    // Check for icon snippet start: {{question-mark}}, {{exclamation-mark}}, {{search-mark}}\n    const iconStartMatch = text.match(/\\{\\{(question-mark|exclamation-mark|search-mark)\\}\\}/);\n    \n    if (iconStartMatch) {\n      const snippetType = iconStartMatch[1];\n      const endRegex = new RegExp(`\\\\{\\\\{/${snippetType}\\\\}\\\\}`);\n      \n      // Find the end marker\n      let endIndex = -1;\n      let endElement = null;\n      \n      for (let j = i; j < allElements.length; j++) {\n        const checkElement = allElements[j];\n        const checkText = checkElement.textContent || '';\n        const endMatch = checkText.match(endRegex);\n        \n        if (endMatch) {\n          endIndex = j;\n          endElement = checkElement;\n          break;\n        }\n      }\n      \n      if (endIndex !== -1 && endElement) {\n        // Create container\n        const container = document.createElement('div');\n        container.className = 'content-grid';\n        container.style.gridTemplateColumns = '4rem 1fr';\n        container.style.alignItems = 'center';\n        \n        // Create icon wrapper\n        const iconWrapper = document.createElement('div');\n        iconWrapper.innerHTML = snippetTypes[snippetType].icon;\n        container.appendChild(iconWrapper);\n        \n        // Create content wrapper\n        const contentWrapper = document.createElement('div');\n        \n        // Collect content between start and end\n        const contentElements = [];\n        \n        // Process start element\n        const startHTML = element.innerHTML || '';\n        const startHTMLMatch = startHTML.match(new RegExp(`\\\\{\\\\{${snippetType}\\\\}\\\\}\\\\s*(.+)`, 's'));\n        \n        if (startHTMLMatch && startHTMLMatch[1]) {\n          const remainingContent = startHTMLMatch[1].trim();\n          if (remainingContent) {\n            const tempDiv = document.createElement('div');\n            tempDiv.innerHTML = remainingContent;\n            while (tempDiv.firstChild) {\n              contentElements.push(tempDiv.firstChild);\n            }\n          }\n        }\n        \n        // Process middle elements\n        for (let k = i + 1; k < endIndex; k++) {\n          const middleElement = allElements[k];\n          if (middleElement && middleElement.parentNode) {\n            contentElements.push(middleElement.cloneNode(true));\n          }\n        }\n        \n        // Process end element\n        const endHTML = endElement.innerHTML || '';\n        const endHTMLMatch = endHTML.match(new RegExp(`(.+?)\\\\s*\\\\{\\\\{/${snippetType}\\\\}\\\\}`, 's'));\n        \n        if (endHTMLMatch && endHTMLMatch[1]) {\n          const beforeContent = endHTMLMatch[1].trim();\n          if (beforeContent) {\n            const tempDiv = document.createElement('div');\n            tempDiv.innerHTML = beforeContent;\n            while (tempDiv.firstChild) {\n              contentElements.push(tempDiv.firstChild);\n            }\n          }\n        }\n        \n        // Add all content to wrapper\n        contentElements.forEach(el => {\n          contentWrapper.appendChild(el);\n        });\n        \n        container.appendChild(contentWrapper);\n        \n        // Replace start element\n        element.replaceWith(container);\n        \n        // Remove middle and end elements\n        for (let k = i + 1; k <= endIndex; k++) {\n          const elementToRemove = allElements[k];\n          if (elementToRemove && elementToRemove.parentNode) {\n            elementToRemove.remove();\n          }\n        }\n        \n        processedBlocks.push({ start: i, end: endIndex });\n        i = endIndex;\n      } else {\n        console.warn(`[Content Snippets] ${snippetType} snippet started but no closing {{/${snippetType}}} found. Make sure to close all icon blocks.`);\n      }\n    }\n  }\n  \n  // Process grid snippets\n  // Reset allElements after icon processing\n  const remainingElements = Array.from(contentElement.children);\n  \n  for (let i = 0; i < remainingElements.length; i++) {\n    const element = remainingElements[i];\n    const text = element.textContent || '';\n    \n    // Check for grid start: {{grid: 2}}, {{grid: 3}}, {{grid: 1fr 1fr}}, etc.\n    const gridStartMatch = text.match(/\\{\\{grid:\\s*([^}]+)\\}\\}/);\n    \n    if (gridStartMatch) {\n      const gridValue = gridStartMatch[1].trim();\n      const endRegex = /\\{\\{\\/grid\\}\\}/;\n      \n      // Find the end marker\n      let endIndex = -1;\n      let endElement = null;\n      \n      for (let j = i; j < remainingElements.length; j++) {\n        const checkElement = remainingElements[j];\n        const checkText = checkElement.textContent || '';\n        const endMatch = checkText.match(endRegex);\n        \n        if (endMatch) {\n          endIndex = j;\n          endElement = checkElement;\n          break;\n        }\n      }\n      \n      if (endIndex !== -1 && endElement) {\n        // Create grid container\n        const container = document.createElement('div');\n        container.className = 'content-grid';\n        \n        // Set grid columns based on value\n        if (gridValue === '2') {\n          container.classList.add('col-2');\n        } else if (gridValue === '3') {\n          container.classList.add('col-3');\n        } else {\n          // Custom grid template (e.g., \"1fr 1fr\", \"1fr 2fr\", etc.)\n          container.style.gridTemplateColumns = gridValue;\n        }\n        \n        // Collect content between start and end\n        const contentElements = [];\n        \n        // Process start element\n        const startHTML = element.innerHTML || '';\n        const startHTMLMatch = startHTML.match(/\\{\\{grid:\\s*[^}]+\\}\\}\\s*(.+)/s);\n        \n        if (startHTMLMatch && startHTMLMatch[1]) {\n          const remainingContent = startHTMLMatch[1].trim();\n          if (remainingContent) {\n            const tempDiv = document.createElement('div');\n            tempDiv.innerHTML = remainingContent;\n            while (tempDiv.firstChild) {\n              contentElements.push(tempDiv.firstChild);\n            }\n          }\n        }\n        \n        // Process middle elements\n        for (let k = i + 1; k < endIndex; k++) {\n          const middleElement = remainingElements[k];\n          if (middleElement && middleElement.parentNode) {\n            contentElements.push(middleElement.cloneNode(true));\n          }\n        }\n        \n        // Process end element\n        const endHTML = endElement.innerHTML || '';\n        const endHTMLMatch = endHTML.match(/(.+?)\\s*\\{\\{\\/grid\\}\\}/s);\n        \n        if (endHTMLMatch && endHTMLMatch[1]) {\n          const beforeContent = endHTMLMatch[1].trim();\n          if (beforeContent) {\n            const tempDiv = document.createElement('div');\n            tempDiv.innerHTML = beforeContent;\n            while (tempDiv.firstChild) {\n              contentElements.push(tempDiv.firstChild);\n            }\n          }\n        }\n        \n        // Add all content to container\n        contentElements.forEach(el => {\n          container.appendChild(el);\n        });\n        \n        // Replace start element\n        element.replaceWith(container);\n        \n        // Remove middle and end elements\n        for (let k = i + 1; k <= endIndex; k++) {\n          const elementToRemove = remainingElements[k];\n          if (elementToRemove && elementToRemove.parentNode) {\n            elementToRemove.remove();\n          }\n        }\n        \n        i = endIndex;\n      } else {\n        console.warn(`[Content Snippets] Grid snippet started but no closing {{/grid}} found. Make sure to close all grid sections.`);\n      }\n    }\n  }\n}\n\n","// Content cleanup module\n// Removes elements with specific classes from post content\n\nexport function initContentCleanup() {\n  // Only initialize on post/page templates\n  const isPostPage = document.body.classList.contains('post-template') || \n                    document.body.classList.contains('page-template') ||\n                    document.querySelector('.gh-content');\n  \n  if (!isPostPage) return;\n\n  const contentElement = document.querySelector('.gh-content');\n  if (!contentElement) return;\n\n  // Remove elements with snippet-title class\n  const snippetTitles = contentElement.querySelectorAll('.snippet-title');\n  snippetTitles.forEach(element => {\n    element.remove();\n  });\n}\n\n"],"names":["setTheme","theme","document","documentElement","classList","remove","add","name","value","days","arguments","length","undefined","expires","Date","setTime","getTime","cookie","toUTCString","setCookie","initSecondaryDropdown","logoGroups","querySelectorAll","hideAllDropdowns","forEach","group","dropdown","querySelector","addEventListener","event","stopPropagation","isVisible","contains","toggleForGroup","Array","from","some","target","initMobileSidebar","sidebar","menuButton","openIcon","closeIcon","isOpen","toggleSidebar","open","toggle","body","style","display","e","preventDefault","key","bind","fn","thisArg","apply","window","factory","lazySizes","lazysizes","lazySizesCfg","prop","lazySizesDefaults","lazyClass","loadedClass","loadingClass","preloadClass","errorClass","autosizesClass","fastLoadedClass","iframeLoadMode","srcAttr","srcsetAttr","sizesAttr","minSize","customMedia","init","expFactor","hFac","loadMode","loadHidden","ricTimeout","throttleDelay","lazySizesConfig","lazysizesConfig","getElementsByClassName","cfg","noSupport","docElem","supportPicture","HTMLPictureElement","_addEventListener","_getAttribute","setTimeout","requestAnimationFrame","requestIdleCallback","regPicture","loadEvents","regClassCache","prototype","hasClass","ele","cls","RegExp","test","addClass","setAttribute","trim","removeClass","reg","replace","addRemoveLoadEvents","dom","action","evt","triggerEvent","elem","detail","noBubbles","noCancelable","createEvent","instance","initEvent","dispatchEvent","updatePolyfill","el","full","polyfill","picturefill","pf","src","reevaluate","elements","getCSS","getComputedStyle","getWidth","parent","width","offsetWidth","_lazysizesWidth","parentNode","rAF","firstFns","secondFns","fns","run","runFns","running","waiting","shift","rafBatch","queue","this","push","hidden","_lsFlush","rAFIt","simple","that","args","throttle","lastTime","gDelay","rICTimeout","now","idleCallback","timeout","isPriority","delay","debounce","func","timestamp","wait","later","last","loader","regImg","regIframe","supportScroll","navigator","userAgent","shrinkExpand","currentExpand","isLoading","lowRuns","resetPreloading","isBodyHidden","isNestedVisible","elemExpand","outerRect","visible","eLtop","eLbottom","eLleft","eLright","offsetParent","getBoundingClientRect","left","right","top","bottom","checkElements","eLlen","i","rect","autoLoadElem","loadedSomething","elemNegativeExpand","elemExpandVal","beforeExpandVal","defaultExpand","preloadExpand","lazyloadElems","_lazyRace","prematureUnveil","unveilElement","expand","clientHeight","clientWidth","_defEx","eLvW","innerWidth","elvH","innerHeight","isCompleted","preloadElems","preloadAfterLoad","throttledCheckElements","switchLoadingClass","_lazyCache","rafSwitchLoadingClass","rafedSwitchLoadingClass","changeIframeSrc","getAttribute","contentWindow","location","handleSources","source","sourceSrcset","lazyUnveil","isAuto","sizes","isImg","srcset","isPicture","firesLoad","defaultPrevented","nodeName","clearTimeout","resetPreloadingTimer","call","getElementsByTagName","isLoaded","complete","naturalWidth","loading","autoSizer","updateElem","afterScroll","altLoadmodeScrollListner","onload","started","_","persisted","loadingElements","img","MutationObserver","observe","childList","subtree","attributes","setInterval","readyState","checkElems","unveil","_aLSL","sizeElement","sources","len","dataAttr","getSizeElement","debouncedUpdateElementsSizes","autosizesElems","uP","aC","rC","hC","fire","gW","module","exports","isArray","getTag","INFINITY","toString","result","baseToString","isString","isNumber","isBoolean","isObject","isObjectLike","isDefined","isBlank","Object","MISSING_KEY_PROPERTY","INVALID_KEY_WEIGHT_VALUE","hasOwn","hasOwnProperty","KeyStore","constructor","keys","_keys","_keyMap","totalWeight","obj","createKey","id","weight","get","keyId","toJSON","JSON","stringify","path","getFn","createKeyPath","createKeyId","Error","split","join","Config","isCaseSensitive","ignoreDiacritics","includeScore","shouldSort","sortFn","a","b","score","idx","includeMatches","findAllMatches","minMatchCharLength","threshold","distance","useExtendedSearch","list","arr","deepGet","index","ignoreLocation","ignoreFieldNorm","fieldNormWeight","SPACE","FuseIndex","norm","mantissa","cache","Map","m","Math","pow","numTokens","match","has","n","parseFloat","round","set","clear","isCreated","setIndexRecords","setSources","docs","records","setKeys","_keysMap","create","doc","docIndex","_addString","_addObject","size","removeAt","splice","getValueForItemAtKeyId","item","record","v","$","keyIndex","subRecords","stack","nestedArrIndex","pop","subRecord","k","createIndex","myIndex","map","computeScore$1","pattern","errors","currentLocation","expectedLocation","accuracy","proximity","abs","MAX_BITS","search","text","patternAlphabet","patternLen","textLen","max","min","currentThreshold","bestLocation","computeMatches","matchMask","indexOf","lastBitArr","finalScore","binMax","mask","binMin","binMid","floor","start","finish","bitArr","j","charMatch","charAt","isMatch","indices","matchmask","end","convertMaskToIndices","createPatternAlphabet","char","stripDiacritics","String","normalize","str","BitapSearch","options","toLowerCase","chunks","addChunk","startIndex","alphabet","remainder","substr","searchIn","allIndices","totalScore","hasMatches","BaseMatch","static","getMatch","multiRegex","singleRegex","exp","matches","FuzzyMatch","super","_bitapSearch","type","IncludeMatch","searchers","startsWith","endsWith","searchersLen","SPACE_RE","MultiMatchSet","Set","ExtendedSearch","query","filter","results","queryItem","found","searcher","token","isMultiMatch","isSingleMatch","parseQuery","numMatches","qLen","pLen","registeredSearchers","createSearcher","searcherClass","condition","LogicalOperator","KeyType","isExpression","convertToExplicit","LogicalOperator_AND","parse","auto","next","isQueryPath","isPath","isLeaf","LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY","node","children","operator","transformMatches","data","refIndex","transformScore","Fuse","_keyStore","setCollection","_docs","_myIndex","predicate","getIndex","limit","_searchStringList","_searchObjectList","_searchLogical","Number","EPSILON","computeScore","sort","slice","transformers","transformer","format","expression","evaluate","_findMatches","res","child","resultMap","expResults","version","parseIndex","config","register","YouTubeSearch","apiKey","channelId","isInitialized","allPlaylists","allVideos","videosLoaded","async","includes","console","warn","loadAllVideos","playlistsUrl","playlistsResponse","fetch","playlistsData","json","error","items","pl","title","snippet","videoPromises","playlist","loadPlaylistVideos","videosArrays","Promise","all","flat","playlistId","playlistTitle","pageToken","url","response","videos","status","privacyStatus","contentDetails","videoId","resourceId","description","publishedAt","thumbnail","thumbnails","maxres","standard","high","medium","concat","nextPageToken","maxResults","queryLower","matchingVideos","video","titleMatch","descMatch","aTitleMatch","bTitleMatch","formatResults","default","channelTitle","renderSearchResult","playlistTag","date","dateStr","toLocaleDateString","month","day","year","substring","toISOString","GhostSearch","api","fuse","deepFuse","posts","deepPosts","searchInput","resultsContainer","searchTimeout","debounceDelay","youtubeSearch","enableYouTube","isDeep","deepSwitch","searchContainer","apiUrl","origin","contentKey","GhostContentAPI","resultsTitle","youtubeApiKey","youtubeChannelId","setupEventListeners","performSearch","btn","initializeDeepFuse","q","browse","include","formats","p","plaintext","loadPosts","loadDeepPosts","showEmptyState","showLoadingState","performCombinedSearch","initializeFuse","showErrorState","displayResults","showResults","hideResultsTitle","innerHTML","hideResults","showResultsTitle","html","post","featureImage","feature_image","primaryTag","primary_tag","readingTime","reading_time","excerpt","custom_excerpt","published_at","log","ghostResults","formattedYoutubeResults","allResults","displayCombinedResults","initSearchBarButton","openBtn","closeBtn","searchPopup","closeSearch","input","focus","openSearch","findAnnouncementBar","announcementBar","closest","contentElement","bodyChildren","textContent","possibleBars","bar","processAnnouncementBar","originalText","colorMap","green","hex","rgb","background","yellow","colorTagRegex","colorMatch","selectedColor","colorName","color","colorSnippetRegex","matchAll","coloredText","fullMatch","styledText","span","fontSize","fontStyle","fontWeight","lineHeight","letterSpacing","margin","BuildHtml","SPACE_CHAR","tocElement","currentlyHighlighting","eventCount","createEl","d","container","link","appendChild","createElement","listItemClass","onClick","onclick","includeTitleTags","includeHtml","childNodes","cloneNode","basePath","linkClass","extraLinkClasses","createLink","createList","isCollapsed","listElement","orderedList","classes","listClass","extraListClasses","collapsibleClass","isCollapsedClass","getHeadingTopPos","position","offsetTop","hasInnerContainers","updateClassname","className","removeCollapsedFromParents","element","getIsHeaderBottomMode","headerId","scrollEl","getScrollEl","activeHeading","getElementById","offsetHeight","bottomModeThreshold","getIsPageBottomMode","isScrollable","scrollHeight","isBottomMode","getScrollTop","scrollContainer","scrollTop","getTopHeader","headings","topHeader","heading","headingsOffset","enableTocAnimation","disableTocAnimation","srcElement","render","firstChild","removeChild","updateToc","headingsArray","positionFixedSelector","posFixedEl","fixedSidebarOffset","positionFixedClass","updateFixedSidebarClass","clickedHref","oldActiveTocLink","activeLinkClass","topHeaderId","hashId","hash","activeId","isPageBottomMode","activeTocLink","tocLinks","tocLink","tocLis","tocLi","activeListItemClass","li","tocLists","nextSibling","getCurrentlyHighlighting","updateUrlHashForHeader","newHash","history","pushState","defaultOptions","tocSelector","contentSelector","headingSelector","ignoreSelector","collapseDepth","scrollSmooth","scrollSmoothDuration","scrollSmoothOffset","scrollEndCallback","enableUrlHashUpdateOnScroll","scrollHandlerType","scrollHandlerTimeout","throttleTimeout","skipRendering","headingLabelCallback","ignoreHiddenElements","headingObjectCallback","disableTocScrollSync","tocScrollingWrapper","tocScrollOffset","parseContent","reduce","getLastItem","array","getHeadingLevel","toUpperCase","getHeadingObject","maybeElement","HTMLElement","isHTMLElement","headingLabel","innerText","headingLevel","nestHeadingsArray","prev","curr","currentHeading","nest","level","lastItem","counter","addNode","selectHeadings","selectors","selector","initSmoothScrolling","duration","offset","pageUrl","stripHash","href","tagName","timeStart","timeElapsed","pageYOffset","opt","callback","easing","easeInOutQuad","tgt","decodeURI","loop","time","scrollTo","t","c","jump","tabIndex","lastIndexOf","_buildHtml","_parseContent","_headingsArray","_scrollListener","clickListener","_options","customOptions","hasInitialized","hasOwnProp","extend","ParseContent","destroy","getContentElement","getTocElement","nestedHeadings","isClick","getScrollHandler","toc","activeItem","scrollAmount","updateTocScroll","isTop","scrollingElement","eventPhase","currentTarget","onhashchange","onscrollend","removeEventListener","scope","deferTimer","context","tocbot","refresh","s","l","u","f","g","captions","buttons","fullScreen","noScrollbars","bodyClass","titleTag","preload","animation","afterShow","afterHide","onChange","overlayBackgroundColor","closeX","leftArrow","rightArrow","h","o","y","w","r","x","M","E","cancelBubble","C","Y","B","T","count","multitouch","startX","changedTouches","pageX","startY","pageY","A","returnValue","touches","L","N","S","I","H","galleries","W","imageElement","eventHandler","P","keyCode","D","F","transition","webkitTransition","backgroundColor","J","overflowY","U","X","z","V","R","requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","activeElement","fullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","dataset","isNaN","parseInt","devicePixelRatio","alt","O","opacity","transforms","transform","webkitTransform","attachEvent","detachEvent","G","perspective","webkitPerspective","svg","namespaceURI","passiveEvents","defineProperty","passive","nodeList","ignoreClass","show","showNext","showPrevious","hide","SMALL_WORDS","TOKENS","WHITESPACE","IS_MANUAL_CASE","ALPHANUMERIC_PATTERN","TitleCaseProcessor","processedHeadings","convertToTitleCase","convertedText","exec","titleCase","processHeadings","contentContainer","processedCount","CardSymbolProcessor","cardSymbols","cardColorClasses","getCardColorClass","symbol","processCardSymbols","walker","createTreeWalker","NodeFilter","SHOW_TEXT","acceptNode","parentElement","FILTER_REJECT","FILTER_ACCEPT","textNodes","nextNode","textNode","hasCardSymbol","fragment","createDocumentFragment","lastIndex","modified","foundSymbol","symbolLength","charBeforeIndex","charBefore","beforeCharText","createTextNode","beforeText","cardColorClass","charSpan","middleText","symbolSpan","replaceChild","CardsListManager","GhostConfig","sections","section","scenario","manager","createScenarioManager","ArticlesCardsManager","VideosCardsManager","MixedCardsManager","AuthorCardsManager","BaseCardsManager","cardType","cardClass","infiniteScroll","articlesContainer","filterList","currentPage","hasMorePosts","allPosts","loadInitialContent","setupInfiniteScroll","checkAndLoadMoreIfNeeded","loadMorePosts","scrollHandler","handleScroll","renderCard","primaryTagName","tagHtml","renderPosts","append","insertAdjacentHTML","types","filterByAuthors","selectedFormats","selectedTypes","selectedAuthors","allFormats","allTypes","allAuthors","button","handleFilterClick","setupFilterPopup","preloadFilterData","promises","loadFormats","loadTypes","loadAuthors","tags","tag","slug","renderFormatsList","formatsList","isSelected","selected","filterButton","popup","togglePopup","handleFilterChange","resetButton","resetAllFilters","popupContainer","closePopup","loadFilterData","updateFilterButton","renderTypesList","renderAuthorsList","checkbox","checked","updateMainFormatButtons","loadPostsByTag","typeSlugs","authorsMap","authors","author","values","typesList","authorsList","find","updatePopupCheckboxes","formatCheckboxes","formatSlug","typeCheckboxes","typeSlug","authorCheckboxes","authorSlug","page","formatFilter","typeFilter","authorSlugs","authorFilter","existingIds","newPosts","activeButton","currentSlug","buttonText","filterIcon","selectedPlaylists","videoCache","playlistPageTokens","playlistExhausted","displayedVideoIds","videoBuffer","isInitialLoad","loadPlaylists","renderPlaylistButtons","loadVideos","itemCount","topPlaylists","allButton","playlistsToKeep","delete","hasMore","fetchYouTubeVideos","hasLoading","renderVideoCard","prefetchMoreVideos","catch","err","playlist_title","playlist_id","cached","fetchPlaylistVideos","unique","seen","perPage","playlistIds","hasUnshownInCache","playlistsToFetch","fetchPromises","ensurePlaylistVideosLoaded","uniqueVideos","seenIds","availableVideos","hasMoreAvailable","hasMoreVideosAvailable","videosToShow","activePlaylists","newVideos","uniqueNewVideos","resetInfiniteScrollState","hasAttribute","handlePlaylistChange","renderPlaylistsInPopup","titleEls","typesCol","authorsCol","boxes","updateMainPlaylistButtons","isVideosMode","originalViewAllHref","switchMode","articlesButton","renderFormatButtons","viewAllButton","updateViewAllButton","newHref","mode","skipContentLoad","modeButtons","handleVideoFilterClick","handleArticleFilterClick","restorePopupForArticles","updateMainButtons","allTags","loadAuthorTags","tagsMap","renderTagButtons","initSimpleInfiniteScroll","tagSlug","batchSize","initiallyRendered","ceil","renderedIds","renderDefaultCard","loadNext","initFootnotes","footnotesMap","allElements","startRegex","endRegex","startMatch","tooltipKey","endIndex","endElement","checkElement","contentParts","elementsToRemove","startHTML","startHTMLMatch","remainingContent","updatedHTML","middleElement","outerHTML","endHTML","endHTMLMatch","beforeContent","tooltipContent","referenceRegex","tooltipId","tooltipTitle","allReferences","ref","tooltipRefs","popover","resizeTimeout","activeRef","hideTimeout","showTimeout","showPopover","hidePopover","positionPopover","scrollY","scrollX","popoverWidth","viewportWidth","visibility","popoverHeight","handleResize","matchMedia","initFootnotesPopover","savedTheme","nameEQ","ca","getCookie","initTheme","themeToggles","toggleEl","newTheme","handleThemeToggle","currentPath","pathname","sidebarLinks","listItem","linkPath","isPathActive","initActiveNavigation","initSearch","observer","mutations","disconnect","initAnnouncementProcessor","initTOC","tocHeader","tocContent","arrowIcon","isHidden","initTOCAccordion","getFullSizeImageUrl","imgSrc","fullSizeUrl","imageSrc","cursor","maxWidth","insertBefore","baguetteBox","initPostImagesLightbox","colorRegex","colorValue","initColorProcessor","contentElements","tempDiv","answers","correctRegex","wrongRegex","contentEl","contentText","correctMatch","answerText","wrongMatch","header","headerText","headerIcon","answersContainer","answer","answerItem","replaceWith","insertAdjacentElement","isExpanded","initRevealAnswer","toggleBlocks","toggleTitle","startElement","block","reverse","elementToRemove","initToggle","paragraphs","quoteAuthorRegex","paragraph","authorName","previousElement","previousElementSibling","blockquote","parentSibling","blockquoteInSibling","authorElement","authorText","paragraphHTML","htmlMatch","initQuoteAuthor","snippetTypes","icon","iconStartMatch","snippetType","gridTemplateColumns","alignItems","iconWrapper","contentWrapper","remainingElements","gridStartMatch","gridValue","initContentSnippets","initContentCleanup"],"mappings":"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","x_google_ignoreList":[3,4,5,9,10,11,12,13,14,15,16,17]}